function VC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var HC={exports:{}},hp={},KC={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),VI=Symbol.for("react.portal"),HI=Symbol.for("react.fragment"),KI=Symbol.for("react.strict_mode"),qI=Symbol.for("react.profiler"),GI=Symbol.for("react.provider"),ZI=Symbol.for("react.context"),XI=Symbol.for("react.forward_ref"),YI=Symbol.for("react.suspense"),JI=Symbol.for("react.memo"),QI=Symbol.for("react.lazy"),l_=Symbol.iterator;function e2(t){return t===null||typeof t!="object"?null:(t=l_&&t[l_]||t["@@iterator"],typeof t=="function"?t:null)}var qC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GC=Object.assign,ZC={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=ZC,this.updater=n||qC}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XC(){}XC.prototype=Xa.prototype;function Ob(t,e,n){this.props=t,this.context=e,this.refs=ZC,this.updater=n||qC}var Eb=Ob.prototype=new XC;Eb.constructor=Ob;GC(Eb,Xa.prototype);Eb.isPureReactComponent=!0;var u_=Array.isArray,YC=Object.prototype.hasOwnProperty,kb={current:null},JC={key:!0,ref:!0,__self:!0,__source:!0};function QC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)YC.call(e,r)&&!JC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wc,type:t,key:s,ref:o,props:i,_owner:kb.current}}function t2(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function n2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c_=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n2(""+t.key):e.toString(36)}function hf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wc:case VI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Im(o,0):r,u_(i)?(n="",t!=null&&(n=t.replace(c_,"$&/")+"/"),hf(i,e,n,"",function(u){return u})):i!=null&&(Pb(i)&&(i=t2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(c_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",u_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Im(s,a);o+=hf(s,e,n,l,i)}else if(l=e2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Im(s,a++),o+=hf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dh(t,e,n){if(t==null)return t;var r=[],i=0;return hf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function r2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},ff={transition:null},i2={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:ff,ReactCurrentOwner:kb};function e$(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:dh,forEach:function(t,e,n){dh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dh(t,function(){e++}),e},toArray:function(t){return dh(t,function(e){return e})||[]},only:function(t){if(!Pb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Xa;Ce.Fragment=HI;Ce.Profiler=qI;Ce.PureComponent=Ob;Ce.StrictMode=KI;Ce.Suspense=YI;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2;Ce.act=e$;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YC.call(e,l)&&!JC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:ZI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GI,_context:t},t.Consumer=t};Ce.createElement=QC;Ce.createFactory=function(t){var e=QC.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:XI,render:t}};Ce.isValidElement=Pb;Ce.lazy=function(t){return{$$typeof:QI,_payload:{_status:-1,_result:t},_init:r2}};Ce.memo=function(t,e){return{$$typeof:JI,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=ff.transition;ff.transition={};try{t()}finally{ff.transition=e}};Ce.unstable_act=e$;Ce.useCallback=function(t,e){return mn.current.useCallback(t,e)};Ce.useContext=function(t){return mn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return mn.current.useEffect(t,e)};Ce.useId=function(){return mn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return mn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Ce.useRef=function(t){return mn.current.useRef(t)};Ce.useState=function(t){return mn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return mn.current.useTransition()};Ce.version="18.3.1";KC.exports=Ce;var C=KC.exports;const M=We(C),s2=VC({__proto__:null,default:M},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=C,a2=Symbol.for("react.element"),l2=Symbol.for("react.fragment"),u2=Object.prototype.hasOwnProperty,c2=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h2={key:!0,ref:!0,__self:!0,__source:!0};function t$(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)u2.call(e,r)&&!h2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:a2,type:t,key:s,ref:o,props:i,_owner:c2.current}}hp.Fragment=l2;hp.jsx=t$;hp.jsxs=t$;HC.exports=hp;var w=HC.exports,bg={},n$={exports:{}},Fn={},r$={exports:{}},i$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var F=N.length;N.push(L);e:for(;0<F;){var j=F-1>>>1,I=N[j];if(0<i(I,L))N[j]=L,N[F]=I,F=j;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],F=N.pop();if(F!==L){N[0]=F;e:for(var j=0,I=N.length,V=I>>>1;j<V;){var te=2*(j+1)-1,ie=N[te],de=te+1,$e=N[de];if(0>i(ie,F))de<I&&0>i($e,ie)?(N[j]=$e,N[de]=F,j=de):(N[j]=ie,N[te]=F,j=te);else if(de<I&&0>i($e,F))N[j]=$e,N[de]=F,j=de;else break e}}return L}function i(N,L){var F=N.sortIndex-L.sortIndex;return F!==0?F:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,c=null,f=3,d=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function O(N){if(m=!1,g(N),!p)if(n(l)!==null)p=!0,W(x);else{var L=n(u);L!==null&&B(O,L.startTime-N)}}function x(N,L){p=!1,m&&(m=!1,y(S),S=-1),d=!0;var F=f;try{for(g(L),c=n(l);c!==null&&(!(c.expirationTime>L)||N&&!$());){var j=c.callback;if(typeof j=="function"){c.callback=null,f=c.priorityLevel;var I=j(c.expirationTime<=L);L=t.unstable_now(),typeof I=="function"?c.callback=I:c===n(l)&&r(l),g(L)}else r(l);c=n(l)}if(c!==null)var V=!0;else{var te=n(u);te!==null&&B(O,te.startTime-L),V=!1}return V}finally{c=null,f=F,d=!1}}var E=!1,_=null,S=-1,k=5,P=-1;function $(){return!(t.unstable_now()-P<k)}function T(){if(_!==null){var N=t.unstable_now();P=N;var L=!0;try{L=_(!0,N)}finally{L?R():(E=!1,_=null)}}else E=!1}var R;if(typeof v=="function")R=function(){v(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=T,R=function(){U.postMessage(null)}}else R=function(){b(T,0)};function W(N){_=N,E||(E=!0,R())}function B(N,L){S=b(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,W(x))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return N()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=f;f=N;try{return L()}finally{f=F}},t.unstable_scheduleCallback=function(N,L,F){var j=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?j+F:j):F=j,N){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=F+I,N={id:h++,callback:L,priorityLevel:N,startTime:F,expirationTime:I,sortIndex:-1},F>j?(N.sortIndex=F,e(u,N),n(l)===null&&N===n(u)&&(m?(y(S),S=-1):m=!0,B(O,F-j))):(N.sortIndex=I,e(l,N),p||d||(p=!0,W(x))),N},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(N){var L=f;return function(){var F=f;f=L;try{return N.apply(this,arguments)}finally{f=F}}}})(i$);r$.exports=i$;var f2=r$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=C,Dn=f2;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s$=new Set,Cu={};function fo(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(Cu[t]=e,t=0;t<e.length;t++)s$.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,p2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h_={},f_={};function m2(t){return wg.call(f_,t)?!0:wg.call(h_,t)?!1:p2.test(t)?f_[t]=!0:(h_[t]=!0,!1)}function v2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g2(t,e,n,r){if(e===null||typeof e>"u"||v2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jt[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jt[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jt[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cb=/[\-:]([a-z])/g;function $b(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cb,$b);Jt[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cb,$b);Jt[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cb,$b);Jt[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jt[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tb(t,e,n,r){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g2(e,n,i,r)&&(n=null),r||i===null?m2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),jb=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),o$=Symbol.for("react.provider"),a$=Symbol.for("react.context"),Ab=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),Sg=Symbol.for("react.suspense_list"),Nb=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),l$=Symbol.for("react.offscreen"),d_=Symbol.iterator;function Ol(t){return t===null||typeof t!="object"?null:(t=d_&&t[d_]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Lm;function Gl(t){if(Lm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lm=e&&e[1]||""}return`
`+Lm+t}var Dm=!1;function zm(t,e){if(!t||Dm)return"";Dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gl(t):""}function y2(t){switch(t.tag){case 5:return Gl(t.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return t=zm(t.type,!1),t;case 11:return t=zm(t.type.render,!1),t;case 1:return t=zm(t.type,!0),t;default:return""}}function Og(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case Wo:return"Portal";case xg:return"Profiler";case jb:return"StrictMode";case _g:return"Suspense";case Sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a$:return(t.displayName||"Context")+".Consumer";case o$:return(t._context.displayName||"Context")+".Provider";case Ab:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nb:return e=t.displayName||null,e!==null?e:Og(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return Og(t(e))}catch{}}return null}function b2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Og(e);case 8:return e===jb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w2(t){var e=u$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=w2(t))}function c$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eg(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function p_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h$(t,e){e=e.checked,e!=null&&Tb(t,"checked",e,!1)}function kg(t,e){h$(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pg(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pg(t,e,n){(e!=="number"||Pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function aa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Zl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function f$(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,p$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x2=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){x2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function m$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function v$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=m$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _2=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tg(t,e){if(e){if(_2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=null;function Mb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ng=null,la=null,ua=null;function y_(t){if(t=Kc(t)){if(typeof Ng!="function")throw Error(J(280));var e=t.stateNode;e&&(e=vp(e),Ng(t.stateNode,t.type,e))}}function g$(t){la?ua?ua.push(t):ua=[t]:la=t}function y$(){if(la){var t=la,e=ua;if(ua=la=null,y_(t),e)for(t=0;t<e.length;t++)y_(e[t])}}function b$(t,e){return t(e)}function w$(){}var Fm=!1;function x$(t,e,n){if(Fm)return t(e,n);Fm=!0;try{return b$(t,e,n)}finally{Fm=!1,(la!==null||ua!==null)&&(w$(),y$())}}function Tu(t,e){var n=t.stateNode;if(n===null)return null;var r=vp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Mg=!1;if(ui)try{var El={};Object.defineProperty(El,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Mg=!1}function S2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ru=!1,Cf=null,$f=!1,Rg=null,O2={onError:function(t){ru=!0,Cf=t}};function E2(t,e,n,r,i,s,o,a,l){ru=!1,Cf=null,S2.apply(O2,arguments)}function k2(t,e,n,r,i,s,o,a,l){if(E2.apply(this,arguments),ru){if(ru){var u=Cf;ru=!1,Cf=null}else throw Error(J(198));$f||($f=!0,Rg=u)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b_(t){if(po(t)!==t)throw Error(J(188))}function P2(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b_(i),t;if(s===r)return b_(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function S$(t){return t=P2(t),t!==null?O$(t):null}function O$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O$(t);if(e!==null)return e;t=t.sibling}return null}var E$=Dn.unstable_scheduleCallback,w_=Dn.unstable_cancelCallback,C2=Dn.unstable_shouldYield,$2=Dn.unstable_requestPaint,wt=Dn.unstable_now,T2=Dn.unstable_getCurrentPriorityLevel,Rb=Dn.unstable_ImmediatePriority,k$=Dn.unstable_UserBlockingPriority,Tf=Dn.unstable_NormalPriority,j2=Dn.unstable_LowPriority,P$=Dn.unstable_IdlePriority,fp=null,Lr=null;function A2(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(fp,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:R2,N2=Math.log,M2=Math.LN2;function R2(t){return t>>>=0,t===0?32:31-(N2(t)/M2|0)|0}var gh=64,yh=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xl(a):(s&=o,s!==0&&(r=Xl(s)))}else o=n&~i,o!==0?r=Xl(o):s!==0&&(r=Xl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),i=1<<n,r|=t[n],e&=~i;return r}function I2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=I2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function C$(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function Bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function D2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ib(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function $$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T$,Lb,j$,A$,N$,Lg=!1,bh=[],Vi=null,Hi=null,Ki=null,ju=new Map,Au=new Map,Ni=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(e.pointerId)}}function kl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Kc(e),e!==null&&Lb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function F2(t,e,n,r,i){switch(e){case"focusin":return Vi=kl(Vi,t,e,n,r,i),!0;case"dragenter":return Hi=kl(Hi,t,e,n,r,i),!0;case"mouseover":return Ki=kl(Ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ju.set(s,kl(ju.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Au.set(s,kl(Au.get(s)||null,t,e,n,r,i)),!0}return!1}function M$(t){var e=Ns(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=_$(n),e!==null){t.blockedOn=e,N$(t.priority,function(){j$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function df(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ag=r,n.target.dispatchEvent(r),Ag=null}else return e=Kc(n),e!==null&&Lb(e),t.blockedOn=n,!1;e.shift()}return!0}function __(t,e,n){df(t)&&n.delete(e)}function B2(){Lg=!1,Vi!==null&&df(Vi)&&(Vi=null),Hi!==null&&df(Hi)&&(Hi=null),Ki!==null&&df(Ki)&&(Ki=null),ju.forEach(__),Au.forEach(__)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lg||(Lg=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,B2)))}function Nu(t){function e(i){return Pl(i,t)}if(0<bh.length){Pl(bh[0],t);for(var n=1;n<bh.length;n++){var r=bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Pl(Vi,t),Hi!==null&&Pl(Hi,t),Ki!==null&&Pl(Ki,t),ju.forEach(e),Au.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)M$(n),n.blockedOn===null&&Ni.shift()}var ca=gi.ReactCurrentBatchConfig,Af=!0;function U2(t,e,n,r){var i=Ue,s=ca.transition;ca.transition=null;try{Ue=1,Db(t,e,n,r)}finally{Ue=i,ca.transition=s}}function W2(t,e,n,r){var i=Ue,s=ca.transition;ca.transition=null;try{Ue=4,Db(t,e,n,r)}finally{Ue=i,ca.transition=s}}function Db(t,e,n,r){if(Af){var i=Dg(t,e,n,r);if(i===null)Ym(t,e,r,Nf,n),x_(t,r);else if(F2(i,t,e,n,r))r.stopPropagation();else if(x_(t,r),e&4&&-1<z2.indexOf(t)){for(;i!==null;){var s=Kc(i);if(s!==null&&T$(s),s=Dg(t,e,n,r),s===null&&Ym(t,e,r,Nf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ym(t,e,r,null,n)}}var Nf=null;function Dg(t,e,n,r){if(Nf=null,t=Mb(r),t=Ns(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function R$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case Rb:return 1;case k$:return 4;case Tf:case j2:return 16;case P$:return 536870912;default:return 16}default:return 16}}var Li=null,zb=null,pf=null;function I$(){if(pf)return pf;var t,e=zb,n=e.length,r,i="value"in Li?Li.value:Li.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pf=i.slice(t,1<r?1-r:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wh(){return!0}function S_(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wh:S_,this.isPropagationStopped=S_,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fb=Bn(Ya),Hc=ft({},Ya,{view:0,detail:0}),V2=Bn(Hc),Um,Wm,Cl,dp=ft({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(Um=t.screenX-Cl.screenX,Wm=t.screenY-Cl.screenY):Wm=Um=0,Cl=t),Um)},movementY:function(t){return"movementY"in t?t.movementY:Wm}}),O_=Bn(dp),H2=ft({},dp,{dataTransfer:0}),K2=Bn(H2),q2=ft({},Hc,{relatedTarget:0}),Vm=Bn(q2),G2=ft({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Z2=Bn(G2),X2=ft({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y2=Bn(X2),J2=ft({},Ya,{data:0}),E_=Bn(J2),Q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tL[t])?!!e[t]:!1}function Bb(){return nL}var rL=ft({},Hc,{key:function(t){if(t.key){var e=Q2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bb,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iL=Bn(rL),sL=ft({},dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=Bn(sL),oL=ft({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bb}),aL=Bn(oL),lL=ft({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),uL=Bn(lL),cL=ft({},dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=Bn(cL),fL=[9,13,27,32],Ub=ui&&"CompositionEvent"in window,iu=null;ui&&"documentMode"in document&&(iu=document.documentMode);var dL=ui&&"TextEvent"in window&&!iu,L$=ui&&(!Ub||iu&&8<iu&&11>=iu),P_=" ",C_=!1;function D$(t,e){switch(t){case"keyup":return fL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function pL(t,e){switch(t){case"compositionend":return z$(e);case"keypress":return e.which!==32?null:(C_=!0,P_);case"textInput":return t=e.data,t===P_&&C_?null:t;default:return null}}function mL(t,e){if(Ho)return t==="compositionend"||!Ub&&D$(t,e)?(t=I$(),pf=zb=Li=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L$&&e.locale!=="ko"?null:e.data;default:return null}}var vL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vL[t.type]:e==="textarea"}function F$(t,e,n,r){g$(r),e=Mf(e,"onChange"),0<e.length&&(n=new Fb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,Mu=null;function gL(t){Y$(t,0)}function pp(t){var e=Go(t);if(c$(e))return t}function yL(t,e){if(t==="change")return e}var B$=!1;if(ui){var Hm;if(ui){var Km="oninput"in document;if(!Km){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Km=typeof T_.oninput=="function"}Hm=Km}else Hm=!1;B$=Hm&&(!document.documentMode||9<document.documentMode)}function j_(){su&&(su.detachEvent("onpropertychange",U$),Mu=su=null)}function U$(t){if(t.propertyName==="value"&&pp(Mu)){var e=[];F$(e,Mu,t,Mb(t)),x$(gL,e)}}function bL(t,e,n){t==="focusin"?(j_(),su=e,Mu=n,su.attachEvent("onpropertychange",U$)):t==="focusout"&&j_()}function wL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(Mu)}function xL(t,e){if(t==="click")return pp(e)}function _L(t,e){if(t==="input"||t==="change")return pp(e)}function SL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:SL;function Ru(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wg.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function A_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N_(t,e){var n=A_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A_(n)}}function W$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V$(){for(var t=window,e=Pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pf(t.document)}return e}function Wb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OL(t){var e=V$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W$(n.ownerDocument.documentElement,n)){if(r!==null&&Wb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N_(n,s);var o=N_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EL=ui&&"documentMode"in document&&11>=document.documentMode,Ko=null,zg=null,ou=null,Fg=!1;function M_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fg||Ko==null||Ko!==Pf(r)||(r=Ko,"selectionStart"in r&&Wb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Ru(ou,r)||(ou=r,r=Mf(zg,"onSelect"),0<r.length&&(e=new Fb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function xh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},qm={},H$={};ui&&(H$=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function mp(t){if(qm[t])return qm[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H$)return qm[t]=e[n];return t}var K$=mp("animationend"),q$=mp("animationiteration"),G$=mp("animationstart"),Z$=mp("transitionend"),X$=new Map,R_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){X$.set(t,e),fo(e,[t])}for(var Gm=0;Gm<R_.length;Gm++){var Zm=R_[Gm],kL=Zm.toLowerCase(),PL=Zm[0].toUpperCase()+Zm.slice(1);as(kL,"on"+PL)}as(K$,"onAnimationEnd");as(q$,"onAnimationIteration");as(G$,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(Z$,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function I_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k2(r,e,void 0,t),t.currentTarget=null}function Y$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;I_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;I_(i,a,u),s=l}}}if($f)throw t=Rg,$f=!1,Rg=null,t}function et(t,e){var n=e[Hg];n===void 0&&(n=e[Hg]=new Set);var r=t+"__bubble";n.has(r)||(J$(e,t,2,!1),n.add(r))}function Xm(t,e,n){var r=0;e&&(r|=4),J$(n,t,r,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[_h]){t[_h]=!0,s$.forEach(function(n){n!=="selectionchange"&&(CL.has(n)||Xm(n,!1,t),Xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Xm("selectionchange",!1,e))}}function J$(t,e,n,r){switch(R$(e)){case 1:var i=U2;break;case 4:i=W2;break;default:i=Db}n=i.bind(null,e,n,t),i=void 0,!Mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ym(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}x$(function(){var u=s,h=Mb(n),c=[];e:{var f=X$.get(t);if(f!==void 0){var d=Fb,p=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":d=iL;break;case"focusin":p="focus",d=Vm;break;case"focusout":p="blur",d=Vm;break;case"beforeblur":case"afterblur":d=Vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=O_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=K2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=aL;break;case K$:case q$:case G$:d=Z2;break;case Z$:d=uL;break;case"scroll":d=V2;break;case"wheel":d=hL;break;case"copy":case"cut":case"paste":d=Y2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=k_}var m=(e&4)!==0,b=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,g;v!==null;){g=v;var O=g.stateNode;if(g.tag===5&&O!==null&&(g=O,y!==null&&(O=Tu(v,y),O!=null&&m.push(Lu(v,O,g)))),b)break;v=v.return}0<m.length&&(f=new d(f,p,null,n,h),c.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Ag&&(p=n.relatedTarget||n.fromElement)&&(Ns(p)||p[ci]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Ns(p):null,p!==null&&(b=po(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=O_,O="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=k_,O="onPointerLeave",y="onPointerEnter",v="pointer"),b=d==null?f:Go(d),g=p==null?f:Go(p),f=new m(O,v+"leave",d,n,h),f.target=b,f.relatedTarget=g,O=null,Ns(h)===u&&(m=new m(y,v+"enter",p,n,h),m.target=g,m.relatedTarget=b,O=m),b=O,d&&p)t:{for(m=d,y=p,v=0,g=m;g;g=ko(g))v++;for(g=0,O=y;O;O=ko(O))g++;for(;0<v-g;)m=ko(m),v--;for(;0<g-v;)y=ko(y),g--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=ko(m),y=ko(y)}m=null}else m=null;d!==null&&L_(c,f,d,m,!1),p!==null&&b!==null&&L_(c,b,p,m,!0)}}e:{if(f=u?Go(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var x=yL;else if($_(f))if(B$)x=_L;else{x=wL;var E=bL}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=xL);if(x&&(x=x(t,u))){F$(c,x,n,h);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Pg(f,"number",f.value)}switch(E=u?Go(u):window,t){case"focusin":($_(E)||E.contentEditable==="true")&&(Ko=E,zg=u,ou=null);break;case"focusout":ou=zg=Ko=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,M_(c,n,h);break;case"selectionchange":if(EL)break;case"keydown":case"keyup":M_(c,n,h)}var _;if(Ub)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ho?D$(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(L$&&n.locale!=="ko"&&(Ho||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ho&&(_=I$()):(Li=h,zb="value"in Li?Li.value:Li.textContent,Ho=!0)),E=Mf(u,S),0<E.length&&(S=new E_(S,t,null,n,h),c.push({event:S,listeners:E}),_?S.data=_:(_=z$(n),_!==null&&(S.data=_)))),(_=dL?pL(t,n):mL(t,n))&&(u=Mf(u,"onBeforeInput"),0<u.length&&(h=new E_("onBeforeInput","beforeinput",null,n,h),c.push({event:h,listeners:u}),h.data=_))}Y$(c,e)})}function Lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tu(t,n),s!=null&&r.unshift(Lu(t,s,i)),s=Tu(t,e),s!=null&&r.push(Lu(t,s,i))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Tu(n,s),l!=null&&o.unshift(Lu(n,l,a))):i||(l=Tu(n,s),l!=null&&o.push(Lu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $L=/\r\n?/g,TL=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace($L,`
`).replace(TL,"")}function Sh(t,e,n){if(e=D_(e),D_(t)!==e&&n)throw Error(J(425))}function Rf(){}var Bg=null,Ug=null;function Wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vg=typeof setTimeout=="function"?setTimeout:void 0,jL=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,AL=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(t){return z_.resolve(null).then(t).catch(NL)}:Vg;function NL(t){setTimeout(function(){throw t})}function Jm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nu(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Ja,Du="__reactProps$"+Ja,ci="__reactContainer$"+Ja,Hg="__reactEvents$"+Ja,ML="__reactListeners$"+Ja,RL="__reactHandles$"+Ja;function Ns(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F_(t);t!==null;){if(n=t[Ar])return n;t=F_(t)}return e}t=n,n=t.parentNode}return null}function Kc(t){return t=t[Ar]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function vp(t){return t[Du]||null}var Kg=[],Zo=-1;function ls(t){return{current:t}}function it(t){0>Zo||(t.current=Kg[Zo],Kg[Zo]=null,Zo--)}function Je(t,e){Zo++,Kg[Zo]=t.current,t.current=e}var ns={},cn=ls(ns),On=ls(!1),Xs=ns;function ya(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function If(){it(On),it(cn)}function B_(t,e,n){if(cn.current!==ns)throw Error(J(168));Je(cn,e),Je(On,n)}function Q$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,b2(t)||"Unknown",i));return ft({},n,r)}function Lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Xs=cn.current,Je(cn,t),Je(On,On.current),!0}function U_(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=Q$(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,it(On),it(cn),Je(cn,t)):it(On),Je(On,n)}var Zr=null,gp=!1,Qm=!1;function eT(t){Zr===null?Zr=[t]:Zr.push(t)}function IL(t){gp=!0,eT(t)}function us(){if(!Qm&&Zr!==null){Qm=!0;var t=0,e=Ue;try{var n=Zr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,gp=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),E$(Rb,us),i}finally{Ue=e,Qm=!1}}return null}var Xo=[],Yo=0,Df=null,zf=0,Gn=[],Zn=0,Ys=null,Xr=1,Yr="";function Os(t,e){Xo[Yo++]=zf,Xo[Yo++]=Df,Df=t,zf=e}function tT(t,e,n){Gn[Zn++]=Xr,Gn[Zn++]=Yr,Gn[Zn++]=Ys,Ys=t;var r=Xr;t=Yr;var i=32-xr(r)-1;r&=~(1<<i),n+=1;var s=32-xr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xr=1<<32-xr(e)+i|n<<i|r,Yr=s+t}else Xr=1<<s|n<<i|r,Yr=t}function Vb(t){t.return!==null&&(Os(t,1),tT(t,1,0))}function Hb(t){for(;t===Df;)Df=Xo[--Yo],Xo[Yo]=null,zf=Xo[--Yo],Xo[Yo]=null;for(;t===Ys;)Ys=Gn[--Zn],Gn[Zn]=null,Yr=Gn[--Zn],Gn[Zn]=null,Xr=Gn[--Zn],Gn[Zn]=null}var Ln=null,In=null,ot=!1,yr=null;function nT(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,In=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:Xr,overflow:Yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,In=null,!0):!1;default:return!1}}function qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(ot){var e=In;if(e){var n=e;if(!W_(t,e)){if(qg(t))throw Error(J(418));e=qi(n.nextSibling);var r=Ln;e&&W_(t,e)?nT(r,n):(t.flags=t.flags&-4097|2,ot=!1,Ln=t)}}else{if(qg(t))throw Error(J(418));t.flags=t.flags&-4097|2,ot=!1,Ln=t}}}function V_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Oh(t){if(t!==Ln)return!1;if(!ot)return V_(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wg(t.type,t.memoizedProps)),e&&(e=In)){if(qg(t))throw rT(),Error(J(418));for(;e;)nT(t,e),e=qi(e.nextSibling)}if(V_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Ln?qi(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=In;t;)t=qi(t.nextSibling)}function ba(){In=Ln=null,ot=!1}function Kb(t){yr===null?yr=[t]:yr.push(t)}var LL=gi.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Eh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H_(t){var e=t._init;return e(t._payload)}function iT(t){function e(y,v){if(t){var g=y.deletions;g===null?(y.deletions=[v],y.flags|=16):g.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Yi(y,v),y.index=0,y.sibling=null,y}function s(y,v,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<v?(y.flags|=2,v):g):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,g,O){return v===null||v.tag!==6?(v=ov(g,y.mode,O),v.return=y,v):(v=i(v,g),v.return=y,v)}function l(y,v,g,O){var x=g.type;return x===Vo?h(y,v,g.props.children,O,g.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$i&&H_(x)===v.type)?(O=i(v,g.props),O.ref=$l(y,v,g),O.return=y,O):(O=_f(g.type,g.key,g.props,null,y.mode,O),O.ref=$l(y,v,g),O.return=y,O)}function u(y,v,g,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=av(g,y.mode,O),v.return=y,v):(v=i(v,g.children||[]),v.return=y,v)}function h(y,v,g,O,x){return v===null||v.tag!==7?(v=Ws(g,y.mode,O,x),v.return=y,v):(v=i(v,g),v.return=y,v)}function c(y,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ov(""+v,y.mode,g),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ph:return g=_f(v.type,v.key,v.props,null,y.mode,g),g.ref=$l(y,null,v),g.return=y,g;case Wo:return v=av(v,y.mode,g),v.return=y,v;case $i:var O=v._init;return c(y,O(v._payload),g)}if(Zl(v)||Ol(v))return v=Ws(v,y.mode,g,null),v.return=y,v;Eh(y,v)}return null}function f(y,v,g,O){var x=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(y,v,""+g,O);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ph:return g.key===x?l(y,v,g,O):null;case Wo:return g.key===x?u(y,v,g,O):null;case $i:return x=g._init,f(y,v,x(g._payload),O)}if(Zl(g)||Ol(g))return x!==null?null:h(y,v,g,O,null);Eh(y,g)}return null}function d(y,v,g,O,x){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(g)||null,a(v,y,""+O,x);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ph:return y=y.get(O.key===null?g:O.key)||null,l(v,y,O,x);case Wo:return y=y.get(O.key===null?g:O.key)||null,u(v,y,O,x);case $i:var E=O._init;return d(y,v,g,E(O._payload),x)}if(Zl(O)||Ol(O))return y=y.get(g)||null,h(v,y,O,x,null);Eh(v,O)}return null}function p(y,v,g,O){for(var x=null,E=null,_=v,S=v=0,k=null;_!==null&&S<g.length;S++){_.index>S?(k=_,_=null):k=_.sibling;var P=f(y,_,g[S],O);if(P===null){_===null&&(_=k);break}t&&_&&P.alternate===null&&e(y,_),v=s(P,v,S),E===null?x=P:E.sibling=P,E=P,_=k}if(S===g.length)return n(y,_),ot&&Os(y,S),x;if(_===null){for(;S<g.length;S++)_=c(y,g[S],O),_!==null&&(v=s(_,v,S),E===null?x=_:E.sibling=_,E=_);return ot&&Os(y,S),x}for(_=r(y,_);S<g.length;S++)k=d(_,y,S,g[S],O),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?S:k.key),v=s(k,v,S),E===null?x=k:E.sibling=k,E=k);return t&&_.forEach(function($){return e(y,$)}),ot&&Os(y,S),x}function m(y,v,g,O){var x=Ol(g);if(typeof x!="function")throw Error(J(150));if(g=x.call(g),g==null)throw Error(J(151));for(var E=x=null,_=v,S=v=0,k=null,P=g.next();_!==null&&!P.done;S++,P=g.next()){_.index>S?(k=_,_=null):k=_.sibling;var $=f(y,_,P.value,O);if($===null){_===null&&(_=k);break}t&&_&&$.alternate===null&&e(y,_),v=s($,v,S),E===null?x=$:E.sibling=$,E=$,_=k}if(P.done)return n(y,_),ot&&Os(y,S),x;if(_===null){for(;!P.done;S++,P=g.next())P=c(y,P.value,O),P!==null&&(v=s(P,v,S),E===null?x=P:E.sibling=P,E=P);return ot&&Os(y,S),x}for(_=r(y,_);!P.done;S++,P=g.next())P=d(_,y,S,P.value,O),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?x=P:E.sibling=P,E=P);return t&&_.forEach(function(T){return e(y,T)}),ot&&Os(y,S),x}function b(y,v,g,O){if(typeof g=="object"&&g!==null&&g.type===Vo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ph:e:{for(var x=g.key,E=v;E!==null;){if(E.key===x){if(x=g.type,x===Vo){if(E.tag===7){n(y,E.sibling),v=i(E,g.props.children),v.return=y,y=v;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===$i&&H_(x)===E.type){n(y,E.sibling),v=i(E,g.props),v.ref=$l(y,E,g),v.return=y,y=v;break e}n(y,E);break}else e(y,E);E=E.sibling}g.type===Vo?(v=Ws(g.props.children,y.mode,O,g.key),v.return=y,y=v):(O=_f(g.type,g.key,g.props,null,y.mode,O),O.ref=$l(y,v,g),O.return=y,y=O)}return o(y);case Wo:e:{for(E=g.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(y,v.sibling),v=i(v,g.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=av(g,y.mode,O),v.return=y,y=v}return o(y);case $i:return E=g._init,b(y,v,E(g._payload),O)}if(Zl(g))return p(y,v,g,O);if(Ol(g))return m(y,v,g,O);Eh(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,g),v.return=y,y=v):(n(y,v),v=ov(g,y.mode,O),v.return=y,y=v),o(y)):n(y,v)}return b}var wa=iT(!0),sT=iT(!1),Ff=ls(null),Bf=null,Jo=null,qb=null;function Gb(){qb=Jo=Bf=null}function Zb(t){var e=Ff.current;it(Ff),t._currentValue=e}function Zg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){Bf=t,qb=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(qb!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(Bf===null)throw Error(J(308));Jo=t,Bf.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var Ms=null;function Xb(t){Ms===null?Ms=[t]:Ms.push(t)}function oT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xb(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function Yb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,Xb(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ib(t,n)}}function K_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uf(t,e,n,r){var i=t.updateQueue;Ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){c=p.call(d,c,f);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,c,f):p,f==null)break e;c=ft({},c,f);break e;case 2:Ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=c):h=h.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qs|=o,t.lanes=o,t.memoizedState=c}}function q_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var qc={},Dr=ls(qc),zu=ls(qc),Fu=ls(qc);function Rs(t){if(t===qc)throw Error(J(174));return t}function Jb(t,e){switch(Je(Fu,e),Je(zu,t),Je(Dr,qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$g(e,t)}it(Dr),Je(Dr,e)}function xa(){it(Dr),it(zu),it(Fu)}function lT(t){Rs(Fu.current);var e=Rs(Dr.current),n=$g(e,t.type);e!==n&&(Je(zu,t),Je(Dr,n))}function Qb(t){zu.current===t&&(it(Dr),it(zu))}var ut=ls(0);function Wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ev=[];function ew(){for(var t=0;t<ev.length;t++)ev[t]._workInProgressVersionPrimary=null;ev.length=0}var gf=gi.ReactCurrentDispatcher,tv=gi.ReactCurrentBatchConfig,Js=0,ht=null,Mt=null,Ut=null,Vf=!1,au=!1,Bu=0,DL=0;function tn(){throw Error(J(321))}function tw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function nw(t,e,n,r,i,s){if(Js=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?UL:WL,t=n(r,i),au){s=0;do{if(au=!1,Bu=0,25<=s)throw Error(J(301));s+=1,Ut=Mt=null,e.updateQueue=null,gf.current=VL,t=n(r,i)}while(au)}if(gf.current=Hf,e=Mt!==null&&Mt.next!==null,Js=0,Ut=Mt=ht=null,Vf=!1,e)throw Error(J(300));return t}function rw(){var t=Bu!==0;return Bu=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function nr(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Ut===null?ht.memoizedState:Ut.next;if(e!==null)Ut=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Uu(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Js&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,ht.lanes|=h,Qs|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,Qs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rv(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Or(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uT(){}function cT(t,e){var n=ht,r=nr(),i=e(),s=!Or(r.memoizedState,i);if(s&&(r.memoizedState=i,_n=!0),r=r.queue,iw(dT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Wu(9,fT.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(J(349));Js&30||hT(n,e,i)}return i}function hT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fT(t,e,n,r){e.value=n,e.getSnapshot=r,pT(e)&&mT(t)}function dT(t,e,n){return n(function(){pT(e)&&mT(t)})}function pT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function mT(t){var e=hi(t,1);e!==null&&_r(e,t,1,-1)}function G_(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=BL.bind(null,ht,t),[e.memoizedState,t]}function Wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vT(){return nr().memoizedState}function yf(t,e,n,r){var i=jr();ht.flags|=t,i.memoizedState=Wu(1|e,n,void 0,r===void 0?null:r)}function yp(t,e,n,r){var i=nr();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&tw(r,o.deps)){i.memoizedState=Wu(e,n,s,r);return}}ht.flags|=t,i.memoizedState=Wu(1|e,n,s,r)}function Z_(t,e){return yf(8390656,8,t,e)}function iw(t,e){return yp(2048,8,t,e)}function gT(t,e){return yp(4,2,t,e)}function yT(t,e){return yp(4,4,t,e)}function bT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wT(t,e,n){return n=n!=null?n.concat([t]):null,yp(4,4,bT.bind(null,e,t),n)}function sw(){}function xT(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _T(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ST(t,e,n){return Js&21?(Or(n,e)||(n=C$(),ht.lanes|=n,Qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function zL(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=tv.transition;tv.transition={};try{t(!1),e()}finally{Ue=n,tv.transition=r}}function OT(){return nr().memoizedState}function FL(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ET(t))kT(e,n);else if(n=oT(t,e,n,r),n!==null){var i=dn();_r(n,t,r,i),PT(n,e,r)}}function BL(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ET(t))kT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(i.next=i,Xb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oT(t,e,i,r),n!==null&&(i=dn(),_r(n,t,r,i),PT(n,e,r))}}function ET(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function kT(t,e){au=Vf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ib(t,n)}}var Hf={readContext:tr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},UL={readContext:tr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:Z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yf(4194308,4,bT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FL.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:G_,useDebugValue:sw,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=G_(!1),e=t[0];return t=zL.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=jr();if(ot){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Wt===null)throw Error(J(349));Js&30||hT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Z_(dT.bind(null,r,s,t),[t]),r.flags|=2048,Wu(9,fT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jr(),e=Wt.identifierPrefix;if(ot){var n=Yr,r=Xr;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WL={readContext:tr,useCallback:xT,useContext:tr,useEffect:iw,useImperativeHandle:wT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:_T,useReducer:nv,useRef:vT,useState:function(){return nv(Uu)},useDebugValue:sw,useDeferredValue:function(t){var e=nr();return ST(e,Mt.memoizedState,t)},useTransition:function(){var t=nv(Uu)[0],e=nr().memoizedState;return[t,e]},useMutableSource:uT,useSyncExternalStore:cT,useId:OT,unstable_isNewReconciler:!1},VL={readContext:tr,useCallback:xT,useContext:tr,useEffect:iw,useImperativeHandle:wT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:_T,useReducer:rv,useRef:vT,useState:function(){return rv(Uu)},useDebugValue:sw,useDeferredValue:function(t){var e=nr();return Mt===null?e.memoizedState=t:ST(e,Mt.memoizedState,t)},useTransition:function(){var t=rv(Uu)[0],e=nr().memoizedState;return[t,e]},useMutableSource:uT,useSyncExternalStore:cT,useId:OT,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bp={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Xi(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(_r(e,t,i,r),vf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Xi(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,i),e!==null&&(_r(e,t,i,r),vf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Xi(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gi(t,i,r),e!==null&&(_r(e,t,r,n),vf(e,t,r))}};function X_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function CT(t,e,n){var r=!1,i=ns,s=e.contextType;return typeof s=="object"&&s!==null?s=tr(s):(i=En(e)?Xs:cn.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):ns),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bp.enqueueReplaceState(e,e.state,null)}function Yg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tr(s):(s=En(e)?Xs:cn.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bp.enqueueReplaceState(i,i.state,null),Uf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=y2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function iv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HL=typeof WeakMap=="function"?WeakMap:Map;function $T(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qf||(qf=!0,ly=r),Jg(t,e)},n}function TT(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function J_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sD.bind(null,t,e,n),e.then(t,t))}function Q_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t)}var KL=gi.ReactCurrentOwner,_n=!1;function hn(t,e,n,r){e.child=t===null?sT(e,null,n,r):wa(e,t.child,n,r)}function t1(t,e,n,r,i){n=n.render;var s=e.ref;return ha(e,i),r=nw(t,e,n,r,s,i),n=rw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(ot&&n&&Vb(e),e.flags|=1,hn(t,e,r,i),e.child)}function n1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jT(t,e,s,r,i)):(t=_f(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=Yi(s,r),t.ref=e.ref,t.return=e,e.child=t}function jT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Qg(t,e,n,r,i)}function AT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ea,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(ea,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Je(ea,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Je(ea,An),An|=r;return hn(t,e,i,n),e.child}function NT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qg(t,e,n,r,i){var s=En(n)?Xs:cn.current;return s=ya(e,s),ha(e,i),n=nw(t,e,n,r,s,i),r=rw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(ot&&r&&Vb(e),e.flags|=1,hn(t,e,n,i),e.child)}function r1(t,e,n,r,i){if(En(n)){var s=!0;Lf(e)}else s=!1;if(ha(e,i),e.stateNode===null)bf(t,e),CT(e,n,r),Yg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=En(n)?Xs:cn.current,u=ya(e,u));var h=n.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Y_(e,o,r,u),Ti=!1;var f=e.memoizedState;o.state=f,Uf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||On.current||Ti?(typeof h=="function"&&(Xg(e,n,h,r),l=e.memoizedState),(a=Ti||X_(e,n,a,r,f,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,c=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=En(n)?Xs:cn.current,l=ya(e,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&Y_(e,o,r,l),Ti=!1,f=e.memoizedState,o.state=f,Uf(e,r,o,i);var p=e.memoizedState;a!==c||f!==p||On.current||Ti?(typeof d=="function"&&(Xg(e,n,d,r),p=e.memoizedState),(u=Ti||X_(e,n,u,r,f,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ey(t,e,n,r,s,i)}function ey(t,e,n,r,i,s){NT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&U_(e,n,!1),fi(t,e,s);r=e.stateNode,KL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wa(e,t.child,null,s),e.child=wa(e,null,a,s)):hn(t,e,a,s),e.memoizedState=r.state,i&&U_(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?B_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B_(t,e.context,!1),Jb(t,e.containerInfo)}function i1(t,e,n,r,i){return ba(),Kb(i),e.flags|=256,hn(t,e,n,r),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function RT(t,e,n){var r=e.pendingProps,i=ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ut,i&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_p(o,r,0,null),t=Ws(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ny(n),e.memoizedState=ty,t):ow(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yi(a,s):(s=Ws(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ty,r}return s=t.child,t=s.sibling,r=Yi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ow(t,e){return e=_p({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kh(t,e,n,r){return r!==null&&Kb(r),wa(e,t.child,null,n),t=ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=iv(Error(J(422))),kh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_p({mode:"visible",children:r.children},i,0,null),s=Ws(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wa(e,t.child,null,o),e.child.memoizedState=ny(o),e.memoizedState=ty,s);if(!(e.mode&1))return kh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=iv(s,r,void 0),kh(t,e,o,r)}if(a=(o&t.childLanes)!==0,_n||a){if(r=Wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hi(t,i),_r(r,t,i,-1))}return fw(),r=iv(Error(J(421))),kh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=qi(i.nextSibling),Ln=e,ot=!0,yr=null,t!==null&&(Gn[Zn++]=Xr,Gn[Zn++]=Yr,Gn[Zn++]=Ys,Xr=t.id,Yr=t.overflow,Ys=e),e=ow(e,r.children),e.flags|=4096,e)}function s1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zg(t.return,e,n)}function sv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s1(t,n,e);else if(t.tag===19)s1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sv(e,!0,n,null,s);break;case"together":sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GL(t,e,n){switch(e.tag){case 3:MT(e),ba();break;case 5:lT(e);break;case 1:En(e.type)&&Lf(e);break;case 4:Jb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(Ff,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?RT(t,e,n):(Je(ut,ut.current&1),t=fi(t,e,n),t!==null?t.sibling:null);Je(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,AT(t,e,n)}return fi(t,e,n)}var LT,ry,DT,zT;LT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ry=function(){};DT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rs(Dr.current);var s=null;switch(n){case"input":i=Eg(t,i),r=Eg(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=Cg(t,i),r=Cg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rf)}Tg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};zT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZL(t,e,n){var r=e.pendingProps;switch(Hb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return En(e.type)&&If(),nn(e),null;case 3:return r=e.stateNode,xa(),it(On),it(cn),ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(hy(yr),yr=null))),ry(t,e),nn(e),null;case 5:Qb(e);var i=Rs(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)DT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return nn(e),null}if(t=Rs(Dr.current),Oh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[Du]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Yl.length;i++)et(Yl[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":p_(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":v_(r,s),et("invalid",r)}Tg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sh(r.textContent,a,t),i=["children",""+a]):Cu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":mh(r),m_(r,s,!0);break;case"textarea":mh(r),g_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Du]=r,LT(t,e,!1,!1),e.stateNode=t;e:{switch(o=jg(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yl.length;i++)et(Yl[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":p_(t,r),i=Eg(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),et("invalid",t);break;case"textarea":v_(t,r),i=Cg(t,r),et("invalid",t);break;default:i=r}Tg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?v$(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p$(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$u(t,l):typeof l=="number"&&$u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&Tb(t,s,l,o))}switch(n){case"input":mh(t),m_(t,r,!1);break;case"textarea":mh(t),g_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?aa(t,!!r.multiple,s,!1):r.defaultValue!=null&&aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)zT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Rs(Fu.current),Rs(Dr.current),Oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return nn(e),null;case 13:if(it(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&In!==null&&e.mode&1&&!(e.flags&128))rT(),ba(),e.flags|=98560,s=!1;else if(s=Oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Ar]=e}else ba(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else yr!==null&&(hy(yr),yr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Rt===0&&(Rt=3):fw())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return xa(),ry(t,e),t===null&&Iu(e.stateNode.containerInfo),nn(e),null;case 10:return Zb(e.type._context),nn(e),null;case 17:return En(e.type)&&If(),nn(e),null;case 19:if(it(ut),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Tl(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wf(t),o!==null){for(e.flags|=128,Tl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&wt()>Sa&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ot)return nn(e),null}else 2*wt()-s.renderingStartTime>Sa&&n!==1073741824&&(e.flags|=128,r=!0,Tl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=ut.current,Je(ut,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function XL(t,e){switch(Hb(e),e.tag){case 1:return En(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),it(On),it(cn),ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qb(e),null;case 13:if(it(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ba()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ut),null;case 4:return xa(),null;case 10:return Zb(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var Ph=!1,sn=!1,YL=typeof WeakSet=="function"?WeakSet:Set,se=null;function Qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){vt(t,e,r)}}var o1=!1;function JL(t,e){if(Bg=Af,t=V$(),Wb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,c=t,f=null;t:for(;;){for(var d;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ug={focusedElem:t,selectionRange:n},Af=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:dr(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(O){vt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return p=o1,o1=!1,p}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iy(e,n,s)}i=i.next}while(i!==r)}}function wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FT(t){var e=t.alternate;e!==null&&(t.alternate=null,FT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Du],delete e[Hg],delete e[ML],delete e[RL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BT(t){return t.tag===5||t.tag===3||t.tag===4}function a1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rf));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}var qt=null,pr=!1;function Si(t,e,n){for(n=n.child;n!==null;)UT(t,e,n),n=n.sibling}function UT(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(fp,n)}catch{}switch(n.tag){case 5:sn||Qo(n,e);case 6:var r=qt,i=pr;qt=null,Si(t,e,n),qt=r,pr=i,qt!==null&&(pr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(pr?(t=qt,n=n.stateNode,t.nodeType===8?Jm(t.parentNode,n):t.nodeType===1&&Jm(t,n),Nu(t)):Jm(qt,n.stateNode));break;case 4:r=qt,i=pr,qt=n.stateNode.containerInfo,pr=!0,Si(t,e,n),qt=r,pr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iy(n,e,o),i=i.next}while(i!==r)}Si(t,e,n);break;case 1:if(!sn&&(Qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Si(t,e,n),sn=r):Si(t,e,n);break;default:Si(t,e,n)}}function l1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YL),e.forEach(function(r){var i=aD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,pr=!1;break e;case 3:qt=a.stateNode.containerInfo,pr=!0;break e;case 4:qt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(qt===null)throw Error(J(160));UT(s,o,i),qt=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,t),e=e.sibling}function WT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),$r(t),r&4){try{lu(3,t,t.return),wp(3,t)}catch(m){vt(t,t.return,m)}try{lu(5,t,t.return)}catch(m){vt(t,t.return,m)}}break;case 1:lr(e,t),$r(t),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(lr(e,t),$r(t),r&512&&n!==null&&Qo(n,n.return),t.flags&32){var i=t.stateNode;try{$u(i,"")}catch(m){vt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&h$(i,s),jg(a,o);var u=jg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],c=l[o+1];h==="style"?v$(i,c):h==="dangerouslySetInnerHTML"?p$(i,c):h==="children"?$u(i,c):Tb(i,h,c,u)}switch(a){case"input":kg(i,s);break;case"textarea":f$(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?aa(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?aa(i,!!s.multiple,s.defaultValue,!0):aa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Du]=s}catch(m){vt(t,t.return,m)}}break;case 6:if(lr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){vt(t,t.return,m)}}break;case 3:if(lr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(m){vt(t,t.return,m)}break;case 4:lr(e,t),$r(t);break;case 13:lr(e,t),$r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uw=wt())),r&4&&l1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||h,lr(e,t),sn=u):lr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(c=se=h;se!==null;){switch(f=se,d=f.child,f.tag){case 0:case 11:case 14:case 15:lu(4,f,f.return);break;case 1:Qo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){vt(r,n,m)}}break;case 5:Qo(f,f.return);break;case 22:if(f.memoizedState!==null){c1(c);continue}}d!==null?(d.return=f,se=d):c1(c)}h=h.sibling}e:for(h=null,c=t;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=m$("display",o))}catch(m){vt(t,t.return,m)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(m){vt(t,t.return,m)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:lr(e,t),$r(t),r&4&&l1(t);break;case 21:break;default:lr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BT(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($u(i,""),r.flags&=-33);var s=a1(t);ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=a1(t);oy(t,a,o);break;default:throw Error(J(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QL(t,e,n){se=t,VT(t)}function VT(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ph;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Ph;var u=sn;if(Ph=o,(sn=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?h1(i):l!==null?(l.return=o,se=l):h1(i);for(;s!==null;)se=s,VT(s),s=s.sibling;se=i,Ph=a,sn=u}u1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):u1(t)}}function u1(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Nu(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}sn||e.flags&512&&sy(e)}catch(f){vt(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function c1(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function h1(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wp(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var s=e.return;try{sy(e)}catch(l){vt(e,s,l)}break;case 5:var o=e.return;try{sy(e)}catch(l){vt(e,o,l)}}}catch(l){vt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var eD=Math.ceil,Kf=gi.ReactCurrentDispatcher,aw=gi.ReactCurrentOwner,Qn=gi.ReactCurrentBatchConfig,Ie=0,Wt=null,Pt=null,Yt=0,An=0,ea=ls(0),Rt=0,Vu=null,Qs=0,xp=0,lw=0,uu=null,wn=null,uw=0,Sa=1/0,Kr=null,qf=!1,ly=null,Zi=null,Ch=!1,Di=null,Gf=0,cu=0,uy=null,wf=-1,xf=0;function dn(){return Ie&6?wt():wf!==-1?wf:wf=wt()}function Xi(t){return t.mode&1?Ie&2&&Yt!==0?Yt&-Yt:LL.transition!==null?(xf===0&&(xf=C$()),xf):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:R$(t.type)),t):1}function _r(t,e,n,r){if(50<cu)throw cu=0,uy=null,Error(J(185));Vc(t,n,r),(!(Ie&2)||t!==Wt)&&(t===Wt&&(!(Ie&2)&&(xp|=n),Rt===4&&Mi(t,Yt)),kn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Sa=wt()+500,gp&&us()))}function kn(t,e){var n=t.callbackNode;L2(t,e);var r=jf(t,t===Wt?Yt:0);if(r===0)n!==null&&w_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w_(n),e===1)t.tag===0?IL(f1.bind(null,t)):eT(f1.bind(null,t)),AL(function(){!(Ie&6)&&us()}),n=null;else{switch($$(r)){case 1:n=Rb;break;case 4:n=k$;break;case 16:n=Tf;break;case 536870912:n=P$;break;default:n=Tf}n=JT(n,HT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HT(t,e){if(wf=-1,xf=0,Ie&6)throw Error(J(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=jf(t,t===Wt?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zf(t,r);else{e=r;var i=Ie;Ie|=2;var s=qT();(Wt!==t||Yt!==e)&&(Kr=null,Sa=wt()+500,Us(t,e));do try{rD();break}catch(a){KT(t,a)}while(!0);Gb(),Kf.current=s,Ie=i,Pt!==null?e=0:(Wt=null,Yt=0,e=Rt)}if(e!==0){if(e===2&&(i=Ig(t),i!==0&&(r=i,e=cy(t,i))),e===1)throw n=Vu,Us(t,0),Mi(t,r),kn(t,wt()),n;if(e===6)Mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!tD(i)&&(e=Zf(t,r),e===2&&(s=Ig(t),s!==0&&(r=s,e=cy(t,s))),e===1))throw n=Vu,Us(t,0),Mi(t,r),kn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Es(t,wn,Kr);break;case 3:if(Mi(t,r),(r&130023424)===r&&(e=uw+500-wt(),10<e)){if(jf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vg(Es.bind(null,t,wn,Kr),e);break}Es(t,wn,Kr);break;case 4:if(Mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eD(r/1960))-r,10<r){t.timeoutHandle=Vg(Es.bind(null,t,wn,Kr),r);break}Es(t,wn,Kr);break;case 5:Es(t,wn,Kr);break;default:throw Error(J(329))}}}return kn(t,wt()),t.callbackNode===n?HT.bind(null,t):null}function cy(t,e){var n=uu;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=Zf(t,e),t!==2&&(e=wn,wn=n,e!==null&&hy(e)),t}function hy(t){wn===null?wn=t:wn.push.apply(wn,t)}function tD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~lw,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function f1(t){if(Ie&6)throw Error(J(327));fa();var e=jf(t,0);if(!(e&1))return kn(t,wt()),null;var n=Zf(t,e);if(t.tag!==0&&n===2){var r=Ig(t);r!==0&&(e=r,n=cy(t,r))}if(n===1)throw n=Vu,Us(t,0),Mi(t,e),kn(t,wt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Es(t,wn,Kr),kn(t,wt()),null}function cw(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Sa=wt()+500,gp&&us())}}function eo(t){Di!==null&&Di.tag===0&&!(Ie&6)&&fa();var e=Ie;Ie|=1;var n=Qn.transition,r=Ue;try{if(Qn.transition=null,Ue=1,t)return t()}finally{Ue=r,Qn.transition=n,Ie=e,!(Ie&6)&&us()}}function hw(){An=ea.current,it(ea)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jL(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Hb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&If();break;case 3:xa(),it(On),it(cn),ew();break;case 5:Qb(r);break;case 4:xa();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Zb(r.type._context);break;case 22:case 23:hw()}n=n.return}if(Wt=t,Pt=t=Yi(t.current,null),Yt=An=e,Rt=0,Vu=null,lw=xp=Qs=0,wn=uu=null,Ms!==null){for(e=0;e<Ms.length;e++)if(n=Ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ms=null}return t}function KT(t,e){do{var n=Pt;try{if(Gb(),gf.current=Hf,Vf){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vf=!1}if(Js=0,Ut=Mt=ht=null,au=!1,Bu=0,aw.current=null,n===null||n.return===null){Rt=1,Vu=e,Pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Q_(o);if(d!==null){d.flags&=-257,e1(d,o,a,s,e),d.mode&1&&J_(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){J_(s,u,e),fw();break e}l=Error(J(426))}}else if(ot&&a.mode&1){var b=Q_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),e1(b,o,a,s,e),Kb(_a(l,a));break e}}s=l=_a(l,a),Rt!==4&&(Rt=2),uu===null?uu=[s]:uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=$T(s,l,e);K_(s,y);break e;case 1:a=l;var v=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zi===null||!Zi.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=TT(s,a,e);K_(s,O);break e}}s=s.return}while(s!==null)}ZT(n)}catch(x){e=x,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function qT(){var t=Kf.current;return Kf.current=Hf,t===null?Hf:t}function fw(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Wt===null||!(Qs&268435455)&&!(xp&268435455)||Mi(Wt,Yt)}function Zf(t,e){var n=Ie;Ie|=2;var r=qT();(Wt!==t||Yt!==e)&&(Kr=null,Us(t,e));do try{nD();break}catch(i){KT(t,i)}while(!0);if(Gb(),Ie=n,Kf.current=r,Pt!==null)throw Error(J(261));return Wt=null,Yt=0,Rt}function nD(){for(;Pt!==null;)GT(Pt)}function rD(){for(;Pt!==null&&!C2();)GT(Pt)}function GT(t){var e=YT(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?ZT(t):Pt=e,aw.current=null}function ZT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XL(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Pt=null;return}}else if(n=ZL(n,e,An),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Rt===0&&(Rt=5)}function Es(t,e,n){var r=Ue,i=Qn.transition;try{Qn.transition=null,Ue=1,iD(t,e,n,r)}finally{Qn.transition=i,Ue=r}return null}function iD(t,e,n,r){do fa();while(Di!==null);if(Ie&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(D2(t,s),t===Wt&&(Pt=Wt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ch||(Ch=!0,JT(Tf,function(){return fa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Ue;Ue=1;var a=Ie;Ie|=4,aw.current=null,JL(t,n),WT(n,t),OL(Ug),Af=!!Bg,Ug=Bg=null,t.current=n,QL(n),$2(),Ie=a,Ue=o,Qn.transition=s}else t.current=n;if(Ch&&(Ch=!1,Di=t,Gf=i),s=t.pendingLanes,s===0&&(Zi=null),A2(n.stateNode),kn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,t=ly,ly=null,t;return Gf&1&&t.tag!==0&&fa(),s=t.pendingLanes,s&1?t===uy?cu++:(cu=0,uy=t):cu=0,us(),null}function fa(){if(Di!==null){var t=$$(Gf),e=Qn.transition,n=Ue;try{if(Qn.transition=null,Ue=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,Gf=0,Ie&6)throw Error(J(331));var i=Ie;for(Ie|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:lu(8,h,s)}var c=h.child;if(c!==null)c.return=h,se=c;else for(;se!==null;){h=se;var f=h.sibling,d=h.return;if(FT(h),h===u){se=null;break}if(f!==null){f.return=d,se=f;break}se=d}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,se=y;break e}se=s.return}}var v=t.current;for(se=v;se!==null;){o=se;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,se=g;else e:for(o=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wp(9,a)}}catch(x){vt(a,a.return,x)}if(a===o){se=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,se=O;break e}se=a.return}}if(Ie=i,us(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(fp,t)}catch{}r=!0}return r}finally{Ue=n,Qn.transition=e}}return!1}function d1(t,e,n){e=_a(n,e),e=$T(t,e,1),t=Gi(t,e,1),e=dn(),t!==null&&(Vc(t,1,e),kn(t,e))}function vt(t,e,n){if(t.tag===3)d1(t,t,n);else for(;e!==null;){if(e.tag===3){d1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=_a(n,t),t=TT(e,t,1),e=Gi(e,t,1),t=dn(),e!==null&&(Vc(e,1,t),kn(e,t));break}}e=e.return}}function sD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Yt&n)===n&&(Rt===4||Rt===3&&(Yt&130023424)===Yt&&500>wt()-uw?Us(t,0):lw|=n),kn(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var n=dn();t=hi(t,e),t!==null&&(Vc(t,e,n),kn(t,n))}function oD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function aD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),XT(t,n)}var YT;YT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,GL(t,e,n);_n=!!(t.flags&131072)}else _n=!1,ot&&e.flags&1048576&&tT(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bf(t,e),t=e.pendingProps;var i=ya(e,cn.current);ha(e,n),i=nw(null,e,r,t,i,n);var s=rw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,Lf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yb(e),i.updater=bp,e.stateNode=i,i._reactInternals=e,Yg(e,r,t,n),e=ey(null,e,r,!0,s,n)):(e.tag=0,ot&&s&&Vb(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uD(r),t=dr(r,t),i){case 0:e=Qg(null,e,r,t,n);break e;case 1:e=r1(null,e,r,t,n);break e;case 11:e=t1(null,e,r,t,n);break e;case 14:e=n1(null,e,r,dr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Qg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),r1(t,e,r,i,n);case 3:e:{if(MT(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aT(t,e),Uf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_a(Error(J(423)),e),e=i1(t,e,r,n,i);break e}else if(r!==i){i=_a(Error(J(424)),e),e=i1(t,e,r,n,i);break e}else for(In=qi(e.stateNode.containerInfo.firstChild),Ln=e,ot=!0,yr=null,n=sT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ba(),r===i){e=fi(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return lT(e),t===null&&Gg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wg(r,i)?o=null:s!==null&&Wg(r,s)&&(e.flags|=32),NT(t,e),hn(t,e,o,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return RT(t,e,n);case 4:return Jb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),t1(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Je(Ff,r._currentValue),r._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===i.children&&!On.current){e=fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ri(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ha(e,n),i=tr(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),n1(t,e,r,i,n);case 15:return jT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),bf(t,e),e.tag=1,En(r)?(t=!0,Lf(e)):t=!1,ha(e,n),CT(e,r,i),Yg(e,r,i,n),ey(null,e,r,!0,t,n);case 19:return IT(t,e,n);case 22:return AT(t,e,n)}throw Error(J(156,e.tag))};function JT(t,e){return E$(t,e)}function lD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new lD(t,e,n,r)}function dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uD(t){if(typeof t=="function")return dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ab)return 11;if(t===Nb)return 14}return 2}function Yi(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _f(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vo:return Ws(n.children,i,s,e);case jb:o=8,i|=8;break;case xg:return t=Yn(12,n,e,i|2),t.elementType=xg,t.lanes=s,t;case _g:return t=Yn(13,n,e,i),t.elementType=_g,t.lanes=s,t;case Sg:return t=Yn(19,n,e,i),t.elementType=Sg,t.lanes=s,t;case l$:return _p(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o$:o=10;break e;case a$:o=9;break e;case Ab:o=11;break e;case Nb:o=14;break e;case $i:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ws(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function _p(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=l$,t.lanes=n,t.stateNode={isHidden:!1},t}function ov(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function av(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pw(t,e,n,r,i,s,o,a,l){return t=new cD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yb(s),t}function hD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QT(t){if(!t)return ns;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(En(n))return Q$(t,n,e)}return e}function ej(t,e,n,r,i,s,o,a,l){return t=pw(n,r,!0,t,i,s,o,a,l),t.context=QT(null),n=t.current,r=dn(),i=Xi(n),s=ri(r,i),s.callback=e??null,Gi(n,s,i),t.current.lanes=i,Vc(t,i,r),kn(t,r),t}function Sp(t,e,n,r){var i=e.current,s=dn(),o=Xi(i);return n=QT(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gi(i,e,o),t!==null&&(_r(t,i,o,s),vf(t,i,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mw(t,e){p1(t,e),(t=t.alternate)&&p1(t,e)}function fD(){return null}var tj=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}Op.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Sp(t,e,null,null)};Op.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){Sp(null,t,null,null)}),e[ci]=null}};function Op(t){this._internalRoot=t}Op.prototype.unstable_scheduleHydration=function(t){if(t){var e=A$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&M$(t)}};function gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m1(){}function dD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xf(o);s.call(u)}}var o=ej(e,r,t,0,null,!1,!1,"",m1);return t._reactRootContainer=o,t[ci]=o.current,Iu(t.nodeType===8?t.parentNode:t),eo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xf(l);a.call(u)}}var l=pw(t,0,!1,null,null,!1,!1,"",m1);return t._reactRootContainer=l,t[ci]=l.current,Iu(t.nodeType===8?t.parentNode:t),eo(function(){Sp(e,l,n,r)}),l}function kp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xf(o);a.call(l)}}Sp(e,o,t,i)}else o=dD(n,e,t,i,r);return Xf(o)}T$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(Ib(e,n|1),kn(e,wt()),!(Ie&6)&&(Sa=wt()+500,us()))}break;case 13:eo(function(){var r=hi(t,1);if(r!==null){var i=dn();_r(r,t,1,i)}}),mw(t,1)}};Lb=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=dn();_r(e,t,134217728,n)}mw(t,134217728)}};j$=function(t){if(t.tag===13){var e=Xi(t),n=hi(t,e);if(n!==null){var r=dn();_r(n,t,e,r)}mw(t,e)}};A$=function(){return Ue};N$=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Ng=function(t,e,n){switch(e){case"input":if(kg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vp(r);if(!i)throw Error(J(90));c$(r),kg(r,i)}}}break;case"textarea":f$(t,n);break;case"select":e=n.value,e!=null&&aa(t,!!n.multiple,e,!1)}};b$=cw;w$=eo;var pD={usingClientEntryPoint:!1,Events:[Kc,Go,vp,g$,y$,cw]},jl={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mD={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S$(t),t===null?null:t.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||fD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{fp=$h.inject(mD),Lr=$h}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(e))throw Error(J(200));return hD(t,e,null,n)};Fn.createRoot=function(t,e){if(!gw(t))throw Error(J(299));var n=!1,r="",i=tj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pw(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,Iu(t.nodeType===8?t.parentNode:t),new vw(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=S$(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return eo(t)};Fn.hydrate=function(t,e,n){if(!Ep(e))throw Error(J(200));return kp(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!gw(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ej(e,null,t,1,n??null,i,!1,s,o),t[ci]=e.current,Iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Op(e)};Fn.render=function(t,e,n){if(!Ep(e))throw Error(J(200));return kp(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Ep(t))throw Error(J(40));return t._reactRootContainer?(eo(function(){kp(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Fn.unstable_batchedUpdates=cw;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ep(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return kp(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function nj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nj)}catch(t){console.error(t)}}nj(),n$.exports=Fn;var yw=n$.exports;const vD=We(yw),gD=VC({__proto__:null,default:vD},[yw]);var v1=yw;bg.createRoot=v1.createRoot,bg.hydrateRoot=v1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st.apply(this,arguments)}var kt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kt||(kt={}));const g1="popstate";function yD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:to(i)}return wD(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bD(){return Math.random().toString(36).substr(2,8)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function Hu(t,e,n,r){return n===void 0&&(n=null),st({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cs(e):e,{state:n,key:e&&e.key||r||bD()})}function to(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kt.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(st({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function c(){a=kt.Pop;let b=h(),y=b==null?null:b-u;u=b,l&&l({action:a,location:m.location,delta:y})}function f(b,y){a=kt.Push;let v=Hu(m.location,b,y);u=h()+1;let g=y1(v,u),O=m.createHref(v);try{o.pushState(g,"",O)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(O)}s&&l&&l({action:a,location:m.location,delta:1})}function d(b,y){a=kt.Replace;let v=Hu(m.location,b,y);u=h();let g=y1(v,u),O=m.createHref(v);o.replaceState(g,"",O),s&&l&&l({action:a,location:m.location,delta:0})}function p(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:to(b);return v=v.replace(/ $/,"%20"),Te(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g1,c),l=b,()=>{i.removeEventListener(g1,c),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(b){return o.go(b)}};return m}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const xD=new Set(["lazy","caseSensitive","path","id","index","children"]);function _D(t){return t.index===!0}function Yf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),_D(i)){let l=st({},i,e(i),{id:a});return r[a]=l,l}else{let l=st({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Yf(i.children,e,o,r)),l}})}function Ts(t,e,n){return n===void 0&&(n="/"),Sf(t,e,n,!1)}function Sf(t,e,n,r){let i=typeof e=="string"?cs(e):e,s=Qa(i.pathname||"/",n);if(s==null)return null;let o=rj(t);OD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=RD(s);a=ND(o[l],u,r)}return a}function SD(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function rj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ii([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rj(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jD(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ij(s.path))i(s,o,l)}),e}function ij(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ij(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ED=/^:[\w-]+$/,kD=3,PD=2,CD=1,$D=10,TD=-2,b1=t=>t==="*";function jD(t,e){let n=t.split("/"),r=n.length;return n.some(b1)&&(r+=TD),e&&(r+=PD),n.filter(i=>!b1(i)).reduce((i,s)=>i+(ED.test(s)?kD:s===""?CD:$D),r)}function AD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ND(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",c=w1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=w1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:ii([s,c.pathname]),pathnameBase:DD(ii([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=ii([s,c.pathnameBase]))}return o}function w1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,c)=>{let{paramName:f,isOptional:d}=h;if(f==="*"){let m=a[c]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[c];return d&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ID(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cs(t):t;return{pathname:n?n.startsWith("/")?n:LD(n,e):e,search:zD(r),hash:FD(i)}}function LD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bw(t,e){let n=sj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ww(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cs(t):(i=st({},t),Te(!i.pathname||!i.pathname.includes("?"),lv("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),lv("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),lv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let c=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}a=c>=0?e[c]:"/"}let l=ID(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),DD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Jf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ku(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oj=["post","put","patch","delete"],BD=new Set(oj),UD=["get",...oj],WD=new Set(UD),VD=new Set([301,302,303,307,308]),HD=new Set([307,308]),uv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Al={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),aj="remix-router-transitions";function GD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let A=t.detectErrorBoundary;i=D=>({hasErrorBoundary:A(D)})}else i=qD;let s={},o=Yf(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||JD,h=t.patchRoutesOnNavigation,c=st({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,d=new Set,p=null,m=null,b=null,y=t.hydrationData!=null,v=Ts(o,t.history.location,l),g=!1,O=null;if(v==null&&!h){let A=bn(404,{pathname:t.history.location.pathname}),{matches:D,route:H}=j1(o);v=D,O={[H.id]:A}}v&&!t.hydrationData&&uh(v,o,t.history.location.pathname).active&&(v=null);let x;if(v)if(v.some(A=>A.route.lazy))x=!1;else if(!v.some(A=>A.route.loader))x=!0;else if(c.v7_partialHydration){let A=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null;if(D){let H=v.findIndex(X=>D[X.route.id]!==void 0);x=v.slice(0,H+1).every(X=>!dy(X.route,A,D))}else x=v.every(H=>!dy(H.route,A,D))}else x=t.hydrationData!=null;else if(x=!1,v=[],c.v7_partialHydration){let A=uh(null,o,t.history.location.pathname);A.active&&A.matches&&(g=!0,v=A.matches)}let E,_={historyAction:t.history.action,location:t.history.location,matches:v,initialized:x,navigation:uv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},S=kt.Pop,k=!1,P,$=!1,T=new Map,R=null,z=!1,U=!1,W=[],B=new Set,N=new Map,L=0,F=-1,j=new Map,I=new Set,V=new Map,te=new Map,ie=new Set,de=new Map,$e=new Map,ce;function Z(){if(f=t.history.listen(A=>{let{action:D,location:H,delta:X}=A;if(ce){ce(),ce=void 0;return}Oa($e.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=i_({currentLocation:_.location,nextLocation:H,historyAction:D});if(ne&&X!=null){let me=new Promise(we=>{ce=we});t.history.go(X*-1),lh(ne,{state:"blocked",location:H,proceed(){lh(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),me.then(()=>t.history.go(X))},reset(){let we=new Map(_.blockers);we.set(ne,Al),K({blockers:we})}});return}return ae(D,H)}),n){fz(e,T);let A=()=>dz(e,T);e.addEventListener("pagehide",A),R=()=>e.removeEventListener("pagehide",A)}return _.initialized||ae(kt.Pop,_.location,{initialHydration:!0}),E}function re(){f&&f(),R&&R(),d.clear(),P&&P.abort(),_.fetchers.forEach((A,D)=>ar(D)),_.blockers.forEach((A,D)=>r_(D))}function ee(A){return d.add(A),()=>d.delete(A)}function K(A,D){D===void 0&&(D={}),_=st({},_,A);let H=[],X=[];c.v7_fetcherPersist&&_.fetchers.forEach((ne,me)=>{ne.state==="idle"&&(ie.has(me)?X.push(me):H.push(me))}),ie.forEach(ne=>{!_.fetchers.has(ne)&&!N.has(ne)&&X.push(ne)}),[...d].forEach(ne=>ne(_,{deletedFetchers:X,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),c.v7_fetcherPersist?(H.forEach(ne=>_.fetchers.delete(ne)),X.forEach(ne=>ar(ne))):X.forEach(ne=>ie.delete(ne))}function be(A,D,H){var X,ne;let{flushSync:me}=H===void 0?{}:H,we=_.actionData!=null&&_.navigation.formMethod!=null&&mr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((X=A.state)==null?void 0:X._isRedirect)!==!0,ue;D.actionData?Object.keys(D.actionData).length>0?ue=D.actionData:ue=null:we?ue=_.actionData:ue=null;let fe=D.loaderData?$1(_.loaderData,D.loaderData,D.matches||[],D.errors):_.loaderData,le=_.blockers;le.size>0&&(le=new Map(le),le.forEach((Ne,Ht)=>le.set(Ht,Al)));let pe=k===!0||_.navigation.formMethod!=null&&mr(_.navigation.formMethod)&&((ne=A.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),z||S===kt.Pop||(S===kt.Push?t.history.push(A,A.state):S===kt.Replace&&t.history.replace(A,A.state));let Oe;if(S===kt.Pop){let Ne=T.get(_.location.pathname);Ne&&Ne.has(A.pathname)?Oe={currentLocation:_.location,nextLocation:A}:T.has(A.pathname)&&(Oe={currentLocation:A,nextLocation:_.location})}else if($){let Ne=T.get(_.location.pathname);Ne?Ne.add(A.pathname):(Ne=new Set([A.pathname]),T.set(_.location.pathname,Ne)),Oe={currentLocation:_.location,nextLocation:A}}K(st({},D,{actionData:ue,loaderData:fe,historyAction:S,location:A,initialized:!0,navigation:uv,revalidation:"idle",restoreScrollPosition:o_(A,D.matches||_.matches),preventScrollReset:pe,blockers:le}),{viewTransitionOpts:Oe,flushSync:me===!0}),S=kt.Pop,k=!1,$=!1,z=!1,U=!1,W=[]}async function he(A,D){if(typeof A=="number"){t.history.go(A);return}let H=fy(_.location,_.matches,l,c.v7_prependBasename,A,c.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:X,submission:ne,error:me}=x1(c.v7_normalizeFormMethod,!1,H,D),we=_.location,ue=Hu(_.location,X,D&&D.state);ue=st({},ue,t.history.encodeLocation(ue));let fe=D&&D.replace!=null?D.replace:void 0,le=kt.Push;fe===!0?le=kt.Replace:fe===!1||ne!=null&&mr(ne.formMethod)&&ne.formAction===_.location.pathname+_.location.search&&(le=kt.Replace);let pe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Oe=(D&&D.flushSync)===!0,Ne=i_({currentLocation:we,nextLocation:ue,historyAction:le});if(Ne){lh(Ne,{state:"blocked",location:ue,proceed(){lh(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),he(A,D)},reset(){let Ht=new Map(_.blockers);Ht.set(Ne,Al),K({blockers:Ht})}});return}return await ae(le,ue,{submission:ne,pendingError:me,preventScrollReset:pe,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:Oe})}function ge(){if(Dt(),K({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){ae(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}ae(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:$===!0})}}async function ae(A,D,H){P&&P.abort(),P=null,S=A,z=(H&&H.startUninterruptedRevalidation)===!0,zI(_.location,_.matches),k=(H&&H.preventScrollReset)===!0,$=(H&&H.enableViewTransition)===!0;let X=a||o,ne=H&&H.overrideNavigation,me=H!=null&&H.initialHydration&&_.matches&&_.matches.length>0&&!g?_.matches:Ts(X,D,l),we=(H&&H.flushSync)===!0;if(me&&_.initialized&&!U&&iz(_.location,D)&&!(H&&H.submission&&mr(H.submission.formMethod))){be(D,{matches:me},{flushSync:we});return}let ue=uh(me,X,D.pathname);if(ue.active&&ue.matches&&(me=ue.matches),!me){let{error:Ze,notFoundMatches:ze,route:pt}=Nm(D.pathname);be(D,{matches:ze,loaderData:{},errors:{[pt.id]:Ze}},{flushSync:we});return}P=new AbortController;let fe=Po(t.history,D,P.signal,H&&H.submission),le;if(H&&H.pendingError)le=[js(me).route.id,{type:Be.error,error:H.pendingError}];else if(H&&H.submission&&mr(H.submission.formMethod)){let Ze=await Re(fe,D,H.submission,me,ue.active,{replace:H.replace,flushSync:we});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[ze,pt]=Ze.pendingActionResult;if(Mn(pt)&&Ku(pt.error)&&pt.error.status===404){P=null,be(D,{matches:Ze.matches,loaderData:{},errors:{[ze]:pt.error}});return}}me=Ze.matches||me,le=Ze.pendingActionResult,ne=cv(D,H.submission),we=!1,ue.active=!1,fe=Po(t.history,fe.url,fe.signal)}let{shortCircuited:pe,matches:Oe,loaderData:Ne,errors:Ht}=await Se(fe,D,me,ue.active,ne,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,we,le);pe||(P=null,be(D,st({matches:Oe||me},T1(le),{loaderData:Ne,errors:Ht})))}async function Re(A,D,H,X,ne,me){me===void 0&&(me={}),Dt();let we=cz(D,H);if(K({navigation:we},{flushSync:me.flushSync===!0}),ne){let le=await ch(X,D.pathname,A.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let pe=js(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[pe,{type:Be.error,error:le.error}]}}else if(le.matches)X=le.matches;else{let{notFoundMatches:pe,error:Oe,route:Ne}=Nm(D.pathname);return{matches:pe,pendingActionResult:[Ne.id,{type:Be.error,error:Oe}]}}}let ue,fe=Jl(X,D);if(!fe.route.action&&!fe.route.lazy)ue={type:Be.error,error:bn(405,{method:A.method,pathname:D.pathname,routeId:fe.route.id})};else if(ue=(await Tt("action",_,A,[fe],X,null))[fe.route.id],A.signal.aborted)return{shortCircuited:!0};if(Is(ue)){let le;return me&&me.replace!=null?le=me.replace:le=k1(ue.response.headers.get("Location"),new URL(A.url),l)===_.location.pathname+_.location.search,await Ke(A,ue,!0,{submission:H,replace:le}),{shortCircuited:!0}}if(zi(ue))throw bn(400,{type:"defer-action"});if(Mn(ue)){let le=js(X,fe.route.id);return(me&&me.replace)!==!0&&(S=kt.Push),{matches:X,pendingActionResult:[le.route.id,ue]}}return{matches:X,pendingActionResult:[fe.route.id,ue]}}async function Se(A,D,H,X,ne,me,we,ue,fe,le,pe){let Oe=ne||cv(D,me),Ne=me||we||N1(Oe),Ht=!z&&(!c.v7_partialHydration||!fe);if(X){if(Ht){let mt=Ae(pe);K(st({navigation:Oe},mt!==void 0?{actionData:mt}:{}),{flushSync:le})}let Le=await ch(H,D.pathname,A.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let mt=js(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[mt]:Le.error}}}else if(Le.matches)H=Le.matches;else{let{error:mt,notFoundMatches:Oo,route:Sl}=Nm(D.pathname);return{matches:Oo,loaderData:{},errors:{[Sl.id]:mt}}}}let Ze=a||o,[ze,pt]=S1(t.history,_,H,Ne,D,c.v7_partialHydration&&fe===!0,c.v7_skipActionErrorRevalidation,U,W,B,ie,V,I,Ze,l,pe);if(Mm(Le=>!(H&&H.some(mt=>mt.route.id===Le))||ze&&ze.some(mt=>mt.route.id===Le)),F=++L,ze.length===0&&pt.length===0){let Le=t_();return be(D,st({matches:H,loaderData:{},errors:pe&&Mn(pe[1])?{[pe[0]]:pe[1].error}:null},T1(pe),Le?{fetchers:new Map(_.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(Ht){let Le={};if(!X){Le.navigation=Oe;let mt=Ae(pe);mt!==void 0&&(Le.actionData=mt)}pt.length>0&&(Le.fetchers=Ge(pt)),K(Le,{flushSync:le})}pt.forEach(Le=>{gn(Le.key),Le.controller&&N.set(Le.key,Le.controller)});let So=()=>pt.forEach(Le=>gn(Le.key));P&&P.signal.addEventListener("abort",So);let{loaderResults:xl,fetcherResults:Wr}=await bt(_,H,ze,pt,A);if(A.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",So),pt.forEach(Le=>N.delete(Le.key));let Cr=Th(xl);if(Cr)return await Ke(A,Cr.result,!0,{replace:ue}),{shortCircuited:!0};if(Cr=Th(Wr),Cr)return I.add(Cr.key),await Ke(A,Cr.result,!0,{replace:ue}),{shortCircuited:!0};let{loaderData:Rm,errors:_l}=C1(_,H,xl,pe,pt,Wr,de);de.forEach((Le,mt)=>{Le.subscribe(Oo=>{(Oo||Le.done)&&de.delete(mt)})}),c.v7_partialHydration&&fe&&_.errors&&(_l=st({},_.errors,_l));let ys=t_(),hh=n_(F),fh=ys||hh||pt.length>0;return st({matches:H,loaderData:Rm,errors:_l},fh?{fetchers:new Map(_.fetchers)}:{})}function Ae(A){if(A&&!Mn(A[1]))return{[A[0]]:A[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Ge(A){return A.forEach(D=>{let H=_.fetchers.get(D.key),X=Nl(void 0,H?H.data:void 0);_.fetchers.set(D.key,X)}),new Map(_.fetchers)}function en(A,D,H,X){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");gn(A);let ne=(X&&X.flushSync)===!0,me=a||o,we=fy(_.location,_.matches,l,c.v7_prependBasename,H,c.v7_relativeSplatPath,D,X==null?void 0:X.relative),ue=Ts(me,we,l),fe=uh(ue,me,we);if(fe.active&&fe.matches&&(ue=fe.matches),!ue){Tn(A,D,bn(404,{pathname:we}),{flushSync:ne});return}let{path:le,submission:pe,error:Oe}=x1(c.v7_normalizeFormMethod,!0,we,X);if(Oe){Tn(A,D,Oe,{flushSync:ne});return}let Ne=Jl(ue,le),Ht=(X&&X.preventScrollReset)===!0;if(pe&&mr(pe.formMethod)){St(A,D,le,Ne,ue,fe.active,ne,Ht,pe);return}V.set(A,{routeId:D,path:le}),or(A,D,le,Ne,ue,fe.active,ne,Ht,pe)}async function St(A,D,H,X,ne,me,we,ue,fe){Dt(),V.delete(A);function le(Ot){if(!Ot.route.action&&!Ot.route.lazy){let Eo=bn(405,{method:fe.formMethod,pathname:H,routeId:D});return Tn(A,D,Eo,{flushSync:we}),!0}return!1}if(!me&&le(X))return;let pe=_.fetchers.get(A);zt(A,hz(fe,pe),{flushSync:we});let Oe=new AbortController,Ne=Po(t.history,H,Oe.signal,fe);if(me){let Ot=await ch(ne,new URL(Ne.url).pathname,Ne.signal,A);if(Ot.type==="aborted")return;if(Ot.type==="error"){Tn(A,D,Ot.error,{flushSync:we});return}else if(Ot.matches){if(ne=Ot.matches,X=Jl(ne,H),le(X))return}else{Tn(A,D,bn(404,{pathname:H}),{flushSync:we});return}}N.set(A,Oe);let Ht=L,ze=(await Tt("action",_,Ne,[X],ne,A))[X.route.id];if(Ne.signal.aborted){N.get(A)===Oe&&N.delete(A);return}if(c.v7_fetcherPersist&&ie.has(A)){if(Is(ze)||Mn(ze)){zt(A,ki(void 0));return}}else{if(Is(ze))if(N.delete(A),F>Ht){zt(A,ki(void 0));return}else return I.add(A),zt(A,Nl(fe)),Ke(Ne,ze,!1,{fetcherSubmission:fe,preventScrollReset:ue});if(Mn(ze)){Tn(A,D,ze.error);return}}if(zi(ze))throw bn(400,{type:"defer-action"});let pt=_.navigation.location||_.location,So=Po(t.history,pt,Oe.signal),xl=a||o,Wr=_.navigation.state!=="idle"?Ts(xl,_.navigation.location,l):_.matches;Te(Wr,"Didn't find any matches after fetcher action");let Cr=++L;j.set(A,Cr);let Rm=Nl(fe,ze.data);_.fetchers.set(A,Rm);let[_l,ys]=S1(t.history,_,Wr,fe,pt,!1,c.v7_skipActionErrorRevalidation,U,W,B,ie,V,I,xl,l,[X.route.id,ze]);ys.filter(Ot=>Ot.key!==A).forEach(Ot=>{let Eo=Ot.key,a_=_.fetchers.get(Eo),UI=Nl(void 0,a_?a_.data:void 0);_.fetchers.set(Eo,UI),gn(Eo),Ot.controller&&N.set(Eo,Ot.controller)}),K({fetchers:new Map(_.fetchers)});let hh=()=>ys.forEach(Ot=>gn(Ot.key));Oe.signal.addEventListener("abort",hh);let{loaderResults:fh,fetcherResults:Le}=await bt(_,Wr,_l,ys,So);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",hh),j.delete(A),N.delete(A),ys.forEach(Ot=>N.delete(Ot.key));let mt=Th(fh);if(mt)return Ke(So,mt.result,!1,{preventScrollReset:ue});if(mt=Th(Le),mt)return I.add(mt.key),Ke(So,mt.result,!1,{preventScrollReset:ue});let{loaderData:Oo,errors:Sl}=C1(_,Wr,fh,void 0,ys,Le,de);if(_.fetchers.has(A)){let Ot=ki(ze.data);_.fetchers.set(A,Ot)}n_(Cr),_.navigation.state==="loading"&&Cr>F?(Te(S,"Expected pending action"),P&&P.abort(),be(_.navigation.location,{matches:Wr,loaderData:Oo,errors:Sl,fetchers:new Map(_.fetchers)})):(K({errors:Sl,loaderData:$1(_.loaderData,Oo,Wr,Sl),fetchers:new Map(_.fetchers)}),U=!1)}async function or(A,D,H,X,ne,me,we,ue,fe){let le=_.fetchers.get(A);zt(A,Nl(fe,le?le.data:void 0),{flushSync:we});let pe=new AbortController,Oe=Po(t.history,H,pe.signal);if(me){let ze=await ch(ne,new URL(Oe.url).pathname,Oe.signal,A);if(ze.type==="aborted")return;if(ze.type==="error"){Tn(A,D,ze.error,{flushSync:we});return}else if(ze.matches)ne=ze.matches,X=Jl(ne,H);else{Tn(A,D,bn(404,{pathname:H}),{flushSync:we});return}}N.set(A,pe);let Ne=L,Ze=(await Tt("loader",_,Oe,[X],ne,A))[X.route.id];if(zi(Ze)&&(Ze=await _w(Ze,Oe.signal,!0)||Ze),N.get(A)===pe&&N.delete(A),!Oe.signal.aborted){if(ie.has(A)){zt(A,ki(void 0));return}if(Is(Ze))if(F>Ne){zt(A,ki(void 0));return}else{I.add(A),await Ke(Oe,Ze,!1,{preventScrollReset:ue});return}if(Mn(Ze)){Tn(A,D,Ze.error);return}Te(!zi(Ze),"Unhandled fetcher deferred data"),zt(A,ki(Ze.data))}}async function Ke(A,D,H,X){let{submission:ne,fetcherSubmission:me,preventScrollReset:we,replace:ue}=X===void 0?{}:X;D.response.headers.has("X-Remix-Revalidate")&&(U=!0);let fe=D.response.headers.get("Location");Te(fe,"Expected a Location header on the redirect Response"),fe=k1(fe,new URL(A.url),l);let le=Hu(_.location,fe,{_isRedirect:!0});if(n){let ze=!1;if(D.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(xw.test(fe)){const pt=t.history.createURL(fe);ze=pt.origin!==e.location.origin||Qa(pt.pathname,l)==null}if(ze){ue?e.location.replace(fe):e.location.assign(fe);return}}P=null;let pe=ue===!0||D.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:Oe,formAction:Ne,formEncType:Ht}=_.navigation;!ne&&!me&&Oe&&Ne&&Ht&&(ne=N1(_.navigation));let Ze=ne||me;if(HD.has(D.response.status)&&Ze&&mr(Ze.formMethod))await ae(pe,le,{submission:st({},Ze,{formAction:fe}),preventScrollReset:we||k,enableViewTransition:H?$:void 0});else{let ze=cv(le,ne);await ae(pe,le,{overrideNavigation:ze,fetcherSubmission:me,preventScrollReset:we||k,enableViewTransition:H?$:void 0})}}async function Tt(A,D,H,X,ne,me){let we,ue={};try{we=await QD(u,A,D,H,X,ne,me,s,i)}catch(fe){return X.forEach(le=>{ue[le.route.id]={type:Be.error,error:fe}}),ue}for(let[fe,le]of Object.entries(we))if(sz(le)){let pe=le.result;ue[fe]={type:Be.redirect,response:nz(pe,H,fe,ne,l,c.v7_relativeSplatPath)}}else ue[fe]=await tz(le);return ue}async function bt(A,D,H,X,ne){let me=A.matches,we=Tt("loader",A,ne,H,D,null),ue=Promise.all(X.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Ne=(await Tt("loader",A,Po(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:Ne}}else return Promise.resolve({[pe.key]:{type:Be.error,error:bn(404,{pathname:pe.path})}})})),fe=await we,le=(await ue).reduce((pe,Oe)=>Object.assign(pe,Oe),{});return await Promise.all([lz(D,fe,ne.signal,me,A.loaderData),uz(D,le,X)]),{loaderResults:fe,fetcherResults:le}}function Dt(){U=!0,W.push(...Mm()),V.forEach((A,D)=>{N.has(D)&&B.add(D),gn(D)})}function zt(A,D,H){H===void 0&&(H={}),_.fetchers.set(A,D),K({fetchers:new Map(_.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Tn(A,D,H,X){X===void 0&&(X={});let ne=js(_.matches,D);ar(A),K({errors:{[ne.route.id]:H},fetchers:new Map(_.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function bl(A){return te.set(A,(te.get(A)||0)+1),ie.has(A)&&ie.delete(A),_.fetchers.get(A)||KD}function ar(A){let D=_.fetchers.get(A);N.has(A)&&!(D&&D.state==="loading"&&j.has(A))&&gn(A),V.delete(A),j.delete(A),I.delete(A),c.v7_fetcherPersist&&ie.delete(A),B.delete(A),_.fetchers.delete(A)}function Un(A){let D=(te.get(A)||0)-1;D<=0?(te.delete(A),ie.add(A),c.v7_fetcherPersist||ar(A)):te.set(A,D),K({fetchers:new Map(_.fetchers)})}function gn(A){let D=N.get(A);D&&(D.abort(),N.delete(A))}function wl(A){for(let D of A){let H=bl(D),X=ki(H.data);_.fetchers.set(D,X)}}function t_(){let A=[],D=!1;for(let H of I){let X=_.fetchers.get(H);Te(X,"Expected fetcher: "+H),X.state==="loading"&&(I.delete(H),A.push(H),D=!0)}return wl(A),D}function n_(A){let D=[];for(let[H,X]of j)if(X<A){let ne=_.fetchers.get(H);Te(ne,"Expected fetcher: "+H),ne.state==="loading"&&(gn(H),j.delete(H),D.push(H))}return wl(D),D.length>0}function LI(A,D){let H=_.blockers.get(A)||Al;return $e.get(A)!==D&&$e.set(A,D),H}function r_(A){_.blockers.delete(A),$e.delete(A)}function lh(A,D){let H=_.blockers.get(A)||Al;Te(H.state==="unblocked"&&D.state==="blocked"||H.state==="blocked"&&D.state==="blocked"||H.state==="blocked"&&D.state==="proceeding"||H.state==="blocked"&&D.state==="unblocked"||H.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+D.state);let X=new Map(_.blockers);X.set(A,D),K({blockers:X})}function i_(A){let{currentLocation:D,nextLocation:H,historyAction:X}=A;if($e.size===0)return;$e.size>1&&Oa(!1,"A router only supports one blocker at a time");let ne=Array.from($e.entries()),[me,we]=ne[ne.length-1],ue=_.blockers.get(me);if(!(ue&&ue.state==="proceeding")&&we({currentLocation:D,nextLocation:H,historyAction:X}))return me}function Nm(A){let D=bn(404,{pathname:A}),H=a||o,{matches:X,route:ne}=j1(H);return Mm(),{notFoundMatches:X,route:ne,error:D}}function Mm(A){let D=[];return de.forEach((H,X)=>{(!A||A(X))&&(H.cancel(),D.push(X),de.delete(X))}),D}function DI(A,D,H){if(p=A,b=D,m=H||null,!y&&_.navigation===uv){y=!0;let X=o_(_.location,_.matches);X!=null&&K({restoreScrollPosition:X})}return()=>{p=null,b=null,m=null}}function s_(A,D){return m&&m(A,D.map(X=>SD(X,_.loaderData)))||A.key}function zI(A,D){if(p&&b){let H=s_(A,D);p[H]=b()}}function o_(A,D){if(p){let H=s_(A,D),X=p[H];if(typeof X=="number")return X}return null}function uh(A,D,H){if(h)if(A){if(Object.keys(A[0].params).length>0)return{active:!0,matches:Sf(D,H,l,!0)}}else return{active:!0,matches:Sf(D,H,l,!0)||[]};return{active:!1,matches:null}}async function ch(A,D,H,X){if(!h)return{type:"success",matches:A};let ne=A;for(;;){let me=a==null,we=a||o,ue=s;try{await h({signal:H,path:D,matches:ne,fetcherKey:X,patch:(pe,Oe)=>{H.aborted||E1(pe,Oe,we,ue,i)}})}catch(pe){return{type:"error",error:pe,partialMatches:ne}}finally{me&&!H.aborted&&(o=[...o])}if(H.aborted)return{type:"aborted"};let fe=Ts(we,D,l);if(fe)return{type:"success",matches:fe};let le=Sf(we,D,l,!0);if(!le||ne.length===le.length&&ne.every((pe,Oe)=>pe.route.id===le[Oe].route.id))return{type:"success",matches:null};ne=le}}function FI(A){s={},a=Yf(A,i,void 0,s)}function BI(A,D){let H=a==null;E1(A,D,a||o,s,i),H&&(o=[...o],K({}))}return E={get basename(){return l},get future(){return c},get state(){return _},get routes(){return o},get window(){return e},initialize:Z,subscribe:ee,enableScrollRestoration:DI,navigate:he,fetch:en,revalidate:ge,createHref:A=>t.history.createHref(A),encodeLocation:A=>t.history.encodeLocation(A),getFetcher:bl,deleteFetcher:Un,dispose:re,getBlocker:LI,deleteBlocker:r_,patchRoutes:BI,_internalFetchControllers:N,_internalActiveDeferreds:de,_internalSetRoutes:FI},E}function ZD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function fy(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let c of e)if(l.push(c),c.route.id===o){u=c;break}}else l=e,u=e[e.length-1];let h=ww(i||".",bw(l,s),Qa(t.pathname,n)||t.pathname,a==="path");if(i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&u){let c=Sw(h.search);if(u.route.index&&!c)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let f=new URLSearchParams(h.search),d=f.getAll("index");f.delete("index"),d.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();h.search=p?"?"+p:""}}return r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:ii([n,h.pathname])),to(h)}function x1(t,e,n,r){if(!r||!ZD(r))return{path:n};if(r.formMethod&&!az(r.formMethod))return{path:n,error:bn(405,{method:r.formMethod})};let i=()=>({path:n,error:bn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=cj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!mr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,p)=>{let[m,b]=p;return""+d+m+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!mr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=py(r.formData),u=r.formData;else if(r.body instanceof FormData)l=py(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=P1(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=P1(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(mr(h.formMethod))return{path:n,submission:h};let c=cs(n);return e&&c.search&&Sw(c.search)&&l.append("index",""),c.search="?"+l,{path:to(c),submission:h}}function _1(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function S1(t,e,n,r,i,s,o,a,l,u,h,c,f,d,p,m){let b=m?Mn(m[1])?m[1].error:m[1].data:void 0,y=t.createURL(e.location),v=t.createURL(i),g=n;s&&e.errors?g=_1(n,Object.keys(e.errors)[0],!0):m&&Mn(m[1])&&(g=_1(n,m[0]));let O=m?m[1].statusCode:void 0,x=o&&O&&O>=400,E=g.filter((S,k)=>{let{route:P}=S;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return dy(P,e.loaderData,e.errors);if(XD(e.loaderData,e.matches[k],S)||l.some(R=>R===S.route.id))return!0;let $=e.matches[k],T=S;return O1(S,st({currentUrl:y,currentParams:$.params,nextUrl:v,nextParams:T.params},r,{actionResult:b,actionStatus:O,defaultShouldRevalidate:x?!1:a||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||lj($,T)}))}),_=[];return c.forEach((S,k)=>{if(s||!n.some(z=>z.route.id===S.routeId)||h.has(k))return;let P=Ts(d,S.path,p);if(!P){_.push({key:k,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let $=e.fetchers.get(k),T=Jl(P,S.path),R=!1;f.has(k)?R=!1:u.has(k)?(u.delete(k),R=!0):$&&$.state!=="idle"&&$.data===void 0?R=a:R=O1(T,st({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:O,defaultShouldRevalidate:x?!1:a})),R&&_.push({key:k,routeId:S.routeId,path:S.path,matches:P,match:T,controller:new AbortController})}),[E,_]}function dy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function XD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function lj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function O1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function E1(t,e,n,r,i){var s;let o;if(t){let u=r[t];Te(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(h=>uj(u,h))),l=Yf(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function uj(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>uj(n,s))}):!1}async function YD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Oa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!xD.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,st({},e(i),{lazy:void 0}))}async function JD(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function QD(t,e,n,r,i,s,o,a,l,u){let h=s.map(d=>d.route.lazy?YD(d.route,l,a):void 0),c=s.map((d,p)=>{let m=h[p],b=i.some(v=>v.route.id===d.route.id);return st({},d,{shouldLoad:b,resolve:async v=>(v&&r.method==="GET"&&(d.route.lazy||d.route.loader)&&(b=!0),b?ez(e,r,d,m,v,u):Promise.resolve({type:Be.data,result:void 0}))})}),f=await t({matches:c,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(h)}catch{}return f}async function ez(t,e,n,r,i,s){let o,a,l=u=>{let h,c=new Promise((p,m)=>h=m);a=()=>h(),e.signal.addEventListener("abort",a);let f=p=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([d,c])};try{let u=n.route[t];if(r)if(u){let h,[c]=await Promise.all([l(u).catch(f=>{h=f}),r]);if(h!==void 0)throw h;o=c}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let h=new URL(e.url),c=h.pathname+h.search;throw bn(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(u)o=await l(u);else{let h=new URL(e.url),c=h.pathname+h.search;throw bn(404,{pathname:c})}Te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Be.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function tz(t){let{result:e,type:n}=t;if(hj(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:Be.error,error:f}}return n===Be.error?{type:Be.error,error:new Jf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Be.error){if(A1(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Be.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Be.error,error:new Jf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ku(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Be.error,error:e,statusCode:Ku(e)?e.status:void 0}}if(oz(e)){var a,l;return{type:Be.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(A1(e)){var u,h;return{type:Be.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:Be.data,data:e}}function nz(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!xw.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=fy(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function k1(t,e,n){if(xw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Qa(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Po(t,e,n,r){let i=t.createURL(cj(e)).toString(),s={signal:n};if(r&&mr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=py(r.formData):s.body=r.formData}return new Request(i,s)}function py(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function P1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function rz(t,e,n,r,i){let s={},o=null,a,l=!1,u={},h=n&&Mn(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let f=c.route.id,d=e[f];if(Te(!Is(d),"Cannot handle redirect results in processLoaderData"),Mn(d)){let p=d.error;h!==void 0&&(p=h,h=void 0),o=o||{};{let m=js(t,f);o[m.route.id]==null&&(o[m.route.id]=p)}s[f]=void 0,l||(l=!0,a=Ku(d.error)?d.error.status:500),d.headers&&(u[f]=d.headers)}else zi(d)?(r.set(f,d.deferredData),s[f]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(u[f]=d.headers)):(s[f]=d.data,d.statusCode&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(u[f]=d.headers))}),h!==void 0&&n&&(o={[n[0]]:h},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function C1(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=rz(e,n,r,o);return i.forEach(u=>{let{key:h,match:c,controller:f}=u,d=s[h];if(Te(d,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Mn(d)){let p=js(t.matches,c==null?void 0:c.route.id);l&&l[p.route.id]||(l=st({},l,{[p.route.id]:d.error})),t.fetchers.delete(h)}else if(Is(d))Te(!1,"Unhandled fetcher revalidation redirect");else if(zi(d))Te(!1,"Unhandled fetcher deferred data");else{let p=ki(d.data);t.fetchers.set(h,p)}}),{loaderData:a,errors:l}}function $1(t,e,n,r){let i=st({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function T1(t){return t?Mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function js(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function j1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Jf(t||500,a,new Error(l),!0)}function Th(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Is(i))return{key:r,result:i}}}function cj(t){let e=typeof t=="string"?cs(t):t;return to(st({},e,{hash:""}))}function iz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sz(t){return hj(t.result)&&VD.has(t.result.status)}function zi(t){return t.type===Be.deferred}function Mn(t){return t.type===Be.error}function Is(t){return(t&&t.type)===Be.redirect}function A1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function oz(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function hj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function az(t){return WD.has(t.toLowerCase())}function mr(t){return BD.has(t.toLowerCase())}async function lz(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let h=r.find(f=>f.route.id===u.route.id),c=h!=null&&!lj(h,u)&&(i&&i[u.route.id])!==void 0;zi(l)&&c&&await _w(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function uz(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&zi(a)&&(Te(o,"Expected an AbortController for revalidating fetcher deferred result"),await _w(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function _w(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function Sw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jl(t,e){let n=typeof e=="string"?cs(e).search:e.search;if(t[t.length-1].route.index&&Sw(n||""))return t[t.length-1];let r=sj(t);return r[r.length-1]}function N1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function cv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ki(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fz(t,e){try{let n=t.sessionStorage.getItem(aj);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function dz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(aj,JSON.stringify(n))}catch(r){Oa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}const Pp=C.createContext(null),fj=C.createContext(null),mo=C.createContext(null),Ow=C.createContext(null),yi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),dj=C.createContext(null);function pz(t,e){let{relative:n}=e===void 0?{}:e;Gc()||Te(!1);let{basename:r,navigator:i}=C.useContext(mo),{hash:s,pathname:o,search:a}=mj(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ii([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gc(){return C.useContext(Ow)!=null}function el(){return Gc()||Te(!1),C.useContext(Ow).location}function pj(t){C.useContext(mo).static||C.useLayoutEffect(t)}function Cp(){let{isDataRoute:t}=C.useContext(yi);return t?$z():mz()}function mz(){Gc()||Te(!1);let t=C.useContext(Pp),{basename:e,future:n,navigator:r}=C.useContext(mo),{matches:i}=C.useContext(yi),{pathname:s}=el(),o=JSON.stringify(bw(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return pj(()=>{a.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=ww(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ii([e,c.pathname])),(h.replace?r.replace:r.push)(c,h.state,h)},[e,r,o,s,t])}const vz=C.createContext(null);function gz(t){let e=C.useContext(yi).outlet;return e&&C.createElement(vz.Provider,{value:t},e)}function yz(){let{matches:t}=C.useContext(yi),e=t[t.length-1];return e?e.params:{}}function mj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(mo),{matches:i}=C.useContext(yi),{pathname:s}=el(),o=JSON.stringify(bw(i,r.v7_relativeSplatPath));return C.useMemo(()=>ww(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function bz(t,e,n,r){Gc()||Te(!1);let{navigator:i}=C.useContext(mo),{matches:s}=C.useContext(yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=el(),h;h=u;let c=h.pathname||"/",f=c;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+c.replace(/^\//,"").split("/").slice(m.length).join("/")}let d=Ts(t,{pathname:f});return Oz(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:ii([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ii([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r)}function wz(){let t=Cz(),e=Ku(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const xz=C.createElement(wz,null);class _z extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(yi.Provider,{value:this.props.routeContext},C.createElement(dj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sz(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(Pp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(yi.Provider,{value:e},r)}function Oz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);h>=0||Te(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let c=o[h];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=h),c.route.id){let{loaderData:f,errors:d}=n,p=c.route.loader&&f[c.route.id]===void 0&&(!d||d[c.route.id]===void 0);if(c.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,c,f)=>{let d,p=!1,m=null,b=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,m=c.route.errorElement||xz,l&&(u<0&&f===0?(Tz("route-fallback"),p=!0,b=null):u===f&&(p=!0,b=c.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let g;return d?g=m:p?g=b:c.route.Component?g=C.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=h,C.createElement(Sz,{match:c,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?C.createElement(_z,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var vj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vj||{}),gj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gj||{});function Ez(t){let e=C.useContext(Pp);return e||Te(!1),e}function kz(t){let e=C.useContext(fj);return e||Te(!1),e}function Pz(t){let e=C.useContext(yi);return e||Te(!1),e}function yj(t){let e=Pz(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function Cz(){var t;let e=C.useContext(dj),n=kz(gj.UseRouteError),r=yj();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $z(){let{router:t}=Ez(vj.UseNavigateStable),e=yj(),n=C.useRef(!1);return pj(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qf({fromRouteId:e},s)))},[t,e])}const M1={};function Tz(t,e,n){M1[t]||(M1[t]=!0)}function jz(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function R1(t){return gz(t.context)}function Az(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kt.Pop,navigator:s,static:o=!1,future:a}=t;Gc()&&Te(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:o,future:Qf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=cs(r));let{pathname:h="/",search:c="",hash:f="",state:d=null,key:p="default"}=r,m=C.useMemo(()=>{let b=Qa(h,l);return b==null?null:{location:{pathname:b,search:c,hash:f,state:d,key:p},navigationType:i}},[l,h,c,f,d,p,i]);return m==null?null:C.createElement(mo.Provider,{value:u},C.createElement(Ow.Provider,{children:n,value:m}))}new Promise(()=>{});function Nz(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function Mz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Iz(t,e){return t.button===0&&(!e||e==="_self")&&!Rz(t)}const Lz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dz="6";try{window.__reactRouterVersion=Dz}catch{}function zz(t,e){return GD({basename:void 0,future:qu({},void 0,{v7_prependBasename:!0}),history:yD({window:void 0}),hydrationData:Fz(),routes:t,mapRouteProperties:Nz,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Fz(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=qu({},e,{errors:Bz(e.errors)})),e}function Bz(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Jf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Uz=C.createContext({isTransitioning:!1}),Wz=C.createContext(new Map),Vz="startTransition",I1=s2[Vz],Hz="flushSync",L1=gD[Hz];function Kz(t){I1?I1(t):t()}function Ml(t){L1?L1(t):t()}let qz=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Gz(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=C.useState(n.state),[o,a]=C.useState(),[l,u]=C.useState({isTransitioning:!1}),[h,c]=C.useState(),[f,d]=C.useState(),[p,m]=C.useState(),b=C.useRef(new Map),{v7_startTransition:y}=r||{},v=C.useCallback(S=>{y?Kz(S):S()},[y]),g=C.useCallback((S,k)=>{let{deletedFetchers:P,flushSync:$,viewTransitionOpts:T}=k;S.fetchers.forEach((z,U)=>{z.data!==void 0&&b.current.set(U,z.data)}),P.forEach(z=>b.current.delete(z));let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!T||R){$?Ml(()=>s(S)):v(()=>s(S));return}if($){Ml(()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let z=n.window.document.startViewTransition(()=>{Ml(()=>s(S))});z.finished.finally(()=>{Ml(()=>{c(void 0),d(void 0),a(void 0),u({isTransitioning:!1})})}),Ml(()=>d(z));return}f?(h&&h.resolve(),f.skipTransition(),m({state:S,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(a(S),u({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[n.window,f,h,b,v]);C.useLayoutEffect(()=>n.subscribe(g),[n,g]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&c(new qz)},[l]),C.useEffect(()=>{if(h&&o&&n.window){let S=o,k=h.promise,P=n.window.document.startViewTransition(async()=>{v(()=>s(S)),await k});P.finished.finally(()=>{c(void 0),d(void 0),a(void 0),u({isTransitioning:!1})}),d(P)}},[v,o,h,n.window]),C.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),C.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),C.useEffect(()=>{},[]);let O=C.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,k,P)=>n.navigate(S,{state:k,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(S,k,P)=>n.navigate(S,{replace:!0,state:k,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),x=n.basename||"/",E=C.useMemo(()=>({router:n,navigator:O,static:!1,basename:x}),[n,O,x]),_=C.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return C.useEffect(()=>jz(r,n.future),[r,n.future]),C.createElement(C.Fragment,null,C.createElement(Pp.Provider,{value:E},C.createElement(fj.Provider,{value:i},C.createElement(Wz.Provider,{value:b.current},C.createElement(Uz.Provider,{value:l},C.createElement(Az,{basename:x,location:i.location,navigationType:i.historyAction,navigator:O,future:_},i.initialized||n.future.v7_partialHydration?C.createElement(Zz,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Zz=C.memo(Xz);function Xz(t){let{routes:e,future:n,state:r}=t;return bz(e,void 0,r,n)}const Yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:c}=e,f=Mz(e,Lz),{basename:d}=C.useContext(mo),p,m=!1;if(typeof u=="string"&&Jz.test(u)&&(p=u,Yz))try{let g=new URL(window.location.href),O=u.startsWith("//")?new URL(g.protocol+u):new URL(u),x=Qa(O.pathname,d);O.origin===g.origin&&x!=null?u=x+O.search+O.hash:m=!0}catch{}let b=pz(u,{relative:i}),y=Qz(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:c});function v(g){r&&r(g),g.defaultPrevented||y(g)}return C.createElement("a",qu({},f,{href:p||b,onClick:m||s?r:v,ref:n,target:l}))});var D1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var z1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z1||(z1={}));function Qz(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Cp(),u=el(),h=mj(t,{relative:o});return C.useCallback(c=>{if(Iz(c,n)){c.preventDefault();let f=r!==void 0?r:to(u)===to(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,h,r,i,n,t,s,o,a])}const eF="modulepreload",tF=function(t){return"/"+t},F1={},tl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=tF(l),l in F1)return;F1[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":eF,u||(c.as="script"),c.crossOrigin="",c.href=l,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},nF=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tl(async()=>{const{default:r}=await Promise.resolve().then(()=>nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ew extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rF extends Ew{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class B1 extends Ew{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class U1 extends Ew{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var my;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(my||(my={}));var iF=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class sF{constructor(e,{headers:n={},customFetch:r,region:i=my.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=nF(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return iF(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const c=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:h}).catch(m=>{throw new rF(m)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new B1(c);if(!c.ok)throw new U1(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield c.json():d==="application/octet-stream"?p=yield c.blob():d==="text/event-stream"?p=c:d==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null,response:c}}catch(i){return{data:null,error:i,response:i instanceof U1||i instanceof B1?i.context:void 0}}})}}var xn={},kw={},$p={},Zc={},Tp={},jp={},oF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ea=oF();const aF=Ea.fetch,bj=Ea.fetch.bind(Ea),wj=Ea.Headers,lF=Ea.Request,uF=Ea.Response,nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:wj,Request:lF,Response:uF,default:bj,fetch:aF},Symbol.toStringTag,{value:"Module"})),cF=WI(nl);var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});let hF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ap.default=hF;var xj=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jp,"__esModule",{value:!0});const fF=xj(cF),dF=xj(Ap);let pF=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,h=null,c=null,f=s.status,d=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(c=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,c=null,f=406,d="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(h=[],u=null,f=200,d="OK")}catch{s.status===404&&m===""?(f=204,d="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,d="OK"),u&&this.shouldThrowOnError)throw new dF.default(u)}return{error:u,data:h,count:c,status:f,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};jp.default=pF;var mF=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tp,"__esModule",{value:!0});const vF=mF(jp);let gF=class extends vF.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Tp.default=gF;var yF=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zc,"__esModule",{value:!0});const bF=yF(Tp);let wF=class extends bF.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Zc.default=wF;var xF=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($p,"__esModule",{value:!0});const Rl=xF(Zc);let _F=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Rl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Rl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Rl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Rl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$p.default=_F;var Np={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.version=void 0;Mp.version="0.0.0-automated";Object.defineProperty(Np,"__esModule",{value:!0});Np.DEFAULT_HEADERS=void 0;const SF=Mp;Np.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SF.version}`};var _j=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kw,"__esModule",{value:!0});const OF=_j($p),EF=_j(Zc),kF=Np;let PF=class Sj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},kF.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new OF.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Sj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,c])=>c!==void 0).map(([h,c])=>[h,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([h,c])=>{a.searchParams.append(h,c)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new EF.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};kw.default=PF;var rl=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});xn.PostgrestError=xn.PostgrestBuilder=xn.PostgrestTransformBuilder=xn.PostgrestFilterBuilder=xn.PostgrestQueryBuilder=xn.PostgrestClient=void 0;const Oj=rl(kw);xn.PostgrestClient=Oj.default;const Ej=rl($p);xn.PostgrestQueryBuilder=Ej.default;const kj=rl(Zc);xn.PostgrestFilterBuilder=kj.default;const Pj=rl(Tp);xn.PostgrestTransformBuilder=Pj.default;const Cj=rl(jp);xn.PostgrestBuilder=Cj.default;const $j=rl(Ap);xn.PostgrestError=$j.default;var CF=xn.default={PostgrestClient:Oj.default,PostgrestQueryBuilder:Ej.default,PostgrestFilterBuilder:kj.default,PostgrestTransformBuilder:Pj.default,PostgrestBuilder:Cj.default,PostgrestError:$j.default};const{PostgrestClient:$F,PostgrestQueryBuilder:Vge,PostgrestFilterBuilder:Hge,PostgrestTransformBuilder:Kge,PostgrestBuilder:qge,PostgrestError:Gge}=CF;class TF{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);if(r>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(n=i.WebSocket)!==null&&n!==void 0?n:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jF="2.15.0",AF=`realtime-js/${jF}`,NF="1.0.0",vy=1e4,MF=1e3,RF=100;var hu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hu||(hu={}));var Nt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Nt||(Nt={}));var vr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vr||(vr={}));var gy;(function(t){t.websocket="websocket"})(gy||(gy={}));var As;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(As||(As={}));class IF{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Tj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const W1=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=LF(o,t,e,i),s),{})},LF=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?jj(s,o):yy(o)},jj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return BF(e,n)}switch(t){case Xe.bool:return DF(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return zF(e);case Xe.json:case Xe.jsonb:return FF(e);case Xe.timestamp:return UF(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return yy(e);default:return yy(e)}},yy=t=>t,DF=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zF=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},FF=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},BF=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>jj(e,a))}return t},UF=t=>typeof t=="string"?t.replace(" ","T"):t,Aj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class hv{constructor(e,n,r={},i=vy){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(V1||(V1={}));class fu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fu.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=fu.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fu.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const c=s[u];if(c){const f=h.map(b=>b.presence_ref),d=c.map(b=>b.presence_ref),p=h.filter(b=>d.indexOf(b.presence_ref)<0),m=c.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(l[u]=m)}else a[u]=h}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const h=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),h.length>0){const c=e[a].map(d=>d.presence_ref),f=h.filter(d=>c.indexOf(d.presence_ref)<0);e[a].unshift(...f)}r(a,h,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const h=l.map(c=>c.presence_ref);u=u.filter(c=>h.indexOf(c.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var H1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(H1||(H1={}));var du;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(du||(du={}));var qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qr||(qr={}));class Pw{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hv(this,vr.join,this.params,this.timeout),this.rejoinTimer=new Tj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new fu(this),this.broadcastEndpointURL=Aj(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[du.PRESENCE]&&this.bindings[du.PRESENCE].length>0,h={},c={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(qr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(qr.CLOSED)),this.updateJoinPayload(Object.assign({config:c},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){e==null||e(qr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,b=[];for(let y=0;y<m;y++){const v=p[y],{filter:{event:g,schema:O,table:x,filter:E}}=v,_=f&&f[y];if(_&&_.event===g&&_.schema===O&&_.table===x&&_.filter===E)b.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=Nt.errored,e==null||e(qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(qr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Nt.errored,e==null||e(qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Nt.joined&&e===du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Nt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hv(this,vr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hv(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>RF){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=vr;if(r&&[a,l,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var p,m,b;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(m=d.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(d=>d.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var p,m,b,y,v,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const O=d.id,x=(p=d.filter)===null||p===void 0?void 0:p.event;return O&&((m=n.ids)===null||m===void 0?void 0:m.includes(O))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const O=(v=(y=d==null?void 0:d.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return O==="*"||O===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:b,commit_timestamp:y,type:v,errors:g}=p;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(p))}d.callback(f,r)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Pw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vr.close,{},e)}_onError(e){this._on(vr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=W1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=W1(e.columns,e.old_record)),n}}const K1=()=>{},jh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WF=[1e3,2e3,5e3,1e4],VF=1e4,HF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KF{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vy,this.transport=null,this.heartbeatIntervalMs=jh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=K1,this.ref=0,this.reconnectTimer=null,this.logger=K1,this.conn=null,this.sendBuffer=[],this.serializer=new IF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>tl(async()=>{const{default:a}=await Promise.resolve().then(()=>nl);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${gy.websocket}`,this.httpEndpoint=Aj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TF.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:NF}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hu.connecting:return As.Connecting;case hu.open:return As.Open;case hu.closing:return As.Closing;default:return As.Closed}}isConnected(){return this.connectionState()===As.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Pw(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(MF,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([HF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:AF};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Tj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:vy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:jh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>WF[h-1]||VF,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(h,c)=>c(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ft(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qF extends Cw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class by extends Cw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var GF=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Nj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tl(async()=>{const{default:r}=await Promise.resolve().then(()=>nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ZF=()=>GF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tl(()=>Promise.resolve().then(()=>nl),void 0)).Response:Response}),wy=t=>{if(Array.isArray(t))return t.map(n=>wy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=wy(r)}),e},XF=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YF=(t,e,n)=>vo(void 0,void 0,void 0,function*(){const r=yield ZF();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new qF(fv(i),s,o))}).catch(i=>{e(new by(fv(i),i))}):e(new by(fv(t),t))}),JF=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(XF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Xc(t,e,n,r,i,s){return vo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,JF(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>YF(l,a,r))})})}function ed(t,e,n,r){return vo(this,void 0,void 0,function*(){return Xc(t,"GET",e,n,r)})}function Gr(t,e,n,r,i){return vo(this,void 0,void 0,function*(){return Xc(t,"POST",e,r,i,n)})}function xy(t,e,n,r,i){return vo(this,void 0,void 0,function*(){return Xc(t,"PUT",e,r,i,n)})}function QF(t,e,n,r){return vo(this,void 0,void 0,function*(){return Xc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mj(t,e,n,r,i){return vo(this,void 0,void 0,function*(){return Xc(t,"DELETE",e,r,i,n)})}var yn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const eB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tB{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Nj(i)}uploadOrUpdate(e,n,r,i){return yn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},q1),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),c=yield(e=="PUT"?xy:Gr)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:c.Id,fullPath:c.Key},error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}upload(e,n,r){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return yn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:q1.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const c=yield xy(this.fetch,a.toString(),l,{headers:h});return{data:{path:s,fullPath:c.Key},error:null}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return yn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Gr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Cw("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}update(e,n,r){return yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return yn(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}copy(e,n,r){return yn(this,void 0,void 0,function*(){try{return{data:{path:(yield Gr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return yn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Gr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return yn(this,void 0,void 0,function*(){try{const i=yield Gr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}download(e,n){return yn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ed(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}info(e){return yn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ed(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wy(r),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}exists(e){return yn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ft(r)&&r instanceof by){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return yn(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}list(e,n,r){return yn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eB),n),{prefix:e||""});return{data:yield Gr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const nB="2.10.4",rB={"X-Client-Info":`storage-js/${nB}`};var Co=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class iB{constructor(e,n={},r,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},rB),n),this.fetch=Nj(r)}listBuckets(){return Co(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ft(e))return{data:null,error:e};throw e}})}getBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Co(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Co(this,void 0,void 0,function*(){try{return{data:yield xy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield Gr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Co(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}}class sB extends iB{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new tB(this.url,this.headers,e,this.fetch)}}const oB="2.54.0";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const aB={"X-Client-Info":`supabase-js-${Ql}/${oB}`},lB={headers:aB},uB={schema:"public"},cB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hB={};var fB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const dB=t=>{let e;return t?e=t:typeof fetch>"u"?e=bj:e=fetch,(...n)=>e(...n)},pB=()=>typeof Headers>"u"?wj:Headers,mB=(t,e,n)=>{const r=dB(n),i=pB();return(s,o)=>fB(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var vB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function gB(t){return t.endsWith("/")?t:t+"/"}function yB(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:h,global:c}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},c),a),{headers:Object.assign(Object.assign({},(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vB(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Rj="2.71.1",zo=30*1e3,_y=3,dv=_y*zo,bB="http://localhost:9999",wB="supabase.auth.token",xB={"X-Client-Info":`gotrue-js/${Rj}`},Sy="X-Supabase-Api-Version",Ij={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_B=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SB=10*60*1e3;class $w extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class OB extends $w{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function EB(t){return _e(t)&&t.name==="AuthApiError"}class Lj extends $w{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class hs extends $w{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Pi extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kB(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Ah extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nh extends hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mh extends hs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PB(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class G1 extends hs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oy extends hs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function pv(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Z1 extends hs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ey extends hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X1=` 	
\r=`.split(""),CB=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<X1.length;e+=1)t[X1[e].charCodeAt(0)]=-2;for(let e=0;e<td.length;e+=1)t[td[e].charCodeAt(0)]=e;return t})();function Y1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(td[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(td[r]),e.queuedBits-=6}}function Dj(t,e,n){const r=CB[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function J1(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{jB(o,r,n)};for(let o=0;o<t.length;o+=1)Dj(t.charCodeAt(o),i,s);return e.join("")}function $B(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TB(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}$B(r,e)}}function jB(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function AB(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Dj(t.charCodeAt(i),n,r);return new Uint8Array(e)}function NB(t){const e=[];return TB(t,n=>e.push(n)),new Uint8Array(e)}function MB(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Y1(i,n,r)),Y1(null,n,r),e.join("")}function RB(t){return Math.round(Date.now()/1e3)+t}function IB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const cr=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},zj=()=>{if(!cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function LB(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Fj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tl(async()=>{const{default:r}=await Promise.resolve().then(()=>nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},DB=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ws=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(t,e)=>{await t.removeItem(e)};class Rp{constructor(){this.promise=new Rp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Rp.promiseConstructor=Promise;function mv(t){const e=t.split(".");if(e.length!==3)throw new Ey("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_B.test(e[r]))throw new Ey("JWT not in base64url format");return{header:JSON.parse(J1(e[0])),payload:JSON.parse(J1(e[1])),signature:AB(e[2]),raw:{header:e[0],payload:e[1]}}}async function zB(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function FB(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function BB(t){return("0"+t.toString(16)).substr(-2)}function UB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,BB).join("")}async function WB(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function VB(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WB(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(t,e,n=!1){const r=UB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Fo(t,`${e}-code-verifier`,i);const s=await VB(r);return[s,r===s?"plain":"s256"]}const HB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KB(t){const e=t.headers.get(Sy);if(!e||!e.match(HB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qB(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GB(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(t){if(!ZB.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Q1(t){return JSON.parse(JSON.stringify(t))}var XB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ks=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),YB=[502,503,504];async function eS(t){var e;if(!DB(t))throw new Oy(ks(t),0);if(YB.includes(t.status))throw new Oy(ks(t),t.status);let n;try{n=await t.json()}catch(s){throw new Lj(ks(s),s)}let r;const i=KB(t);if(i&&i.getTime()>=Ij["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Z1(ks(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Z1(ks(n),t.status,n.weak_password.reasons);throw new OB(ks(n),t.status||500,r)}const JB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ke(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Sy]||(s[Sy]=Ij["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await QB(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function QB(t,e,n,r,i,s){const o=JB(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Oy(ks(l),0)}if(a.ok||await eS(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await eS(l)}}function Hr(t){var e;let n=null;rU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=RB(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function tS(t){const e=Hr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ri(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function eU(t){return{data:t,error:null}}function tU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=XB(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function nU(t){return t}function rU(t){return t.access_token&&t.refresh_token&&t.expires_in}const gv=["global","local","others"];var iU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class sU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Fj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=gv[0]){if(gv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gv.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=iU(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ri})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:nU});if(h.error)throw h.error;const c=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){To(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ri})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){To(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){To(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){To(e.userId);try{const{data:n,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){To(e.userId),To(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function nS(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function oU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jo={debug:!!(globalThis&&zj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aU extends Bj{}async function lU(t,e,n){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oU();const uU={url:bB,storageKey:wB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rS(t,e,n){return await n()}const Ao={};class Gu{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gu.nextInstanceID,Gu.nextInstanceID+=1,this.instanceID>0&&cr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},uU),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Fj(i.fetch),this.lock=i.lock||rS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:cr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lU:this.lock=rS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nS(this.memoryStorage)),cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=LB(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),PB(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new Lj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:h,password:c,options:f}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await $o(this.storage,this.storageKey)),s=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},xform:Hr})}else if("phone"in e){const{phone:h,password:c,options:f}=e;s=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:c,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hr})}else throw new Nh("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tS})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tS})}else throw new Nh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ah}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,a,l,u,h,c,f,d;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:b,wallet:y,statement:v,options:g}=e;let O;if(cr())if(typeof y=="object")O=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))O=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=y}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const E=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),v?{statement:v}:null));let _;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")_=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)_=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((c=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||c===void 0)&&c.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const E=await O.signMessage(new TextEncoder().encode(p),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:b,error:y}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:MB(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Hr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ah}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(_e(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await ws(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Hr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ah}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(_e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ah}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await $o(this.storage,this.storageKey));const{error:c}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Nh("You must provide either an email or phone number.")}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Hr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await $o(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:eU})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pi;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Nh("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<dv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ws(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=vv()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ri}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ri})})}catch(n){if(_e(n))return kB(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Pi;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await $o(this.storage,this.storageKey));const{data:u,error:h}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ri});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pi;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=mv(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pi;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!cr())throw new Mh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new G1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new G1("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Mh("No session defined in URL");const h=Math.round(Date.now()/1e3),c=parseInt(a);let f=h+c;l&&(f=parseInt(l));const d=f-h;d*1e3<=zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);const p=f-c;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,h);const{data:m,error:b}=await this._getUser(s);if(b)throw b;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:c,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(EB(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=IB(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await $o(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,h;const{data:c,error:f}=s;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",d,{headers:this.headers,jwt:(h=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return cr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await FB(async i=>(i>0&&await zB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&pv(s)&&Date.now()+o-r<zo})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),cr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ws(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Fo(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:vv()}else if(i&&!i.user&&!i.user){const o=await ws(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Oi(this.storage,this.storageKey+"-user"),await Fo(this.storage,this.storageKey,i)):i.user=vv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dv;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${dv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),pv(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rp;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Pi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),_e(s)){const o={session:null,error:s};return pv(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Q1(i);await Fo(this.storage,this.storageKey,s)}else{const i=Q1(n);await Fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zo}ms, refresh threshold is ${_y} ticks`),i<=_y&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await $o(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mv(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+SB>i)return r;const{data:s,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:d,error:p}=await this.getSession();if(p||!d.session)return{data:null,error:p};r=d.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=mv(r);n!=null&&n.allowExpired||qB(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:s,header:i,signature:o},error:null}}const h=GB(i.alg),c=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,c,o,NB(`${a}.${l}`)))throw new Ey("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}Gu.nextInstanceID=0;const cU=Gu;class hU extends cU{constructor(e){super(e)}}var fU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(c){o(c)}}function l(h){try{u(r.throw(h))}catch(c){o(c)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class dU{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=gB(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:uB,realtime:hB,auth:Object.assign(Object.assign({},cB),{storageKey:u}),global:lB},c=yB(r??{},h);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=mB(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new $F(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new sB(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new sF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return fU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,h){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hU({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new KF(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pU=(t,e,n)=>new dU(t,e,n);function mU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Uj="https://msmkiolnyhtnvjabfinh.supabase.co".trim(),Wj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1zbWtpb2xueWh0bnZqYWJmaW5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4Mjg5NzQsImV4cCI6MjA2NzQwNDk3NH0.zOSSVJq5oS_48EATnCJsFQHzA35K47JeEPlJdI-1Xhc".trim();(!Uj||!Wj)&&console.error("[TradingTracker] Missing Supabase env. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in tradingTracker/.env.local and restart the dev server.");const yt=pU(Uj||"https://example.supabase.co",Wj||"public-anon-key"),Vj=C.createContext(void 0);function vU({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(null),[s,o]=C.useState(null);C.useEffect(()=>{yt.auth.getSession().then(({data:h})=>{var c;n(h.session),i(((c=h.session)==null?void 0:c.user)??null)});const{data:u}=yt.auth.onAuthStateChange((h,c)=>{n(c),i((c==null?void 0:c.user)??null)});return()=>{u.subscription.unsubscribe()}},[]),C.useEffect(()=>{(async()=>{if(!r){o(null);return}const{data:u}=await yt.from("profiles").select("nickname").eq("id",r.id).maybeSingle();o((u==null?void 0:u.nickname)??null)})()},[r]);const a=async()=>{await yt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,queryParams:{access_type:"offline",prompt:"consent"}}})},l=async()=>{await yt.auth.signOut()};return w.jsx(Vj.Provider,{value:{session:e,user:r,signInWithGoogle:a,signOut:l,nickname:s,setNickname:o},children:t})}function Ip(){const t=C.useContext(Vj);if(!t)throw new Error("useAuth must be used within SupabaseProvider");return t}function Hj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hj(t))&&(r&&(r+=" "),r+=e);return r}function on({className:t,variant:e="primary",size:n="md",...r}){const i="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-60 disabled:pointer-events-none",s={primary:"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-400",secondary:"bg-gray-700 hover:bg-gray-600 text-white focus:ring-gray-400",ghost:"bg-transparent hover:bg-gray-800 text-gray-200 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-500 text-white focus:ring-red-400"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2"};return w.jsx("button",{className:Me(i,s[e],o[n],t),...r})}const gU=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Vs(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},iS={},ky=(t,e,n,r)=>{Vs(n)&&iS[n]||(Vs(n)&&(iS[n]=new Date),gU(t,e,n,r))},Kj=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Py=(t,e,n)=>{t.loadNamespaces(e,Kj(t,n))},sS=(t,e,n,r)=>{if(Vs(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Py(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Kj(t,r))},yU=(t,e,n={})=>!e.languages||!e.languages.length?(ky(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Vs=t=>typeof t=="string",bU=t=>typeof t=="object"&&t!==null,wU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_U=t=>xU[t],SU=t=>t.replace(wU,_U);let Cy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:SU};const OU=(t={})=>{Cy={...Cy,...t}},EU=()=>Cy;let qj;const kU=t=>{qj=t},PU=()=>qj,CU={type:"3rdParty",init(t){OU(t.options.react),kU(t)}},$U=C.createContext();class TU{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const jU=(t,e)=>{const n=C.useRef();return C.useEffect(()=>{n.current=t},[t,e]),n.current},Gj=(t,e,n,r)=>t.getFixedT(e,n,r),AU=(t,e,n,r)=>C.useCallback(Gj(t,e,n,r),[t,e,n,r]),bi=(t,e={})=>{var O,x,E,_;const{i18n:n}=e,{i18n:r,defaultNS:i}=C.useContext($U)||{},s=n||r||PU();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new TU),!s){ky(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(P,$)=>Vs($)?$:bU($)&&Vs($.defaultValue)?$.defaultValue:Array.isArray(P)?P[P.length-1]:P,k=[S,{},!1];return k.t=S,k.i18n={},k.ready=!1,k}(O=s.options.react)!=null&&O.wait&&ky(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...EU(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=i||((x=s.options)==null?void 0:x.defaultNS);u=Vs(u)?[u]:u||["translation"],(_=(E=s.reportNamespaces).addUsedNamespaces)==null||_.call(E,u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(S=>yU(S,s,o)),c=AU(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),f=()=>c,d=()=>Gj(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[p,m]=C.useState(f);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const y=jU(b),v=C.useRef(!0);C.useEffect(()=>{const{bindI18n:S,bindI18nStore:k}=o;v.current=!0,!h&&!a&&(e.lng?sS(s,e.lng,u,()=>{v.current&&m(d)}):Py(s,u,()=>{v.current&&m(d)})),h&&y&&y!==b&&v.current&&m(d);const P=()=>{v.current&&m(d)};return S&&(s==null||s.on(S,P)),k&&(s==null||s.store.on(k,P)),()=>{v.current=!1,s&&S&&(S==null||S.split(" ").forEach($=>s.off($,P))),k&&s&&k.split(" ").forEach($=>s.store.off($,P))}},[s,b]),C.useEffect(()=>{v.current&&h&&m(f)},[s,l,h]);const g=[p,s,h];if(g.t=p,g.i18n=s,g.ready=h,h||!h&&!a)return g;throw new Promise(S=>{e.lng?sS(s,e.lng,u,()=>S()):Py(s,u,()=>S())})};function oS(){const t=el(),{t:e}=bi(),n=i=>i==="/"?t.pathname==="/":t.pathname.startsWith(i),r=(i,s)=>w.jsx(hr,{to:i,className:`flex-1 text-center py-2 ${n(i)?"text-white":"text-gray-400"}`,children:s});return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/90 backdrop-blur border-t border-gray-800 sm:hidden",children:w.jsxs("div",{className:"max-w-6xl mx-auto flex",children:[r("/",e("nav.trades")),r("/stats",e("nav.stats")),r("/sage",e("nav.sage")),r("/cross",e("nav.cross")),r("/bot",e("nav.bot"))]})})}const xe=t=>typeof t=="string",Il=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},aS=t=>t==null?"":""+t,NU=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},MU=/###/g,lS=t=>t&&t.indexOf("###")>-1?t.replace(MU,"."):t,uS=t=>!t||xe(t),pu=(t,e,n)=>{const r=xe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(uS(t))return{};const s=lS(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return uS(t)?{}:{obj:t,k:lS(r[i])}},cS=(t,e,n)=>{const{obj:r,k:i}=pu(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=pu(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=pu(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},RU=(t,e,n,r)=>{const{obj:i,k:s}=pu(t,e,Object);i[s]=i[s]||[],i[s].push(n)},nd=(t,e)=>{const{obj:n,k:r}=pu(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},IU=(t,e,n)=>{const r=nd(t,n);return r!==void 0?r:nd(e,n)},Zj=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?xe(t[r])||t[r]instanceof String||xe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Zj(t[r],e[r],n):t[r]=e[r]);return t},No=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var LU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const DU=t=>xe(t)?t.replace(/[&<>"'\/]/g,e=>LU[e]):t;class zU{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const FU=[" ",",","?","!",";"],BU=new zU(20),UU=(t,e,n)=>{e=e||"",n=n||"";const r=FU.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=BU.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},$y=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},Zu=t=>t==null?void 0:t.replace("_","-"),WU={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class rd{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||WU,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(xe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new rd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new rd(this.logger,e)}}var Nr=new rd;let Lp=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}};class hS extends Lp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,h;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):xe(r)&&s?a.push(...r.split(s)):a.push(r)));const l=nd(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!xe(r)?l:$y((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),cS(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(xe(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=nd(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Zj(l,r,s):l={...l,...r},cS(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Xj={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const fS={},dS=t=>!xe(t)&&typeof t!="boolean"&&typeof t!="number";class id extends Lp{constructor(e,n={}){super(),NU(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!UU(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:xe(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:xe(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let h=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const c=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode")return f?s?{res:`${u}${h}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${h}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:a;const d=this.resolve(e,i);let p=d==null?void 0:d.res;const m=(d==null?void 0:d.usedKey)||a,b=(d==null?void 0:d.exactUsedKey)||a,y=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,O=i.count!==void 0&&!xe(i.count),x=id.hasDefaultValue(i),E=O?this.pluralResolver.getSuffix(c,i.count,i):"",_=i.ordinal&&O?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",S=O&&!i.ordinal&&i.count===0,k=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${E}`]||i[`defaultValue${_}`]||i.defaultValue;let P=p;g&&!p&&x&&(P=k);const $=dS(P),T=Object.prototype.toString.apply(P);if(g&&P&&$&&y.indexOf(T)<0&&!(xe(v)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,P,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(d.res=R,d.usedParams=this.getUsedParamsDetails(i),d):R}if(o){const R=Array.isArray(P),z=R?[]:{},U=R?b:m;for(const W in P)if(Object.prototype.hasOwnProperty.call(P,W)){const B=`${U}${o}${W}`;x&&!p?z[W]=this.translate(B,{...i,defaultValue:dS(k)?k[W]:void 0,joinArrays:!1,ns:l}):z[W]=this.translate(B,{...i,joinArrays:!1,ns:l}),z[W]===B&&(z[W]=P[W])}p=z}}else if(g&&xe(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,e,i,r));else{let R=!1,z=!1;!this.isValidLookup(p)&&x&&(R=!0,p=k),this.isValidLookup(p)||(z=!0,p=a);const W=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:p,B=x&&k!==p&&this.options.updateMissing;if(z||R||B){if(this.logger.log(B?"updateKey":"missingKey",c,u,a,B?k:p),o){const j=this.resolve(a,{...i,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let j=0;j<L.length;j++)N.push(L[j]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(i.lng||this.language):N.push(i.lng||this.language);const F=(j,I,V)=>{var ie;const te=x&&V!==p?V:W;this.options.missingKeyHandler?this.options.missingKeyHandler(j,u,I,te,B,i):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing(j,u,I,te,B,i),this.emit("missingKey",j,u,I,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?N.forEach(j=>{const I=this.pluralResolver.getSuffixes(j,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(V=>{F([j],a+V,i[`defaultValue${V}`]||k)})}):F(N,a,k))}p=this.extendTranslation(p,e,i,d,r),z&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${u}${h}${a}`),(z||R)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${a}`:a,R?p:void 0,i))}return s?(d.res=p,d.usedParams=this.getUsedParamsDetails(i),d):p}extendTranslation(e,n,r,i,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=xe(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(h){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!xe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),h){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>(s==null?void 0:s[0])===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=xe(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=Xj.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return xe(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),h=u.key;i=h;let c=u.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const f=n.count!==void 0&&!xe(n.count),d=f&&!n.ordinal&&n.count===0,p=n.context!==void 0&&(xe(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach(b=>{var y,v;this.isValidLookup(r)||(a=b,!fS[`${m[0]}-${b}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(a))&&(fS[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(g=>{var E;if(this.isValidLookup(r))return;o=g;const O=[h];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(O,h,g,b,n);else{let _;f&&(_=this.pluralResolver.getSuffix(g,n.count,n));const S=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(n.ordinal&&_.indexOf(k)===0&&O.push(h+_.replace(k,this.options.pluralSeparator)),O.push(h+_),d&&O.push(h+S)),p){const P=`${h}${this.options.contextSeparator||"_"}${n.context}`;O.push(P),f&&(n.ordinal&&_.indexOf(k)===0&&O.push(P+_.replace(k,this.options.pluralSeparator)),O.push(P+_),d&&O.push(P+S))}}let x;for(;x=O.pop();)this.isValidLookup(r)||(s=x,r=this.getResource(g,b,x,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!xe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class pS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nr.create("languageUtils")}getScriptPartFromCode(e){if(e=Zu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Zu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(xe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),xe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return xe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):xe(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const mS={zero:0,one:1,two:2,few:3,many:4,other:5},vS={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class VU{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Nr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Zu(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vS;if(!e.match(/-|_/))return vS;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>mS[i]-mS[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const gS=(t,e,n,r=".",i=!0)=>{let s=IU(t,e,n);return!s&&i&&xe(n)&&(s=$y(t,n,r),s===void 0&&(s=$y(e,n,r))),s},yv=t=>t.replace(/\$/g,"$$$$");class HU{constructor(e={}){var n;this.logger=Nr.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:c,nestingPrefix:f,nestingPrefixEscaped:d,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:DU,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?No(s):o||"{{",this.suffix=a?No(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?No(f):d||No("$t("),this.nestingSuffix=p?No(p):m||No(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var d;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const v=gS(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...i,...n,interpolationkey:p}):v}const m=p.split(this.formatSeparator),b=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(gS(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const h=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,c=((d=i==null?void 0:i.interpolation)==null?void 0:d.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>yv(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?yv(this.escape(p)):yv(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){const m=s[1].trim();if(o=u(m),o===void 0)if(typeof h=="function"){const y=h(e,s,i);o=xe(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))o="";else if(c){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!xe(o)&&!this.useRawValueToEscape&&(o=aS(o));const b=p.safeValue(o);if(e=e.replace(s[0],b),c?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const c=l.split(new RegExp(`${h}[ ]*{`));let f=`{${c[1]}`;l=c[0],f=this.interpolate(f,o);const d=f.match(/'/g),p=f.match(/"/g);(((d==null?void 0:d.length)??0)%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${h}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!xe(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!xe(s))return s;xe(s)||(s=aS(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((h,c)=>this.format(h,c,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const KU=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=a.trim();n[h]||(n[h]=u),u==="false"&&(n[h]=!1),u==="true"&&(n[h]=!0),isNaN(u)||(n[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},yS=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(Zu(r),i),e[o]=a),a(n)}},qU=t=>(e,n,r)=>t(Zu(n),r)(e);class GU{constructor(e={}){this.logger=Nr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?yS:qU;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yS(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var c;const{formatName:u,formatOptions:h}=KU(l);if(this.formats[u]){let f=a;try{const d=((c=i==null?void 0:i.formatParams)==null?void 0:c[i.interpolationkey])||{},p=d.locale||d.lng||i.locale||i.lng||r;f=this.formats[u](a,p,{...h,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const ZU=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class XU extends Lp{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Nr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(u=>{let h=!0;n.forEach(c=>{const f=`${u}|${c}`;!r.reload&&this.store.hasResourceBundle(u,c)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,h=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),l[c]===void 0&&(l[c]=!0)))}),h||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{RU(l.loaded,[s],o),ZU(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const h=l.loaded[u];h.length&&h.forEach(c=>{a[u][c]===void 0&&(a[u][c]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(u&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(u,h)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();xe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xe(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,u,h,c,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((c=(h=this.services)==null?void 0:h.utils)!=null&&c.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const d={...o,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let m;p.length===5?m=p(e,n,r,i,d):m=p(e,n,r,i),m&&typeof m.then=="function"?m.then(b=>a(null,b)).catch(a):a(null,m)}catch(m){a(m)}else p(e,n,r,i,a,d)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const bS=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),xe(t[1])&&(e.defaultValue=t[1]),xe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wS=t=>{var e,n;return xe(t.ns)&&(t.ns=[t.ns]),xe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),xe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Rh=()=>{},YU=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Xu extends Lp{constructor(e={},n){if(super(),this.options=wS(e),this.services={},this.logger=Nr,this.modules={external:[]},YU(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(xe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=bS();this.options={...r,...this.options,...wS(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Nr.init(i(this.modules.logger),this.options):Nr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=GU;const h=new pS(this.options);this.store=new hS(this.options.resources,this.options);const c=this.services;c.logger=Nr,c.resourceStore=this.store,c.languageUtils=h,c.pluralResolver=new VU(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=i(u),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new HU(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new XU(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(d,...p)=>{this.emit(d,...p)}),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new id(this.services,this.options),this.translator.on("*",(d,...p)=>{this.emit(d,...p)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Rh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const a=Il(),l=()=>{const u=(h,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(c),n(h,c)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=Rh){var s,o;let r=n;const i=xe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>l(h)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>l(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Il();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Rh),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Xj.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Il();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(a,(...u)=>this.t(...u))},o=a=>{var h,c;!e&&!a&&this.services.languageDetector&&(a=[]);const l=xe(a)?a:a&&a[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(xe(a)?[a]:a);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(c=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||c.call(h,u)),this.loadResources(u,f=>{s(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(c=>`${l.keyPrefix}${u}${c}`):h=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s,this.t(h,l)};return xe(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Il();return this.options.ns?(xe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Il();xe(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const a=o.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new pS(bS());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Xu(e,n)}cloneInstance(e={},n=Rh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Xu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((h,c)=>(h[c]={...l[u][c]},h),l[u]),l),{});s.store=new hS(a,i),s.services.resourceStore=s.store}return s.translator=new id(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=Xu.createInstance();Qt.createInstance=Xu.createInstance;Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const JU={"app.title":"Crypto Trading Tracker","app.signInPrompt":"Sign in to manage your trades and view performance stats.","auth.continueWithGoogle":"Continue with Google","nav.trades":"Trades","nav.stats":"Stats","nav.sage":"Sage","nav.cross":"Cross","nav.bot":"Bot","nav.signOut":"Sign out","nav.user":"Logged in as {{email}}","nav.lang":"Language","nav.lang.he":"","nav.lang.en":"English","trades.title":"Trades","trades.add":"Add Trade","trades.export":"Export CSV","trades.editTitle":"Edit Trade","trades.addTitle":"Add Trade","trades.loading":"Loading...","trades.emptyTitle":"No trades yet","trades.emptyDesc":"Start by adding your first trade.","trades.winRate":"Win rate: {{value}}%","trades.deleteConfirm":"Delete this trade?","form.closedAt":"Closed time","form.date":"Date","form.symbol":"Symbol","form.position":"Position","form.entry":"Entry price","form.exit":"Exit price","form.stop":"Stop loss","form.take":"Take profit","form.riskPct":"Risk %","form.autoRisk":"Auto Risk %","form.autoRR":"Auto R:R","form.direction":"Direction","form.reason":"Entry reason","form.notes":"Notes","form.screenshots":"Screenshots","form.screenshots.bucketMissing":"Storage bucket '{{bucket}}' not found. Please create it in Supabase Storage or set VITE_SUPABASE_TRADE_BUCKET.","form.filesSelected":"{{count}} file(s) selected","form.save":"Add Trade","form.update":"Update","form.cancel":"Cancel","form.sizing.mode":"Sizing mode","form.sizing.byQty":"By quantity","form.sizing.byRisk":"By risk amount","form.sizing.qty":"Quantity (base units)","form.sizing.riskAmount":"Risk amount (quote)","form.sizing.balance":"Account balance (optional, for leverage)","form.sizing.calcQty":"Calc Quantity","form.sizing.calcSize":"Calc Size (quote)","form.sizing.leverage":"Leverage suggestion","form.mode.live":"Live trade","form.mode.historic":"Historic trade","form.mode.helpLive":"Adding an active trade. You can set exit later from the table (Close).","form.mode.helpHistoric":"Adding a completed trade with exit details.","form.exit.livePlaceholder":"Set when closing the trade","actions.edit":"Edit","actions.delete":"Delete","actions.view":"View","table.noTrades":"No trades found","table.outcome":"Outcome","table.rr":"R:R","table.size":"Size","table.actions":"Actions","table.sl":"SL","table.tp":"TP","table.search":"Search...","table.user":"User","table.status":"Status","status.active":"Active","status.closed":"Closed","actions.close":"Close","nickname.title":"Choose a nickname","nickname.description":"This will be shown on the Cross page to others.","nickname.placeholder":"e.g. CryptoNinja","nickname.save":"Save","nickname.saving":"Saving...","nickname.error.invalid":"Nickname must be 2-24 characters.","nickname.error.taken":"This nickname is already taken.","common.loading":"Loading...","bot.title":"Bot Trades","bot.refresh":"Refresh","bot.empty":"No bot trades yet","bot.error":"Failed to load bot trades: {{msg}}","bot.table.timeOpen":"Opened","bot.table.symbol":"Symbol","bot.table.side":"Side","bot.table.entry":"Entry","bot.table.exit":"Exit","bot.table.pnl":"PnL","bot.table.timeClose":"Closed"},QU={"app.title":"  ","app.signInPrompt":"      .","auth.continueWithGoogle":"  Google","nav.trades":"","nav.stats":"","nav.sage":"","nav.cross":"","nav.bot":"","nav.signOut":"","nav.user":" -{{email}}","nav.lang":"","nav.lang.he":"","nav.lang.en":"","trades.title":"","trades.add":" ","trades.export":" CSV","trades.editTitle":" ","trades.addTitle":" ","trades.loading":"...","trades.emptyTitle":"  ","trades.emptyDesc":"    .","trades.winRate":" : {{value}}%","trades.deleteConfirm":"  ?","form.closedAt":" ","form.date":"","form.symbol":"","form.position":"","form.entry":" ","form.exit":" ","form.stop":" ","form.take":" ","form.riskPct":" ","form.autoRisk":"  ","form.autoRR":" /","form.direction":"","form.reason":" ","form.notes":"","form.screenshots":" ","form.screenshots.bucketMissing":"  '{{bucket}}'  .    -Supabase Storage   VITE_SUPABASE_TRADE_BUCKET.","form.filesSelected":" {{count}} ","form.save":" ","form.update":"","form.cancel":"","form.sizing.mode":"  ","form.sizing.byQty":" ","form.sizing.byRisk":"  ","form.sizing.qty":" ( )","form.sizing.riskAmount":"  ( )","form.sizing.balance":"  (, )","form.sizing.calcQty":" ","form.sizing.calcSize":"  ()","form.sizing.leverage":" ","form.mode.live":" ","form.mode.historic":" ","form.mode.helpLive":"  .         ''.","form.mode.helpHistoric":"     .","form.exit.livePlaceholder":"   ","actions.edit":"","actions.delete":"","actions.view":"","table.noTrades":"  ","table.outcome":"","table.rr":" R:R","table.size":"","table.actions":"","table.sl":"","table.tp":"","table.search":"...","table.user":"","table.status":"","status.active":"","status.closed":"","actions.close":"","nickname.title":" ","nickname.description":"    .","nickname.placeholder":": CryptoNinja","nickname.save":"","nickname.saving":"...","nickname.error.invalid":"    2-24 .","nickname.error.taken":"  .","common.loading":"...","bot.title":" ","bot.refresh":"","bot.empty":"  ","bot.error":"   : {{msg}}","bot.table.timeOpen":"","bot.table.symbol":"","bot.table.side":"","bot.table.entry":"","bot.table.exit":"","bot.table.pnl":"/","bot.table.timeClose":""},e3=typeof window<"u"?window.localStorage.getItem("lng"):null,Yj="en",t3=e3||Yj;Qt.use(CU).init({resources:{en:{translation:JU},he:{translation:QU}},lng:t3,fallbackLng:Yj,interpolation:{escapeValue:!1},returnEmptyString:!1});function xS(t){Qt.changeLanguage(t);try{window.localStorage.setItem("lng",t)}catch{}}function _S({open:t,userId:e,onSaved:n}){const{t:r}=bi(),[i,s]=C.useState(""),[o,a]=C.useState(!1),[l,u]=C.useState(null);if(!t)return null;const h=async()=>{const c=i.trim();if(c.length<2||c.length>24){u(r("nickname.error.invalid"));return}a(!0),u(null);const{error:f}=await yt.from("profiles").upsert({id:e,nickname:c},{onConflict:"id"});if(a(!1),f){f.code==="23505"?u(r("nickname.error.taken")):u(f.message);return}n(c)};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:w.jsxs("div",{className:"w-full max-w-md bg-gray-900 rounded-2xl p-6 border border-gray-800",children:[w.jsx("h2",{className:"text-lg font-semibold mb-1",children:r("nickname.title")}),w.jsx("p",{className:"text-gray-400 text-sm mb-4",children:r("nickname.description")}),w.jsx("input",{autoFocus:!0,disabled:o,value:i,onChange:c=>s(c.target.value),placeholder:r("nickname.placeholder"),className:"w-full bg-gray-800 rounded px-3 py-2 mb-3"}),l&&w.jsx("div",{className:"text-red-400 text-sm mb-3",children:l}),w.jsx("div",{className:"flex justify-end gap-2",children:w.jsx(on,{onClick:h,disabled:o||i.trim().length<2,children:r(o?"nickname.saving":"nickname.save")})})]})})}function n3(){const{user:t,signInWithGoogle:e,signOut:n,nickname:r,setNickname:i}=Ip(),s=el(),{t:o,i18n:a}=bi();M.useEffect(()=>{const u=a.language.startsWith("he")?"he":"en",h=u==="he"?"rtl":"ltr";document.documentElement.lang=u,document.documentElement.dir=h},[a.language]);const l=u=>`px-3 py-2 rounded-md ${s.pathname===u||u!=="/"&&s.pathname.startsWith(u)?"bg-gray-800":"hover:bg-gray-800"}`;return s.pathname.startsWith("/cross")||s.pathname.startsWith("/trades/")?w.jsxs("div",{className:"min-h-screen flex flex-col pb-12 sm:pb-0",children:[w.jsx("header",{className:"border-b border-gray-800 bg-gray-900/80 backdrop-blur sticky top-0 z-10",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[w.jsxs("nav",{className:"flex items-center gap-2",children:[w.jsx(hr,{to:"/",className:l("/"),children:o("nav.trades")}),w.jsx(hr,{to:"/stats",className:l("/stats"),children:o("nav.stats")}),w.jsx(hr,{to:"/sage",className:l("/sage"),children:o("nav.sage")}),w.jsx(hr,{to:"/cross",className:l("/cross"),children:o("nav.cross")}),w.jsx(hr,{to:"/bot",className:l("/bot"),children:o("nav.bot")})]}),w.jsx("div",{className:"flex items-center gap-3",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("select",{className:"bg-gray-800 text-sm rounded px-2 py-1",value:a.language.startsWith("he")?"he":"en",onChange:u=>xS(u.target.value),"aria-label":o("nav.lang"),children:[w.jsx("option",{value:"he",children:o("nav.lang.he")}),w.jsx("option",{value:"en",children:o("nav.lang.en")})]}),t?w.jsx(on,{variant:"secondary",size:"sm",onClick:n,children:o("nav.signOut")}):w.jsx(on,{size:"sm",onClick:e,children:o("auth.continueWithGoogle")})]})})]})}),w.jsx("main",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-6",children:w.jsx(R1,{})}),w.jsx(oS,{}),t&&!r&&w.jsx(_S,{open:!0,userId:t.id,onSaved:u=>i(u)})]}):t?w.jsxs("div",{className:"min-h-screen flex flex-col pb-12 sm:pb-0",children:[w.jsx("header",{className:"border-b border-gray-800 bg-gray-900/80 backdrop-blur sticky top-0 z-10",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[w.jsxs("nav",{className:"flex items-center gap-2",children:[w.jsx(hr,{to:"/",className:l("/"),children:o("nav.trades")}),w.jsx(hr,{to:"/stats",className:l("/stats"),children:o("nav.stats")}),w.jsx(hr,{to:"/cross",className:l("/cross"),children:o("nav.cross")}),w.jsx(hr,{to:"/bot",className:l("/bot"),children:o("nav.bot")})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"hidden sm:flex items-center gap-2",children:w.jsx("span",{className:"text-sm text-gray-400",children:o("nav.user",{email:t.email})})}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("select",{className:"bg-gray-800 text-sm rounded px-2 py-1",value:a.language.startsWith("he")?"he":"en",onChange:u=>xS(u.target.value),"aria-label":o("nav.lang"),children:[w.jsx("option",{value:"he",children:o("nav.lang.he")}),w.jsx("option",{value:"en",children:o("nav.lang.en")})]}),w.jsx(on,{variant:"secondary",size:"sm",onClick:n,children:o("nav.signOut")})]})]})]})}),w.jsx("main",{className:"flex-1 max-w-6xl mx-auto w-full px-4 py-6",children:w.jsx(R1,{})}),w.jsx(oS,{}),t&&!r&&w.jsx(_S,{open:!0,userId:t.id,onSaved:u=>i(u)})]}):w.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:w.jsxs("div",{className:"max-w-md w-full bg-gray-800 rounded-2xl p-8 shadow-xl",children:[w.jsx("h1",{className:"text-2xl font-bold mb-2",children:o("app.title")}),w.jsx("p",{className:"text-gray-300 mb-6",children:o("app.signInPrompt")}),w.jsx(on,{className:"w-full",onClick:e,children:o("auth.continueWithGoogle")})]})})}function Ty(t,e){if(!isFinite(t)||!isFinite(e)||t===0)return e;let n=e;const r=Math.abs(t);let i=0;for(;Math.abs(n)>r*10&&i<6;)n=n/10,i++;for(;Math.abs(n)<r/10&&Math.abs(n)>0&&i<12;)n=n*10,i++;return n}function r3(t,e){return t==null||e==null?null:Math.abs(t-e)/t*100}function sd(t,e,n){if(t==null||e==null||n==null)return null;const r=Math.abs(t-e);return r===0?null:Math.abs(n-t)/r}function eu(t){if(t.exit==null||t.entry==null||t.size==null)return null;const e=Number(t.entry);let n=Number(t.exit);if(!isFinite(e)||!isFinite(n))return null;n=Ty(e,n);const r=t.side==="LONG"?1:-1;return(n-e)/e*r*t.size}function jy(t){return t.exit==null||t.entry==null?"-":t.side==="LONG"&&t.exit>t.entry||t.side==="SHORT"&&t.exit<t.entry?"W":"L"}function od(t){if(t.entry==null||t.stop==null||t.exit==null)return null;const e=Number(t.entry);let n=Number(t.stop),r=Number(t.exit);if(!isFinite(e)||!isFinite(n)||!isFinite(r))return null;n=Ty(e,n),r=Ty(e,r);const i=Math.abs(e-n);if(i===0)return null;const s=t.side==="LONG"?1:-1;return(r-e)*s/i}function i3(t){return t.entry==null||t.stop==null||t.size==null?null:Math.abs(t.entry-t.stop)/t.entry*t.size}function s3(t){let e=0,n=0,r=0,i=0,s=0,o=0;const a=[],l=[];let u=0,h=0,c=0;for(const f of t.slice().sort((d,p)=>new Date(d.date).getTime()-new Date(p.date).getTime())){const d=eu(f);d!=null&&(u+=d,a.push({date:new Date(f.date).toLocaleDateString(),value:Number(u.toFixed(2))}));const p=od(f);if(p!=null&&(h+=p,l.push({date:new Date(f.date).toLocaleDateString(),rsum:Number(h.toFixed(2))})),f.exit!=null&&f.entry!=null){n++,jy(f)==="W"&&e++;const b=d??0;b>=0?r+=b:i+=Math.abs(b);const y=sd(f.entry,f.stop??null,f.take??null);y!=null&&(s+=y,o++);const v=i3(f);v!=null&&(c+=v)}}return{winRate:n?e/n*100:0,profitFactor:i>0?r/i:r>0?1/0:0,avgRR:o?s/o:0,equity:a,equityR:l,totals:{grossProfit:r,grossLoss:i,net:r-i},totalRisk:c,portfolioR:c>0?(r-i)/c:0}}function Jj({trades:t,onEdit:e,onDelete:n,readOnly:r=!1,showUser:i=!1,userNames:s,onClose:o}){const{t:a}=bi(),l=Cp(),[u,h]=C.useState(""),[c,f]=C.useState("date"),[d,p]=C.useState("desc"),m=C.useMemo(()=>{const v=u.trim().toLowerCase();return[...v?t.filter(O=>`${O.symbol} ${O.side} ${O.reason??""} ${O.notes??""}`.toLowerCase().includes(v)):t].sort((O,x)=>{const E=O[c],_=x[c];let S=0;return E==null&&_!=null?S=-1:E!=null&&_==null?S=1:E==null&&_==null?S=0:typeof E=="number"&&typeof _=="number"?S=E-_:S=String(E).localeCompare(String(_)),d==="asc"?S:-S})},[t,u,c,d]),b=v=>{c===v?p(g=>g==="asc"?"desc":"asc"):(f(v),p("desc"))},y=(v,g)=>w.jsx("th",{className:"px-3 py-2 cursor-pointer select-none",onClick:()=>b(g),children:w.jsxs("span",{className:"inline-flex items-center gap-1",children:[v,c===g&&w.jsx("span",{className:"text-xs text-gray-400",children:d==="asc"?"":""})]})});return w.jsxs("div",{className:"space-y-3",children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsx("input",{placeholder:a("table.search"),value:u,onChange:v=>h(v.target.value),className:"bg-gray-800 rounded px-3 py-2 w-full sm:w-80"})}),w.jsx("div",{className:"grid gap-3 sm:hidden",children:m.map(v=>{const g=sd(v.entry,v.stop??null,v.take??null),O=od(v),x=jy(v),E=v.exit!=null?O:g,_=v.exit==null;return w.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"font-medium",children:[v.symbol,"  ",v.side]}),w.jsxs("div",{className:"flex items-center gap-2",children:[_&&w.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-amber-600",children:a("status.active")}),w.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${x==="W"?"bg-emerald-600":x==="L"?"bg-red-600":"bg-gray-700"}`,children:x})]})]}),w.jsx("div",{className:"text-xs text-gray-400",children:new Date(v.date).toLocaleString()}),i&&w.jsx("div",{className:"text-xs text-gray-400",children:(s==null?void 0:s[v.user_id])??v.user_id}),w.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[w.jsxs("div",{children:[a("form.entry"),": ",v.entry]}),w.jsxs("div",{children:[a("form.exit"),": ",v.exit??"-"]}),w.jsxs("div",{children:[a("table.sl"),": ",v.stop??"-"]}),w.jsxs("div",{children:[a("table.tp"),": ",v.take??"-"]}),w.jsxs("div",{children:[a("form.riskPct"),": ",v.risk_pct??"-"]}),w.jsxs("div",{children:[a("form.autoRR"),": ",E!=null?E.toFixed(2):"-"]})]}),w.jsxs("div",{className:"mt-2 flex gap-3 text-sm",children:[w.jsx("button",{className:"text-sky-400",onClick:()=>l(`/trades/${v.id}`),children:a("actions.view")}),!r&&w.jsx("button",{className:"text-blue-400",onClick:()=>e(v),children:a("actions.edit")}),!r&&w.jsx("button",{className:"text-red-400",onClick:()=>n(v),children:a("actions.delete")}),!r&&_&&o&&w.jsx("button",{className:"text-amber-400",onClick:()=>o(v),children:a("actions.close")})]})]},v.id)})}),w.jsx("div",{className:"overflow-x-auto hidden sm:block",children:w.jsxs("table",{className:"min-w-full text-sm",children:[w.jsx("thead",{className:"bg-gray-800",children:w.jsxs("tr",{children:[y(a("form.date"),"date"),y(a("form.symbol"),"symbol"),y("Side","side"),y(a("form.entry"),"entry"),y(a("form.exit"),"exit"),y(a("form.stop"),"stop"),y(a("form.take"),"take"),y(a("form.riskPct"),"risk_pct"),w.jsx("th",{className:"px-3 py-2",children:a("table.outcome")}),w.jsx("th",{className:"px-3 py-2",children:a("table.rr")}),y(a("table.size"),"size"),w.jsx("th",{className:"px-3 py-2",children:a("table.status")}),i&&w.jsx("th",{className:"px-3 py-2",children:a("table.user")}),!r&&w.jsx("th",{className:"px-3 py-2",children:a("table.actions")})]})}),w.jsxs("tbody",{children:[m.map(v=>{const g=sd(v.entry,v.stop??null,v.take??null),O=od(v),x=v.exit!=null?O:g,E=jy(v),_=v.exit==null;return w.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/60 cursor-pointer",onClick:()=>l(`/trades/${v.id}`),children:[w.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:new Date(v.date).toLocaleString()}),w.jsx("td",{className:"px-3 py-2",children:v.symbol}),w.jsx("td",{className:"px-3 py-2",children:v.side}),w.jsx("td",{className:"px-3 py-2",children:v.entry}),w.jsx("td",{className:"px-3 py-2",children:v.exit??"-"}),w.jsx("td",{className:"px-3 py-2",children:v.stop??"-"}),w.jsx("td",{className:"px-3 py-2",children:v.take??"-"}),w.jsx("td",{className:"px-3 py-2",children:v.risk_pct??"-"}),w.jsx("td",{className:"px-3 py-2",children:E}),w.jsx("td",{className:"px-3 py-2",children:x!=null?x.toFixed(2):"-"}),w.jsx("td",{className:"px-3 py-2",children:v.size??"-"}),w.jsx("td",{className:"px-3 py-2",children:a(_?"status.active":"status.closed")}),i&&w.jsx("td",{className:"px-3 py-2",children:(s==null?void 0:s[v.user_id])??v.user_id}),!r&&w.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",onClick:S=>S.stopPropagation(),children:[w.jsx("button",{className:"text-sky-400 hover:text-sky-300 mr-3",onClick:S=>{S.stopPropagation(),l(`/trades/${v.id}`)},children:a("actions.view")}),w.jsx("button",{className:"text-blue-400 hover:text-blue-300 mr-3",onClick:S=>{S.stopPropagation(),e(v)},children:a("actions.edit")}),w.jsx("button",{className:"text-red-400 hover:text-red-300 mr-3",onClick:S=>{S.stopPropagation(),n(v)},children:a("actions.delete")}),_&&o&&w.jsx("button",{className:"text-amber-400 hover:text-amber-300",onClick:S=>{S.stopPropagation(),o(v)},children:a("actions.close")})]})]},v.id)}),m.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:16,className:"px-3 py-6 text-center text-gray-400",children:a("table.noTrades")})})]})]})})]})}function o3({title:t,existingUrls:e,onRemoveExisting:n,newPreviews:r,onAddFiles:i,onRemoveNew:s}){const o=C.useRef(null);return w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-sm text-gray-300",children:t}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("button",{type:"button",onClick:()=>{var a;return(a=o.current)==null?void 0:a.click()},className:"text-sm bg-gray-700 hover:bg-gray-600 rounded px-3 py-1",children:"+"})})]}),w.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:a=>a.target.files&&i(a.target.files)}),w.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2",children:[e.map((a,l)=>w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:a,alt:"screenshot",className:"w-full h-24 object-cover rounded"}),w.jsx("button",{type:"button",onClick:()=>n(l),className:"absolute top-1 right-1 bg-black/60 rounded px-1 text-xs",children:""})]},`old-${l}`)),r.map((a,l)=>w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:a,alt:"preview",className:"w-full h-24 object-cover rounded"}),w.jsx("button",{type:"button",onClick:()=>s(l),className:"absolute top-1 right-1 bg-black/60 rounded px-1 text-xs",children:""})]},`new-${l}`))]})]})}const bv="trade-images";function Ay(t){const e=new Date(t),n=r=>String(r).padStart(2,"0");return`${e.getFullYear()}-${n(e.getMonth()+1)}-${n(e.getDate())}T${n(e.getHours())}:${n(e.getMinutes())}`}function SS(t){return t?new Date(t).toISOString():null}function wv(t,e){if(t==null||e==null)return e??null;let n=e;const r=Math.abs(t);if(r===0||!isFinite(r)||!isFinite(n))return n;for(;Math.abs(n)>10*r;)n=n/10;for(;Math.abs(n)<r/10&&Math.abs(n)>0;)n=n*10;return Number(n)}const a3={date:Ay(new Date().toISOString()),side:"LONG"};function l3({initial:t,onSaved:e,onCancel:n}){const{t:r}=bi(),[i,s]=C.useState({...a3,...t}),[o,a]=C.useState((t==null?void 0:t.exit)==null?"live":"historic"),[l,u]=C.useState([]),[h,c]=C.useState([]),[f,d]=C.useState([]),[p,m]=C.useState(!1),[b,y]=C.useState(null),[v,g]=C.useState("quantity"),[O,x]=C.useState(""),[E,_]=C.useState(""),[S,k]=C.useState("");C.useRef(null),C.useEffect(()=>{s(j=>({...j,...t,date:t!=null&&t.date?Ay(t.date):j.date,...t&&t.closed_at?{closed_at:Ay(t.closed_at)}:{}}));const F=[];t!=null&&t.image_urls&&Array.isArray(t.image_urls)?F.push(...t.image_urls):t!=null&&t.image_url&&F.push(t.image_url),d(F)},[t]),C.useEffect(()=>()=>{h.forEach(F=>URL.revokeObjectURL(F))},[h]);const P=F=>{const{name:j,value:I}=F.target;s(V=>({...V,[j]:j==="date"?I:["entry","exit","stop","take","risk_pct","size"].includes(j)?I===""?null:Number(I):I}))},$=C.useMemo(()=>r3(i.entry??null,i.stop??null),[i.entry,i.stop]),T=C.useMemo(()=>sd(i.entry??null,i.stop??null,i.take??null),[i.entry,i.stop,i.take]),R=C.useMemo(()=>i.entry==null||i.stop==null?null:Math.abs(i.entry-i.stop),[i.entry,i.stop]),z=C.useMemo(()=>v!=="risk"||R==null||R===0||E===""||E==null?null:E/R,[v,R,E]),U=C.useMemo(()=>v==="quantity"?O===""?null:O:z,[v,O,z]),W=C.useMemo(()=>U==null||i.entry==null?null:U*i.entry,[U,i.entry]),B=C.useMemo(()=>{if(S===""||S==null||W==null)return null;const F=S;return F<=0?null:W/F},[S,W]),N=async()=>{if(!l||l.length===0)return[];const F=[];for(const j of l){const I=(j.name.split(".").pop()||"png").toLowerCase(),V=`${crypto.randomUUID()}.${I}`,{error:te}=await yt.storage.from(bv).upload(V,j,{upsert:!1,contentType:j.type||void 0,cacheControl:"31536000"});if(te){const de=((te==null?void 0:te.message)||"").toLowerCase();throw de.includes("not found")||de.includes("bucket")?new Error(r("form.screenshots.bucketMissing",{bucket:bv})):te}const{data:ie}=yt.storage.from(bv).getPublicUrl(V);F.push(ie.publicUrl)}return F},L=async F=>{F.preventDefault(),m(!0),y(null);try{const j=await N();let I=i.size??null;U!=null&&i.entry!=null&&(I=Number((U*i.entry).toFixed(2)));const V=i.date?SS(i.date):new Date().toISOString(),te=[...f,...j],ie=wv(i.entry??null,i.exit??null),de=wv(i.entry??null,i.stop??null),$e=wv(i.entry??null,i.take??null),ce={date:V,symbol:i.symbol,side:i.side,entry:i.entry,exit:ie,stop:de,take:$e,risk_pct:i.risk_pct??($!=null?Number($.toFixed(2)):null),size:I??null,reason:i.reason??null,notes:i.notes??null,image_url:te[0]??null,closed_at:i.exit!=null?SS(i.closed_at)||new Date().toISOString():null};te&&te.length>0&&(ce.image_urls=te);const Z=async()=>{if(t!=null&&t.id){const{error:re}=await yt.from("trades").update(ce).eq("id",t.id);if(re)throw re}else{const{error:re}=await yt.from("trades").insert(ce);if(re)throw re}};try{await Z()}catch{ce.image_urls&&delete ce.image_urls,await Z()}e()}catch(j){y(j.message||"Failed to save trade")}finally{m(!1)}};return w.jsxs("form",{onSubmit:L,className:"space-y-4",children:[b&&w.jsx("div",{className:"text-red-400 text-sm",children:b}),w.jsxs("div",{className:"bg-gray-800 rounded p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[w.jsxs("div",{className:"inline-flex bg-gray-700 rounded p-1 w-fit",children:[w.jsx("button",{type:"button","aria-pressed":o==="live",onClick:()=>a("live"),className:`px-3 py-1.5 rounded text-sm ${o==="live"?"bg-blue-600 text-white":"text-gray-200 hover:bg-gray-600"}`,children:r("form.mode.live")}),w.jsx("button",{type:"button","aria-pressed":o==="historic",onClick:()=>a("historic"),className:`px-3 py-1.5 rounded text-sm ${o==="historic"?"bg-blue-600 text-white":"text-gray-200 hover:bg-gray-600"}`,children:r("form.mode.historic")})]}),w.jsx("div",{className:"text-sm text-gray-300",children:r(o==="live"?"form.mode.helpLive":"form.mode.helpHistoric")})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.date")}),w.jsx("input",{name:"date",type:"datetime-local",value:i.date,onChange:P,className:"bg-gray-800 rounded px-3 py-2",required:!0})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.symbol")}),w.jsx("input",{name:"symbol",placeholder:"SOLUSDT",value:i.symbol||"",onChange:P,className:"bg-gray-800 rounded px-3 py-2",required:!0})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.position")}),w.jsxs("select",{name:"side",value:i.side,onChange:P,className:"bg-gray-800 rounded px-3 py-2",children:[w.jsx("option",{value:"LONG",children:"LONG"}),w.jsx("option",{value:"SHORT",children:"SHORT"})]})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.entry")}),w.jsx("input",{name:"entry",type:"number",step:"0.0001",value:i.entry??"",onChange:P,className:"bg-gray-800 rounded px-3 py-2",required:!0})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.exit")}),w.jsx("input",{name:"exit",type:"number",step:"0.0001",value:i.exit??"",onChange:P,className:"bg-gray-800 rounded px-3 py-2",disabled:o==="live",placeholder:o==="live"?r("form.exit.livePlaceholder"):void 0,"aria-disabled":o==="live"})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:"Closed time"}),w.jsx("input",{name:"closed_at",type:"datetime-local",value:i.closed_at??"",onChange:F=>s(j=>({...j,closed_at:F.target.value})),className:"bg-gray-800 rounded px-3 py-2",disabled:i.exit==null,placeholder:i.exit==null?"Set exit first":void 0})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.stop")}),w.jsx("input",{name:"stop",type:"number",step:"0.0001",value:i.stop??"",onChange:P,className:"bg-gray-800 rounded px-3 py-2"})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.take")}),w.jsx("input",{name:"take",type:"number",step:"0.0001",value:i.take??"",onChange:P,className:"bg-gray-800 rounded px-3 py-2"})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.riskPct")}),w.jsx("input",{name:"risk_pct",type:"number",step:"0.01",value:i.risk_pct??($!=null?Number($.toFixed(2)):""),onChange:P,className:"bg-gray-800 rounded px-3 py-2"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[w.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[w.jsx("div",{className:"text-gray-400",children:r("form.autoRisk")}),w.jsx("div",{className:"text-lg font-semibold",children:$!=null?$.toFixed(2)+"%":"-"})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[w.jsx("div",{className:"text-gray-400",children:r("form.autoRR")}),w.jsx("div",{className:"text-lg font-semibold",children:T!=null?T.toFixed(2):"-"})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[w.jsx("div",{className:"text-gray-400",children:r("form.direction")}),w.jsx("div",{className:"text-lg font-semibold",children:i.side})]})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.reason")}),w.jsx("textarea",{name:"reason",value:i.reason||"",onChange:P,className:"bg-gray-800 rounded px-3 py-2",rows:3})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.notes")}),w.jsx("textarea",{name:"notes",value:i.notes||"",onChange:P,className:"bg-gray-800 rounded px-3 py-2",rows:3})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"flex flex-col gap-2 bg-gray-800 rounded p-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.sizing.mode")}),w.jsxs("select",{className:"bg-gray-700 rounded px-2 py-1 text-sm",value:v,onChange:F=>g(F.target.value),children:[w.jsx("option",{value:"quantity",children:r("form.sizing.byQty")}),w.jsx("option",{value:"risk",children:r("form.sizing.byRisk")})]})]}),v==="quantity"?w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.sizing.qty")}),w.jsx("input",{type:"number",step:"0.0001",value:O,onChange:F=>x(F.target.value===""?"":Number(F.target.value)),className:"bg-gray-700 rounded px-3 py-2"})]}):w.jsxs(w.Fragment,{children:[w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.sizing.riskAmount")}),w.jsx("input",{type:"number",step:"0.01",value:E,onChange:F=>_(F.target.value===""?"":Number(F.target.value)),className:"bg-gray-700 rounded px-3 py-2"})]}),w.jsxs("label",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-sm text-gray-300",children:r("form.sizing.balance")}),w.jsx("input",{type:"number",step:"0.01",value:S,onChange:F=>k(F.target.value===""?"":Number(F.target.value)),className:"bg-gray-700 rounded px-3 py-2"})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[w.jsxs("div",{className:"bg-gray-700 rounded p-2",children:[w.jsx("div",{className:"text-gray-400",children:r("form.sizing.calcQty")}),w.jsx("div",{className:"font-semibold",children:U!=null?Number(U).toFixed(4):"-"})]}),w.jsxs("div",{className:"bg-gray-700 rounded p-2",children:[w.jsx("div",{className:"text-gray-400",children:r("form.sizing.calcSize")}),w.jsx("div",{className:"font-semibold",children:W!=null?Number(W).toFixed(2):"-"})]}),w.jsxs("div",{className:"bg-gray-700 rounded p-2 col-span-2",children:[w.jsx("div",{className:"text-gray-400",children:r("form.sizing.leverage")}),w.jsx("div",{className:"font-semibold",children:B!=null?`${B.toFixed(2)}x`:"-"})]})]})]}),w.jsx(o3,{title:r("form.screenshots"),existingUrls:f,onRemoveExisting:F=>d(j=>j.filter((I,V)=>V!==F)),newPreviews:h,onAddFiles:F=>{const j=Array.from(F);u(V=>[...V,...j]);const I=j.map(V=>URL.createObjectURL(V));c(V=>[...V,...I])},onRemoveNew:F=>{u(j=>j.filter((I,V)=>V!==F)),c(j=>{const I=[...j],[V]=I.splice(F,1);return V&&URL.revokeObjectURL(V),I})}})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{type:"submit",disabled:p,className:"bg-emerald-600 hover:bg-emerald-500 rounded px-4 py-2",children:p?"...":t!=null&&t.id?r("form.update"):r("form.save")}),w.jsx("button",{type:"button",onClick:n,className:"bg-gray-700 hover:bg-gray-600 rounded px-4 py-2",children:r("form.cancel")})]})]})}var Qj={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Zt,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,u={};function h(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var P=x(k);P.chunkSize=parseInt(P.chunkSize),k.step||k.chunk||(P.chunkSize=null),this._handle=new m(P),(this._handle.streamer=this)._config=P}).call(this,S),this.parseChunk=function(k,P){var $=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<$){let R=this._config.newline;R||(T=this._config.quoteChar||'"',R=this._handle.guessLineEndings(k,T)),k=[...k.split(R).slice($)].join(R)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(k))!==void 0&&(k=T),this.isFirstChunk=!1,this._halted=!1;var $=this._partialLine+k,T=(this._partialLine="",this._handle.parse($,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=T.meta.cursor,$=(this._finished||(this._partialLine=$.substring(k-this._baseIndex),this._baseIndex=k),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:T,workerId:u.WORKER_ID,finished:$});else if(_(this._config.chunk)&&!P){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!$||!_(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),$||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(k){_(this._config.error)?this._config.error(k):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:k,finished:!1})}}function c(S){var k;(S=S||{}).chunkSize||(S.chunkSize=u.RemoteChunkSize),h.call(this,S),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=E(this._chunkLoaded,this),k.onerror=E(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var P,$=this._config.downloadRequestHeaders;for(P in $)k.setRequestHeader(P,$[P])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+T));try{k.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(P){P=k.statusText||P,this._sendError(new Error(P))}}function f(S){(S=S||{}).chunkSize||(S.chunkSize=u.LocalChunkSize),h.call(this,S);var k,P,$=typeof FileReader<"u";this.stream=function(T){this._input=T,P=T.slice||T.webkitSlice||T.mozSlice,$?((k=new FileReader).onload=E(this._chunkLoaded,this),k.onerror=E(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),T=P.call(T,this._start,R)),k.readAsText(T,this._config.encoding));$||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(k.error)}}function d(S){var k;h.call(this,S=S||{}),this.stream=function(P){return k=P,this._nextChunk()},this._nextChunk=function(){var P,$;if(!this._finished)return P=this._config.chunkSize,k=P?($=k.substring(0,P),k.substring(P)):($=k,""),this._finished=!k,this.parseChunk($)}}function p(S){h.call(this,S=S||{});var k=[],P=!0,$=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):P=!0},this._streamData=E(function(T){try{k.push(typeof T=="string"?T:T.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(R){this._streamError(R)}},this),this._streamError=E(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=E(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var k,P,$,T,R=Math.pow(2,53),z=-R,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,N=0,L=0,F=!1,j=!1,I=[],V={data:[],errors:[],meta:{}};function te(ce){return S.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function ie(){if(V&&$&&($e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),$=!1),S.skipEmptyLines&&(V.data=V.data.filter(function(K){return!te(K)})),de()){let K=function(be,he){_(S.transformHeader)&&(be=S.transformHeader(be,he)),I.push(be)};var ee=K;if(V)if(Array.isArray(V.data[0])){for(var ce=0;de()&&ce<V.data.length;ce++)V.data[ce].forEach(K);V.data.splice(0,1)}else V.data.forEach(K)}function Z(K,be){for(var he=S.header?{}:[],ge=0;ge<K.length;ge++){var ae=ge,Re=K[ge],Re=((Se,Ae)=>(Ge=>(S.dynamicTypingFunction&&S.dynamicTyping[Ge]===void 0&&(S.dynamicTyping[Ge]=S.dynamicTypingFunction(Ge)),(S.dynamicTyping[Ge]||S.dynamicTyping)===!0))(Se)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((Ge=>{if(U.test(Ge)&&(Ge=parseFloat(Ge),z<Ge&&Ge<R))return 1})(Ae)?parseFloat(Ae):W.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(ae=S.header?ge>=I.length?"__parsed_extra":I[ge]:ae,Re=S.transform?S.transform(Re,ae):Re);ae==="__parsed_extra"?(he[ae]=he[ae]||[],he[ae].push(Re)):he[ae]=Re}return S.header&&(ge>I.length?$e("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+ge,L+be):ge<I.length&&$e("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+ge,L+be)),he}var re;V&&(S.header||S.dynamicTyping||S.transform)&&(re=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(Z),re=V.data.length):V.data=Z(V.data,0),S.header&&V.meta&&(V.meta.fields=I),L+=re)}function de(){return S.header&&I.length===0}function $e(ce,Z,re,ee){ce={type:ce,code:Z,message:re},ee!==void 0&&(ce.row=ee),V.errors.push(ce)}_(S.step)&&(T=S.step,S.step=function(ce){V=ce,de()?ie():(ie(),V.data.length!==0&&(N+=ce.data.length,S.preview&&N>S.preview?P.abort():(V.data=V.data[0],T(V,B))))}),this.parse=function(ce,Z,re){var ee=S.quoteChar||'"',ee=(S.newline||(S.newline=this.guessLineEndings(ce,ee)),$=!1,S.delimiter?_(S.delimiter)&&(S.delimiter=S.delimiter(ce),V.meta.delimiter=S.delimiter):((ee=((K,be,he,ge,ae)=>{var Re,Se,Ae,Ge;ae=ae||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var en=0;en<ae.length;en++){for(var St,or=ae[en],Ke=0,Tt=0,bt=0,Dt=(Ae=void 0,new y({comments:ge,delimiter:or,newline:be,preview:10}).parse(K)),zt=0;zt<Dt.data.length;zt++)he&&te(Dt.data[zt])?bt++:(St=Dt.data[zt].length,Tt+=St,Ae===void 0?Ae=St:0<St&&(Ke+=Math.abs(St-Ae),Ae=St));0<Dt.data.length&&(Tt/=Dt.data.length-bt),(Se===void 0||Ke<=Se)&&(Ge===void 0||Ge<Tt)&&1.99<Tt&&(Se=Ke,Re=or,Ge=Tt)}return{successful:!!(S.delimiter=Re),bestDelimiter:Re}})(ce,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ee.bestDelimiter:($=!0,S.delimiter=u.DefaultDelimiter),V.meta.delimiter=S.delimiter),x(S));return S.preview&&S.header&&ee.preview++,k=ce,P=new y(ee),V=P.parse(k,Z,re),ie(),F?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,P.abort(),k=_(S.chunk)?"":k.substring(P.getCharIndex())},this.resume=function(){B.streamer._halted?(F=!1,B.streamer.parseChunk(k,!0)):setTimeout(B.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,P.abort(),V.meta.aborted=!0,_(S.complete)&&S.complete(V),k=""},this.guessLineEndings=function(K,ee){K=K.substring(0,1048576);var ee=new RegExp(b(ee)+"([^]*?)"+b(ee),"gm"),re=(K=K.replace(ee,"")).split("\r"),ee=K.split(`
`),K=1<ee.length&&ee[0].length<re[0].length;if(re.length===1||K)return`
`;for(var be=0,he=0;he<re.length;he++)re[he][0]===`
`&&be++;return be>=re.length/2?`\r
`:"\r"}}function b(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var k=(S=S||{}).delimiter,P=S.newline,$=S.comments,T=S.step,R=S.preview,z=S.fastMode,U=null,W=!1,B=S.quoteChar==null?'"':S.quoteChar,N=B;if(S.escapeChar!==void 0&&(N=S.escapeChar),(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=","),$===k)throw new Error("Comment character same as delimiter");$===!0?$="#":(typeof $!="string"||-1<u.BAD_DELIMITERS.indexOf($))&&($=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var L=0,F=!1;this.parse=function(j,I,V){if(typeof j!="string")throw new Error("Input must be a string");var te=j.length,ie=k.length,de=P.length,$e=$.length,ce=_(T),Z=[],re=[],ee=[],K=L=0;if(!j)return Ke();if(z||z!==!1&&j.indexOf(B)===-1){for(var be=j.split(P),he=0;he<be.length;he++){if(ee=be[he],L+=ee.length,he!==be.length-1)L+=P.length;else if(V)return Ke();if(!$||ee.substring(0,$e)!==$){if(ce){if(Z=[],Ge(ee.split(k)),Tt(),F)return Ke()}else Ge(ee.split(k));if(R&&R<=he)return Z=Z.slice(0,R),Ke(!0)}}return Ke()}for(var ge=j.indexOf(k,L),ae=j.indexOf(P,L),Re=new RegExp(b(N)+b(B),"g"),Se=j.indexOf(B,L);;)if(j[L]===B)for(Se=L,L++;;){if((Se=j.indexOf(B,Se+1))===-1)return V||re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:L}),St();if(Se===te-1)return St(j.substring(L,Se).replace(Re,B));if(B===N&&j[Se+1]===N)Se++;else if(B===N||Se===0||j[Se-1]!==N){ge!==-1&&ge<Se+1&&(ge=j.indexOf(k,Se+1));var Ae=en((ae=ae!==-1&&ae<Se+1?j.indexOf(P,Se+1):ae)===-1?ge:Math.min(ge,ae));if(j.substr(Se+1+Ae,ie)===k){ee.push(j.substring(L,Se).replace(Re,B)),j[L=Se+1+Ae+ie]!==B&&(Se=j.indexOf(B,L)),ge=j.indexOf(k,L),ae=j.indexOf(P,L);break}if(Ae=en(ae),j.substring(Se+1+Ae,Se+1+Ae+de)===P){if(ee.push(j.substring(L,Se).replace(Re,B)),or(Se+1+Ae+de),ge=j.indexOf(k,L),Se=j.indexOf(B,L),ce&&(Tt(),F))return Ke();if(R&&Z.length>=R)return Ke(!0);break}re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:L}),Se++}}else if($&&ee.length===0&&j.substring(L,L+$e)===$){if(ae===-1)return Ke();L=ae+de,ae=j.indexOf(P,L),ge=j.indexOf(k,L)}else if(ge!==-1&&(ge<ae||ae===-1))ee.push(j.substring(L,ge)),L=ge+ie,ge=j.indexOf(k,L);else{if(ae===-1)break;if(ee.push(j.substring(L,ae)),or(ae+de),ce&&(Tt(),F))return Ke();if(R&&Z.length>=R)return Ke(!0)}return St();function Ge(bt){Z.push(bt),K=L}function en(bt){var Dt=0;return Dt=bt!==-1&&(bt=j.substring(Se+1,bt))&&bt.trim()===""?bt.length:Dt}function St(bt){return V||(bt===void 0&&(bt=j.substring(L)),ee.push(bt),L=te,Ge(ee),ce&&Tt()),Ke()}function or(bt){L=bt,Ge(ee),ee=[],ae=j.indexOf(P,L)}function Ke(bt){if(S.header&&!I&&Z.length&&!W){var Dt=Z[0],zt=Object.create(null),Tn=new Set(Dt);let bl=!1;for(let ar=0;ar<Dt.length;ar++){let Un=Dt[ar];if(zt[Un=_(S.transformHeader)?S.transformHeader(Un,ar):Un]){let gn,wl=zt[Un];for(;gn=Un+"_"+wl,wl++,Tn.has(gn););Tn.add(gn),Dt[ar]=gn,zt[Un]++,bl=!0,(U=U===null?{}:U)[gn]=Un}else zt[Un]=1,Dt[ar]=Un;Tn.add(Un)}bl&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Z,errors:re,meta:{delimiter:k,linebreak:P,aborted:F,truncated:!!bt,cursor:K+(I||0),renamedHeaders:U}}}function Tt(){T(Ke()),Z=[],re=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return L}}function v(S){var k=S.data,P=a[k.workerId],$=!1;if(k.error)P.userError(k.error,k.file);else if(k.results&&k.results.data){var T={abort:function(){$=!0,g(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(_(P.userStep)){for(var R=0;R<k.results.data.length&&(P.userStep({data:k.results.data[R],errors:k.results.errors,meta:k.results.meta},T),!$);R++);delete k.results}else _(P.userChunk)&&(P.userChunk(k.results,T,k.file),delete k.results)}k.finished&&!$&&g(k.workerId,k.results)}function g(S,k){var P=a[S];_(P.userComplete)&&P.userComplete(k),P.terminate(),delete a[S]}function O(){throw new Error("Not implemented.")}function x(S){if(typeof S!="object"||S===null)return S;var k,P=Array.isArray(S)?[]:{};for(k in S)P[k]=x(S[k]);return P}function E(S,k){return function(){S.apply(k,arguments)}}function _(S){return typeof S=="function"}return u.parse=function(S,k){var P=(k=k||{}).dynamicTyping||!1;if(_(P)&&(k.dynamicTypingFunction=P,P={}),k.dynamicTyping=P,k.transform=!!_(k.transform)&&k.transform,!k.worker||!u.WORKERS_SUPPORTED)return P=null,u.NODE_STREAM_INPUT,typeof S=="string"?(S=($=>$.charCodeAt(0)!==65279?$:$.slice(1))(S),P=new(k.download?c:d)(k)):S.readable===!0&&_(S.read)&&_(S.on)?P=new p(k):(r.File&&S instanceof File||S instanceof Object)&&(P=new f(k)),P.stream(S);(P=(()=>{var $;return!!u.WORKERS_SUPPORTED&&($=(()=>{var T=r.URL||r.webkitURL||null,R=n.toString();return u.BLOB_URL||(u.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),($=new r.Worker($)).onmessage=v,$.id=l++,a[$.id]=$)})()).userStep=k.step,P.userChunk=k.chunk,P.userComplete=k.complete,P.userError=k.error,k.step=_(k.step),k.chunk=_(k.chunk),k.complete=_(k.complete),k.error=_(k.error),delete k.worker,P.postMessage({input:S,config:k,workerId:P.id})},u.unparse=function(S,k){var P=!1,$=!0,T=",",R=`\r
`,z='"',U=z+z,W=!1,B=null,N=!1,L=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||u.BAD_DELIMITERS.filter(function(I){return k.delimiter.indexOf(I)!==-1}).length||(T=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(P=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(W=k.skipEmptyLines),typeof k.newline=="string"&&(R=k.newline),typeof k.quoteChar=="string"&&(z=k.quoteChar),typeof k.header=="boolean"&&($=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");B=k.columns}k.escapeChar!==void 0&&(U=k.escapeChar+z),k.escapeFormulae instanceof RegExp?N=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(N=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(z),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return F(null,S,W);if(typeof S[0]=="object")return F(B||Object.keys(S[0]),S,W)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||B),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),F(S.fields||[],S.data||[],W);throw new Error("Unable to serialize unrecognized input");function F(I,V,te){var ie="",de=(typeof I=="string"&&(I=JSON.parse(I)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(I)&&0<I.length),$e=!Array.isArray(V[0]);if(de&&$){for(var ce=0;ce<I.length;ce++)0<ce&&(ie+=T),ie+=j(I[ce],ce);0<V.length&&(ie+=R)}for(var Z=0;Z<V.length;Z++){var re=(de?I:V[Z]).length,ee=!1,K=de?Object.keys(V[Z]).length===0:V[Z].length===0;if(te&&!de&&(ee=te==="greedy"?V[Z].join("").trim()==="":V[Z].length===1&&V[Z][0].length===0),te==="greedy"&&de){for(var be=[],he=0;he<re;he++){var ge=$e?I[he]:he;be.push(V[Z][ge])}ee=be.join("").trim()===""}if(!ee){for(var ae=0;ae<re;ae++){0<ae&&!K&&(ie+=T);var Re=de&&$e?I[ae]:ae;ie+=j(V[Z][Re],ae)}Z<V.length-1&&(!te||0<re&&!K)&&(ie+=R)}}return ie}function j(I,V){var te,ie;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(ie=!1,N&&typeof I=="string"&&N.test(I)&&(I="'"+I,ie=!0),te=I.toString().replace(L,U),(ie=ie||P===!0||typeof P=="function"&&P(I,V)||Array.isArray(P)&&P[V]||((de,$e)=>{for(var ce=0;ce<$e.length;ce++)if(-1<de.indexOf($e[ce]))return!0;return!1})(te,u.BAD_DELIMITERS)||-1<te.indexOf(T)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?z+te+z:te)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=m,u.NetworkStreamer=c,u.FileStreamer=f,u.StringStreamer=d,u.ReadableStreamStreamer=p,r.jQuery&&((i=r.jQuery).fn.parse=function(S){var k=S.config||{},P=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)P.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},k)})}),$(),this;function $(){if(P.length===0)_(S.complete)&&S.complete();else{var R,z,U,W,B=P[0];if(_(S.before)){var N=S.before(B.file,B.inputElem);if(typeof N=="object"){if(N.action==="abort")return R="AbortError",z=B.file,U=B.inputElem,W=N.reason,void(_(S.error)&&S.error({name:R},z,U,W));if(N.action==="skip")return void T();typeof N.config=="object"&&(B.instanceConfig=i.extend(B.instanceConfig,N.config))}else if(N==="skip")return void T()}var L=B.instanceConfig.complete;B.instanceConfig.complete=function(F){_(L)&&L(F,B.file,B.inputElem),T()},u.parse(B.file,B.instanceConfig)}}function T(){P.splice(0,1),$()}}),o&&(r.onmessage=function(S){S=S.data,u.WORKER_ID===void 0&&S&&(u.WORKER_ID=S.workerId),typeof S.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(S.input,S.config),finished:!0}):(r.File&&S.input instanceof File||S.input instanceof Object)&&(S=u.parse(S.input,S.config))&&r.postMessage({workerId:u.WORKER_ID,results:S,finished:!0})}),(c.prototype=Object.create(h.prototype)).constructor=c,(f.prototype=Object.create(h.prototype)).constructor=f,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(h.prototype)).constructor=p,u})})(Qj);var u3=Qj.exports;const c3=We(u3);function Fi({children:t,className:e=""}){return w.jsx("div",{className:`bg-gray-800 rounded-xl shadow-sm ${e}`,children:t})}function mu({children:t,className:e=""}){return w.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${e}`,children:t})}function Bi({children:t,className:e=""}){return w.jsx("div",{className:`px-4 py-4 ${e}`,children:t})}function eA({title:t,description:e,action:n}){return w.jsxs("div",{className:"text-center text-gray-300 py-10",children:[w.jsx("div",{className:"text-lg font-semibold",children:t}),e&&w.jsx("div",{className:"text-sm text-gray-400 mt-1",children:e}),n&&w.jsx("div",{className:"mt-4",children:n})]})}function h3({open:t,title:e,children:n,onClose:r,dismissible:i=!0,footer:s}){return t?w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[w.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{i&&(r==null||r())}}),w.jsxs("div",{className:"relative w-full max-w-md bg-gray-900 border border-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[(e||i)&&w.jsxs("div",{className:"px-4 py-3 border-b border-gray-800 flex items-center justify-between",children:[w.jsx("div",{className:"font-semibold text-white",children:e}),i&&w.jsx("button",{"aria-label":"Close",className:"text-gray-400 hover:text-gray-200",onClick:r,children:""})]}),w.jsx("div",{className:"px-4 py-4",children:n}),s&&w.jsx("div",{className:"px-4 py-3 border-t border-gray-800 flex justify-end gap-2",children:s})]})]}):null}function f3(){const{user:t}=Ip(),{t:e}=bi(),n=Cp(),[r,i]=C.useState([]),[s,o]=C.useState(!0),[a,l]=C.useState(null),[u,h]=C.useState(!1),[c,f]=C.useState(null),d=async()=>{if(!t)return;o(!0);const{data:y,error:v}=await yt.from("trades").select("*").eq("user_id",t.id).order("date",{ascending:!1});v&&console.error(v),i((y??[]).map(g=>({...g,date:g.date}))),o(!1)};C.useEffect(()=>{d()},[t==null?void 0:t.id]);const p=async y=>{if(!confirm(e("trades.deleteConfirm")))return;const{error:v}=await yt.from("trades").delete().eq("id",y.id);if(v)return alert(v.message);d()},m=()=>{const y=c3.unparse(r),v=new Blob([y],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(v),O=document.createElement("a");O.href=g,O.download=`trades_${new Date().toISOString().slice(0,10)}.csv`,O.click(),URL.revokeObjectURL(g)},b=C.useMemo(()=>{const y=r.filter(g=>g.exit!=null&&g.entry!=null&&(g.side==="LONG"&&g.exit>g.entry||g.side==="SHORT"&&g.exit<g.entry)).length,v=r.filter(g=>g.exit!=null).length;return{winRate:v?y/v*100:0}},[r]);return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-semibold",children:e("trades.title")}),w.jsx("p",{className:"text-gray-400 text-sm",children:e("nav.user",{email:t==null?void 0:t.email})})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(on,{onClick:()=>{l(null),h(!0)},children:e("trades.add")}),w.jsx(on,{variant:"secondary",onClick:m,children:e("trades.export")}),w.jsx(on,{style:{backgroundColor:"#000",color:"#fff"},onClick:()=>n("/checklist"),children:"Checklist"})]})]}),u&&w.jsxs(Fi,{children:[w.jsx(mu,{children:w.jsx("div",{className:"font-semibold",children:e(a?"trades.editTitle":"trades.addTitle")})}),w.jsx(Bi,{children:w.jsx(l3,{initial:a??void 0,onSaved:()=>{h(!1),d()},onCancel:()=>h(!1)})})]}),s?w.jsx("div",{className:"text-gray-400",children:e("trades.loading")}):r.length===0?w.jsx(Fi,{children:w.jsx(Bi,{children:w.jsx(eA,{title:e("trades.emptyTitle"),description:e("trades.emptyDesc"),action:w.jsx(on,{onClick:()=>h(!0),children:e("trades.add")})})})}):w.jsx(Jj,{trades:r,onEdit:y=>{l(y),h(!0)},onDelete:p,onClose:y=>f(y)}),w.jsx("div",{className:"text-sm text-gray-400",children:e("trades.winRate",{value:b.winRate.toFixed(1)})}),w.jsxs(h3,{open:!!c,title:`${e("actions.close")} ${(c==null?void 0:c.symbol)??""}`,onClose:()=>f(null),footer:w.jsxs(w.Fragment,{children:[w.jsx(on,{variant:"secondary",onClick:()=>f(null),children:e("form.cancel")}),w.jsx(on,{onClick:async()=>{const y=document.getElementById("close-exit"),v=y!=null&&y.value?Number(y.value):null,g=document.getElementById("close-time"),O=g!=null&&g.value?new Date(g.value).toISOString():new Date().toISOString();if(v==null)return;const{error:x}=await yt.from("trades").update({exit:v,closed_at:O}).eq("id",c.id);x||(f(null),d())},children:e("actions.close")})]}),children:[w.jsxs("label",{className:"flex flex-col gap-1 mb-4",children:[w.jsx("span",{className:"text-sm text-gray-300",children:e("form.exit")}),w.jsx("input",{type:"number",step:"0.0001",className:"bg-gray-800 rounded px-3 py-2",id:"close-exit"})]}),w.jsxs("label",{className:"flex flex-col gap-1 mb-2",children:[w.jsx("span",{className:"text-sm text-gray-300",children:e("form.closedAt")}),w.jsx("input",{type:"datetime-local",className:"bg-gray-800 rounded px-3 py-2",id:"close-time",defaultValue:new Date().toISOString().slice(0,16)})]})]})]})}var d3=Array.isArray,Cn=d3,p3=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt,tA=p3,m3=tA,v3=typeof self=="object"&&self&&self.Object===Object&&self,g3=m3||v3||Function("return this")(),Ur=g3,y3=Ur,b3=y3.Symbol,Yc=b3,OS=Yc,nA=Object.prototype,w3=nA.hasOwnProperty,x3=nA.toString,Ll=OS?OS.toStringTag:void 0;function _3(t){var e=w3.call(t,Ll),n=t[Ll];try{t[Ll]=void 0;var r=!0}catch{}var i=x3.call(t);return r&&(e?t[Ll]=n:delete t[Ll]),i}var S3=_3,O3=Object.prototype,E3=O3.toString;function k3(t){return E3.call(t)}var P3=k3,ES=Yc,C3=S3,$3=P3,T3="[object Null]",j3="[object Undefined]",kS=ES?ES.toStringTag:void 0;function A3(t){return t==null?t===void 0?j3:T3:kS&&kS in Object(t)?C3(t):$3(t)}var wi=A3;function N3(t){return t!=null&&typeof t=="object"}var xi=N3,M3=wi,R3=xi,I3="[object Symbol]";function L3(t){return typeof t=="symbol"||R3(t)&&M3(t)==I3}var il=L3,D3=Cn,z3=il,F3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B3=/^\w*$/;function U3(t,e){if(D3(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||z3(t)?!0:B3.test(t)||!F3.test(t)||e!=null&&t in Object(e)}var Tw=U3;function W3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fs=W3;const sl=We(fs);var V3=wi,H3=fs,K3="[object AsyncFunction]",q3="[object Function]",G3="[object GeneratorFunction]",Z3="[object Proxy]";function X3(t){if(!H3(t))return!1;var e=V3(t);return e==q3||e==G3||e==K3||e==Z3}var jw=X3;const Ee=We(jw);var Y3=Ur,J3=Y3["__core-js_shared__"],Q3=J3,xv=Q3,PS=function(){var t=/[^.]+$/.exec(xv&&xv.keys&&xv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function e4(t){return!!PS&&PS in t}var t4=e4,n4=Function.prototype,r4=n4.toString;function i4(t){if(t!=null){try{return r4.call(t)}catch{}try{return t+""}catch{}}return""}var rA=i4,s4=jw,o4=t4,a4=fs,l4=rA,u4=/[\\^$.*+?()[\]{}|]/g,c4=/^\[object .+?Constructor\]$/,h4=Function.prototype,f4=Object.prototype,d4=h4.toString,p4=f4.hasOwnProperty,m4=RegExp("^"+d4.call(p4).replace(u4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v4(t){if(!a4(t)||o4(t))return!1;var e=s4(t)?m4:c4;return e.test(l4(t))}var g4=v4;function y4(t,e){return t==null?void 0:t[e]}var b4=y4,w4=g4,x4=b4;function _4(t,e){var n=x4(t,e);return w4(n)?n:void 0}var go=_4,S4=go,O4=S4(Object,"create"),Dp=O4,CS=Dp;function E4(){this.__data__=CS?CS(null):{},this.size=0}var k4=E4;function P4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var C4=P4,$4=Dp,T4="__lodash_hash_undefined__",j4=Object.prototype,A4=j4.hasOwnProperty;function N4(t){var e=this.__data__;if($4){var n=e[t];return n===T4?void 0:n}return A4.call(e,t)?e[t]:void 0}var M4=N4,R4=Dp,I4=Object.prototype,L4=I4.hasOwnProperty;function D4(t){var e=this.__data__;return R4?e[t]!==void 0:L4.call(e,t)}var z4=D4,F4=Dp,B4="__lodash_hash_undefined__";function U4(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=F4&&e===void 0?B4:e,this}var W4=U4,V4=k4,H4=C4,K4=M4,q4=z4,G4=W4;function ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ol.prototype.clear=V4;ol.prototype.delete=H4;ol.prototype.get=K4;ol.prototype.has=q4;ol.prototype.set=G4;var Z4=ol;function X4(){this.__data__=[],this.size=0}var Y4=X4;function J4(t,e){return t===e||t!==t&&e!==e}var Aw=J4,Q4=Aw;function eW(t,e){for(var n=t.length;n--;)if(Q4(t[n][0],e))return n;return-1}var zp=eW,tW=zp,nW=Array.prototype,rW=nW.splice;function iW(t){var e=this.__data__,n=tW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rW.call(e,n,1),--this.size,!0}var sW=iW,oW=zp;function aW(t){var e=this.__data__,n=oW(e,t);return n<0?void 0:e[n][1]}var lW=aW,uW=zp;function cW(t){return uW(this.__data__,t)>-1}var hW=cW,fW=zp;function dW(t,e){var n=this.__data__,r=fW(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pW=dW,mW=Y4,vW=sW,gW=lW,yW=hW,bW=pW;function al(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}al.prototype.clear=mW;al.prototype.delete=vW;al.prototype.get=gW;al.prototype.has=yW;al.prototype.set=bW;var Fp=al,wW=go,xW=Ur,_W=wW(xW,"Map"),Nw=_W,$S=Z4,SW=Fp,OW=Nw;function EW(){this.size=0,this.__data__={hash:new $S,map:new(OW||SW),string:new $S}}var kW=EW;function PW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CW=PW,$W=CW;function TW(t,e){var n=t.__data__;return $W(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bp=TW,jW=Bp;function AW(t){var e=jW(this,t).delete(t);return this.size-=e?1:0,e}var NW=AW,MW=Bp;function RW(t){return MW(this,t).get(t)}var IW=RW,LW=Bp;function DW(t){return LW(this,t).has(t)}var zW=DW,FW=Bp;function BW(t,e){var n=FW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var UW=BW,WW=kW,VW=NW,HW=IW,KW=zW,qW=UW;function ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ll.prototype.clear=WW;ll.prototype.delete=VW;ll.prototype.get=HW;ll.prototype.has=KW;ll.prototype.set=qW;var Mw=ll,iA=Mw,GW="Expected a function";function Rw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Rw.Cache||iA),n}Rw.Cache=iA;var sA=Rw;const ZW=We(sA);var XW=sA,YW=500;function JW(t){var e=XW(t,function(r){return n.size===YW&&n.clear(),r}),n=e.cache;return e}var QW=JW,eV=QW,tV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nV=/\\(\\)?/g,rV=eV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tV,function(n,r,i,s){e.push(i?s.replace(nV,"$1"):r||n)}),e}),iV=rV;function sV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Iw=sV,TS=Yc,oV=Iw,aV=Cn,lV=il,jS=TS?TS.prototype:void 0,AS=jS?jS.toString:void 0;function oA(t){if(typeof t=="string")return t;if(aV(t))return oV(t,oA)+"";if(lV(t))return AS?AS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uV=oA,cV=uV;function hV(t){return t==null?"":cV(t)}var aA=hV,fV=Cn,dV=Tw,pV=iV,mV=aA;function vV(t,e){return fV(t)?t:dV(t,e)?[t]:pV(mV(t))}var lA=vV,gV=il;function yV(t){if(typeof t=="string"||gV(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Up=yV,bV=lA,wV=Up;function xV(t,e){e=bV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wV(e[n++])];return n&&n==r?t:void 0}var Lw=xV,_V=Lw;function SV(t,e,n){var r=t==null?void 0:_V(t,e);return r===void 0?n:r}var uA=SV;const er=We(uA);function OV(t){return t==null}var EV=OV;const je=We(EV);var kV=wi,PV=Cn,CV=xi,$V="[object String]";function TV(t){return typeof t=="string"||!PV(t)&&CV(t)&&kV(t)==$V}var jV=TV;const no=We(jV);var cA={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=Symbol.for("react.element"),zw=Symbol.for("react.portal"),Wp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),AV=Symbol.for("react.server_context"),Gp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Jp=Symbol.for("react.lazy"),NV=Symbol.for("react.offscreen"),hA;hA=Symbol.for("react.module.reference");function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dw:switch(t=t.type,t){case Wp:case Hp:case Vp:case Zp:case Xp:return t;default:switch(t=t&&t.$$typeof,t){case AV:case qp:case Gp:case Jp:case Yp:case Kp:return t;default:return e}}case zw:return e}}}Ve.ContextConsumer=qp;Ve.ContextProvider=Kp;Ve.Element=Dw;Ve.ForwardRef=Gp;Ve.Fragment=Wp;Ve.Lazy=Jp;Ve.Memo=Yp;Ve.Portal=zw;Ve.Profiler=Hp;Ve.StrictMode=Vp;Ve.Suspense=Zp;Ve.SuspenseList=Xp;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(t){return ir(t)===qp};Ve.isContextProvider=function(t){return ir(t)===Kp};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dw};Ve.isForwardRef=function(t){return ir(t)===Gp};Ve.isFragment=function(t){return ir(t)===Wp};Ve.isLazy=function(t){return ir(t)===Jp};Ve.isMemo=function(t){return ir(t)===Yp};Ve.isPortal=function(t){return ir(t)===zw};Ve.isProfiler=function(t){return ir(t)===Hp};Ve.isStrictMode=function(t){return ir(t)===Vp};Ve.isSuspense=function(t){return ir(t)===Zp};Ve.isSuspenseList=function(t){return ir(t)===Xp};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wp||t===Hp||t===Vp||t===Zp||t===Xp||t===NV||typeof t=="object"&&t!==null&&(t.$$typeof===Jp||t.$$typeof===Yp||t.$$typeof===Kp||t.$$typeof===qp||t.$$typeof===Gp||t.$$typeof===hA||t.getModuleId!==void 0)};Ve.typeOf=ir;cA.exports=Ve;var MV=cA.exports,RV=wi,IV=xi,LV="[object Number]";function DV(t){return typeof t=="number"||IV(t)&&RV(t)==LV}var fA=DV;const zV=We(fA);var FV=fA;function BV(t){return FV(t)&&t!=+t}var UV=BV;const ul=We(UV);var wr=function(e){return e===0?0:e>0?1:-1},Ls=function(e){return no(e)&&e.indexOf("%")===e.length-1},Q=function(e){return zV(e)&&!ul(e)},WV=function(e){return je(e)},It=function(e){return Q(e)||no(e)},VV=0,Jc=function(e){var n=++VV;return"".concat(e||"").concat(n)},ro=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&!no(e))return r;var s;if(Ls(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return ul(s)&&(s=r),i&&s>n&&(s=n),s},Ii=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},HV=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Xn=function(e,n){return Q(e)&&Q(n)?function(r){return e+r*(n-e)}:function(){return n}};function ad(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):er(r,e))===n})}var KV=function(e,n){return Q(e)&&Q(n)?e-n:no(e)&&no(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function da(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}var qV=["viewBox","children"],GV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NS=["points","pathLength"],_v={svg:qV,polygon:NS,polyline:NS},Fw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ld=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!sl(r))return null;var i={};return Object.keys(r).forEach(function(s){Fw.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},ZV=function(e,n,r){return function(i){return e(n,r,i),null}},ud=function(e,n,r){if(!sl(e)||Ny(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];Fw.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=ZV(o,n,r))}),i},XV=["children"],YV=["children"];function MS(t,e){if(t==null)return{};var n=JV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}var RS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},IS=null,Sv=null,Bw=function t(e){if(e===IS&&Array.isArray(Sv))return Sv;var n=[];return C.Children.forEach(e,function(r){je(r)||(MV.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Sv=n,IS=e,n};function Sr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return si(i)}):r=[si(e)],Bw(t).forEach(function(i){var s=er(i,"type.displayName")||er(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Nn(t,e){var n=Sr(t,e);return n&&n[0]}var LS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Q(r)||r<=0||!Q(i)||i<=0)},QV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e8=function(e){return e&&e.type&&no(e.type)&&QV.indexOf(e.type)>=0},t8=function(e){return e&&My(e)==="object"&&"clipDot"in e},n8=function(e,n,r,i){var s,o=(s=_v==null?void 0:_v[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ee(e)&&(i&&o.includes(n)||GV.includes(n))||r&&Fw.includes(n)},Pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!sl(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;n8((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},Ry=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return DS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!DS(s,o))return!1}return!0},DS=function(e,n){if(je(e)&&je(n))return!0;if(!je(e)&&!je(n)){var r=e.props||{},i=r.children,s=MS(r,XV),o=n.props||{},a=o.children,l=MS(o,YV);return i&&a?da(s,l)&&Ry(i,a):!i&&!a?da(s,l):!1}return!1},zS=function(e,n){var r=[],i={};return Bw(e).forEach(function(s,o){if(e8(s))r.push(s);else if(s){var a=si(s.type),l=n[a]||{},u=l.handler,h=l.once;if(u&&(!h||!i[a])){var c=u(s,a,o);r.push(c),i[a]=!0}}}),r},r8=function(e){var n=e&&e.type;return n&&RS[n]?RS[n]:null},i8=function(e,n){return Bw(n).indexOf(e)},s8=["children","width","height","viewBox","className","style","title","desc"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function o8(t,e){if(t==null)return{};var n=a8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ly(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=o8(t,s8),h=i||{width:n,height:r,x:0,y:0},c=Me("recharts-surface",s);return M.createElement("svg",Iy({},Pe(u,!0,"svg"),{className:c,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),M.createElement("title",null,a),M.createElement("desc",null,l),e)}var l8=["children","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(this,arguments)}function u8(t,e){if(t==null)return{};var n=c8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ct=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=u8(t,l8),s=Me("recharts-layer",r);return M.createElement("g",Dy({className:s},Pe(i,!0),{ref:e}),n)}),oi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function h8(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var f8=h8,d8=f8;function p8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:d8(t,e,n)}var m8=p8,v8="\\ud800-\\udfff",g8="\\u0300-\\u036f",y8="\\ufe20-\\ufe2f",b8="\\u20d0-\\u20ff",w8=g8+y8+b8,x8="\\ufe0e\\ufe0f",_8="\\u200d",S8=RegExp("["+_8+v8+w8+x8+"]");function O8(t){return S8.test(t)}var dA=O8;function E8(t){return t.split("")}var k8=E8,pA="\\ud800-\\udfff",P8="\\u0300-\\u036f",C8="\\ufe20-\\ufe2f",$8="\\u20d0-\\u20ff",T8=P8+C8+$8,j8="\\ufe0e\\ufe0f",A8="["+pA+"]",zy="["+T8+"]",Fy="\\ud83c[\\udffb-\\udfff]",N8="(?:"+zy+"|"+Fy+")",mA="[^"+pA+"]",vA="(?:\\ud83c[\\udde6-\\uddff]){2}",gA="[\\ud800-\\udbff][\\udc00-\\udfff]",M8="\\u200d",yA=N8+"?",bA="["+j8+"]?",R8="(?:"+M8+"(?:"+[mA,vA,gA].join("|")+")"+bA+yA+")*",I8=bA+yA+R8,L8="(?:"+[mA+zy+"?",zy,vA,gA,A8].join("|")+")",D8=RegExp(Fy+"(?="+Fy+")|"+L8+I8,"g");function z8(t){return t.match(D8)||[]}var F8=z8,B8=k8,U8=dA,W8=F8;function V8(t){return U8(t)?W8(t):B8(t)}var H8=V8,K8=m8,q8=dA,G8=H8,Z8=aA;function X8(t){return function(e){e=Z8(e);var n=q8(e)?G8(e):void 0,r=n?n[0]:e.charAt(0),i=n?K8(n,1).join(""):e.slice(1);return r[t]()+i}}var Y8=X8,J8=Y8,Q8=J8("toUpperCase"),e5=Q8;const Qp=We(e5);function Ye(t){return function(){return t}}const wA=Math.cos,cd=Math.sin,kr=Math.sqrt,hd=Math.PI,em=2*hd,By=Math.PI,Uy=2*By,Ps=1e-6,t5=Uy-Ps;function xA(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function n5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xA;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xA:n5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,h=o-e,c=a-n,f=h*h+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Ps)if(!(Math.abs(c*l-u*h)>Ps)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,p=i-a,m=l*l+u*u,b=d*d+p*p,y=Math.sqrt(m),v=Math.sqrt(f),g=s*Math.tan((By-Math.acos((m+f-b)/(2*y*v)))/2),O=g/v,x=g/y;Math.abs(O-1)>Ps&&this._append`L${e+O*h},${n+O*c}`,this._append`A${s},${s},0,0,${+(c*d>h*p)},${this._x1=e+x*l},${this._y1=n+x*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,h=n+l,c=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ps||Math.abs(this._y1-h)>Ps)&&this._append`L${u},${h}`,r&&(f<0&&(f=f%Uy+Uy),f>t5?this._append`A${r},${r},0,1,${c},${e-a},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=h}`:f>Ps&&this._append`A${r},${r},0,${+(f>=By)},${c},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Uw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new r5(e)}function Ww(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _A(t){this._context=t}_A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tm(t){return new _A(t)}function SA(t){return t[0]}function OA(t){return t[1]}function EA(t,e){var n=Ye(!0),r=null,i=tm,s=null,o=Uw(a);t=typeof t=="function"?t:t===void 0?SA:Ye(t),e=typeof e=="function"?e:e===void 0?OA:Ye(e);function a(l){var u,h=(l=Ww(l)).length,c,f=!1,d;for(r==null&&(s=i(d=o())),u=0;u<=h;++u)!(u<h&&n(c=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(c,u,l),+e(c,u,l));if(d)return s=null,d+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ye(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Ih(t,e,n){var r=null,i=Ye(!0),s=null,o=tm,a=null,l=Uw(u);t=typeof t=="function"?t:t===void 0?SA:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?OA:Ye(+n);function u(c){var f,d,p,m=(c=Ww(c)).length,b,y=!1,v,g=new Array(m),O=new Array(m);for(s==null&&(a=o(v=l())),f=0;f<=m;++f){if(!(f<m&&i(b=c[f],f,c))===y)if(y=!y)d=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=d;--p)a.point(g[p],O[p]);a.lineEnd(),a.areaEnd()}y&&(g[f]=+t(b,f,c),O[f]=+e(b,f,c),a.point(r?+r(b,f,c):g[f],n?+n(b,f,c):O[f]))}if(v)return a=null,v+""||null}function h(){return EA().defined(i).curve(o).context(s)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ye(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Ye(+c),u):n},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(n)},u.lineX1=function(){return h().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Ye(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,s!=null&&(a=o(s)),u):o},u.context=function(c){return arguments.length?(c==null?s=a=null:a=o(s=c),u):s},u}class kA{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function i5(t){return new kA(t,!0)}function s5(t){return new kA(t,!1)}const Vw={draw(t,e){const n=kr(e/hd);t.moveTo(n,0),t.arc(0,0,n,0,em)}},o5={draw(t,e){const n=kr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PA=kr(1/3),a5=PA*2,l5={draw(t,e){const n=kr(e/a5),r=n*PA;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},u5={draw(t,e){const n=kr(e),r=-n/2;t.rect(r,r,n,n)}},c5=.8908130915292852,CA=cd(hd/10)/cd(7*hd/10),h5=cd(em/10)*CA,f5=-wA(em/10)*CA,d5={draw(t,e){const n=kr(e*c5),r=h5*n,i=f5*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=em*s/5,a=wA(o),l=cd(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Ov=kr(3),p5={draw(t,e){const n=-kr(e/(Ov*3));t.moveTo(0,n*2),t.lineTo(-Ov*n,-n),t.lineTo(Ov*n,-n),t.closePath()}},Wn=-.5,Vn=kr(3)/2,Wy=1/kr(12),m5=(Wy/2+1)*3,v5={draw(t,e){const n=kr(e/m5),r=n/2,i=n*Wy,s=r,o=n*Wy+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(Wn*r-Vn*i,Vn*r+Wn*i),t.lineTo(Wn*s-Vn*o,Vn*s+Wn*o),t.lineTo(Wn*a-Vn*l,Vn*a+Wn*l),t.lineTo(Wn*r+Vn*i,Wn*i-Vn*r),t.lineTo(Wn*s+Vn*o,Wn*o-Vn*s),t.lineTo(Wn*a+Vn*l,Wn*l-Vn*a),t.closePath()}};function g5(t,e){let n=null,r=Uw(i);t=typeof t=="function"?t:Ye(t||Vw),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ye(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function fd(){}function dd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $A(t){this._context=t}$A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y5(t){return new $A(t)}function TA(t){this._context=t}TA.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function b5(t){return new TA(t)}function jA(t){this._context=t}jA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w5(t){return new jA(t)}function AA(t){this._context=t}AA.prototype={areaStart:fd,areaEnd:fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function x5(t){return new AA(t)}function FS(t){return t<0?-1:1}function BS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(FS(s)+FS(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function US(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ev(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function pd(t){this._context=t}pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ev(this,this._t0,US(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ev(this,US(this,n=BS(this,t,e)),n);break;default:Ev(this,this._t0,n=BS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NA(t){this._context=new MA(t)}(NA.prototype=Object.create(pd.prototype)).point=function(t,e){pd.prototype.point.call(this,e,t)};function MA(t){this._context=t}MA.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function _5(t){return new pd(t)}function S5(t){return new NA(t)}function RA(t){this._context=t}RA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=WS(t),i=WS(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WS(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function O5(t){return new RA(t)}function nm(t,e){this._context=t,this._t=e}nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function E5(t){return new nm(t,.5)}function k5(t){return new nm(t,0)}function P5(t){return new nm(t,1)}function ka(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function C5(t,e){return t[e]}function $5(t){const e=[];return e.key=t,e}function T5(){var t=Ye([]),e=Vy,n=ka,r=C5;function i(s){var o=Array.from(t.apply(this,arguments),$5),a,l=o.length,u=-1,h;for(const c of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(c,o[a].key,u,s)]).data=c;for(a=0,h=Ww(e(o));a<l;++a)o[h[a]].index=a;return n(o,h),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ye(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Vy:typeof s=="function"?s:Ye(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ka,i):n},i}function j5(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ka(t,e)}}function A5(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}ka(t,e)}}function N5(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var h=t[e[a]],c=h[r][1]||0,f=h[r-1][1]||0,d=(c-f)/2,p=0;p<a;++p){var m=t[e[p]],b=m[r][1]||0,y=m[r-1][1]||0;d+=b-y}l+=c,u+=d*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ka(t,e)}}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var M5=["type","size","sizeType"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(n),!0).forEach(function(r){R5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R5(t,e,n){return e=I5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5(t){var e=L5(t,"string");return Yu(e)=="symbol"?e:e+""}function L5(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5(t,e){if(t==null)return{};var n=z5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var IA={symbolCircle:Vw,symbolCross:o5,symbolDiamond:l5,symbolSquare:u5,symbolStar:d5,symbolTriangle:p5,symbolWye:v5},F5=Math.PI/180,B5=function(e){var n="symbol".concat(Qp(e));return IA[n]||Vw},U5=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*F5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},W5=function(e,n){IA["symbol".concat(Qp(e))]=n},Hw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=D5(e,M5),u=HS(HS({},l),{},{type:r,size:s,sizeType:a}),h=function(){var b=B5(r),y=g5().type(b).size(U5(s,a,r));return y()},c=u.className,f=u.cx,d=u.cy,p=Pe(u,!0);return f===+f&&d===+d&&s===+s?M.createElement("path",Hy({},p,{className:Me("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:h()})):null};Hw.registerSymbol=W5;function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(this,arguments)}function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DA(r.key),r)}}function q5(t,e,n){return e&&K5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G5(t,e,n){return e=md(e),Z5(t,LA()?Reflect.construct(e,n||[],md(t).constructor):e.apply(t,n))}function Z5(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X5(t)}function X5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LA=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function Y5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qy(t,e)}function qy(t,e){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qy(t,e)}function Ju(t,e,n){return e=DA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DA(t){var e=J5(t,"string");return Pa(e)=="symbol"?e:e+""}function J5(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hn=32,Kw=function(t){function e(){return H5(this,e),G5(this,e,arguments)}return Y5(e,t),q5(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Hn/2,o=Hn/6,a=Hn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Hn,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Hn,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hn/8,"h").concat(Hn,"v").concat(Hn*3/4,"h").concat(-Hn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=V5({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(Hw,{fill:l,cx:s,cy:s,size:Hn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Hn,height:Hn},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(d,p){var m=d.formatter||l,b=Me(Ju(Ju({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=Ee(d.value)?null:d.value;oi(!Ee(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=d.inactive?u:d.color;return M.createElement("li",Ky({className:b,style:c,key:"legend-item-".concat(p)},ud(r.props,d,p)),M.createElement(Ly,{width:o,height:o,viewBox:h,style:f},r.renderIcon(d)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(y,d,p):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(C.PureComponent);Ju(Kw,"displayName","Legend");Ju(Kw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Q5=Fp;function e6(){this.__data__=new Q5,this.size=0}var t6=e6;function n6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var r6=n6;function i6(t){return this.__data__.get(t)}var s6=i6;function o6(t){return this.__data__.has(t)}var a6=o6,l6=Fp,u6=Nw,c6=Mw,h6=200;function f6(t,e){var n=this.__data__;if(n instanceof l6){var r=n.__data__;if(!u6||r.length<h6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new c6(r)}return n.set(t,e),this.size=n.size,this}var d6=f6,p6=Fp,m6=t6,v6=r6,g6=s6,y6=a6,b6=d6;function cl(t){var e=this.__data__=new p6(t);this.size=e.size}cl.prototype.clear=m6;cl.prototype.delete=v6;cl.prototype.get=g6;cl.prototype.has=y6;cl.prototype.set=b6;var zA=cl,w6="__lodash_hash_undefined__";function x6(t){return this.__data__.set(t,w6),this}var _6=x6;function S6(t){return this.__data__.has(t)}var O6=S6,E6=Mw,k6=_6,P6=O6;function vd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new E6;++e<n;)this.add(t[e])}vd.prototype.add=vd.prototype.push=k6;vd.prototype.has=P6;var FA=vd;function C6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var BA=C6;function $6(t,e){return t.has(e)}var UA=$6,T6=FA,j6=BA,A6=UA,N6=1,M6=2;function R6(t,e,n,r,i,s){var o=n&N6,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var c=-1,f=!0,d=n&M6?new T6:void 0;for(s.set(t,e),s.set(e,t);++c<a;){var p=t[c],m=e[c];if(r)var b=o?r(m,p,c,e,t,s):r(p,m,c,t,e,s);if(b!==void 0){if(b)continue;f=!1;break}if(d){if(!j6(e,function(y,v){if(!A6(d,v)&&(p===y||i(p,y,n,r,s)))return d.push(v)})){f=!1;break}}else if(!(p===m||i(p,m,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var WA=R6,I6=Ur,L6=I6.Uint8Array,D6=L6;function z6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var F6=z6;function B6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var qw=B6,qS=Yc,GS=D6,U6=Aw,W6=WA,V6=F6,H6=qw,K6=1,q6=2,G6="[object Boolean]",Z6="[object Date]",X6="[object Error]",Y6="[object Map]",J6="[object Number]",Q6="[object RegExp]",eH="[object Set]",tH="[object String]",nH="[object Symbol]",rH="[object ArrayBuffer]",iH="[object DataView]",ZS=qS?qS.prototype:void 0,kv=ZS?ZS.valueOf:void 0;function sH(t,e,n,r,i,s,o){switch(n){case iH:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rH:return!(t.byteLength!=e.byteLength||!s(new GS(t),new GS(e)));case G6:case Z6:case J6:return U6(+t,+e);case X6:return t.name==e.name&&t.message==e.message;case Q6:case tH:return t==e+"";case Y6:var a=V6;case eH:var l=r&K6;if(a||(a=H6),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=q6,o.set(t,e);var h=W6(a(t),a(e),r,i,s,o);return o.delete(t),h;case nH:if(kv)return kv.call(t)==kv.call(e)}return!1}var oH=sH;function aH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VA=aH,lH=VA,uH=Cn;function cH(t,e,n){var r=e(t);return uH(t)?r:lH(r,n(t))}var hH=cH;function fH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var dH=fH;function pH(){return[]}var mH=pH,vH=dH,gH=mH,yH=Object.prototype,bH=yH.propertyIsEnumerable,XS=Object.getOwnPropertySymbols,wH=XS?function(t){return t==null?[]:(t=Object(t),vH(XS(t),function(e){return bH.call(t,e)}))}:gH,xH=wH;function _H(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var SH=_H,OH=wi,EH=xi,kH="[object Arguments]";function PH(t){return EH(t)&&OH(t)==kH}var CH=PH,YS=CH,$H=xi,HA=Object.prototype,TH=HA.hasOwnProperty,jH=HA.propertyIsEnumerable,AH=YS(function(){return arguments}())?YS:function(t){return $H(t)&&TH.call(t,"callee")&&!jH.call(t,"callee")},Gw=AH,gd={exports:{}};function NH(){return!1}var MH=NH;gd.exports;(function(t,e){var n=Ur,r=MH,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(gd,gd.exports);var KA=gd.exports,RH=9007199254740991,IH=/^(?:0|[1-9]\d*)$/;function LH(t,e){var n=typeof t;return e=e??RH,!!e&&(n=="number"||n!="symbol"&&IH.test(t))&&t>-1&&t%1==0&&t<e}var Zw=LH,DH=9007199254740991;function zH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DH}var Xw=zH,FH=wi,BH=Xw,UH=xi,WH="[object Arguments]",VH="[object Array]",HH="[object Boolean]",KH="[object Date]",qH="[object Error]",GH="[object Function]",ZH="[object Map]",XH="[object Number]",YH="[object Object]",JH="[object RegExp]",QH="[object Set]",eK="[object String]",tK="[object WeakMap]",nK="[object ArrayBuffer]",rK="[object DataView]",iK="[object Float32Array]",sK="[object Float64Array]",oK="[object Int8Array]",aK="[object Int16Array]",lK="[object Int32Array]",uK="[object Uint8Array]",cK="[object Uint8ClampedArray]",hK="[object Uint16Array]",fK="[object Uint32Array]",tt={};tt[iK]=tt[sK]=tt[oK]=tt[aK]=tt[lK]=tt[uK]=tt[cK]=tt[hK]=tt[fK]=!0;tt[WH]=tt[VH]=tt[nK]=tt[HH]=tt[rK]=tt[KH]=tt[qH]=tt[GH]=tt[ZH]=tt[XH]=tt[YH]=tt[JH]=tt[QH]=tt[eK]=tt[tK]=!1;function dK(t){return UH(t)&&BH(t.length)&&!!tt[FH(t)]}var pK=dK;function mK(t){return function(e){return t(e)}}var qA=mK,yd={exports:{}};yd.exports;(function(t,e){var n=tA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(yd,yd.exports);var vK=yd.exports,gK=pK,yK=qA,JS=vK,QS=JS&&JS.isTypedArray,bK=QS?yK(QS):gK,GA=bK,wK=SH,xK=Gw,_K=Cn,SK=KA,OK=Zw,EK=GA,kK=Object.prototype,PK=kK.hasOwnProperty;function CK(t,e){var n=_K(t),r=!n&&xK(t),i=!n&&!r&&SK(t),s=!n&&!r&&!i&&EK(t),o=n||r||i||s,a=o?wK(t.length,String):[],l=a.length;for(var u in t)(e||PK.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OK(u,l)))&&a.push(u);return a}var $K=CK,TK=Object.prototype;function jK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TK;return t===n}var AK=jK;function NK(t,e){return function(n){return t(e(n))}}var ZA=NK,MK=ZA,RK=MK(Object.keys,Object),IK=RK,LK=AK,DK=IK,zK=Object.prototype,FK=zK.hasOwnProperty;function BK(t){if(!LK(t))return DK(t);var e=[];for(var n in Object(t))FK.call(t,n)&&n!="constructor"&&e.push(n);return e}var UK=BK,WK=jw,VK=Xw;function HK(t){return t!=null&&VK(t.length)&&!WK(t)}var Qc=HK,KK=$K,qK=UK,GK=Qc;function ZK(t){return GK(t)?KK(t):qK(t)}var rm=ZK,XK=hH,YK=xH,JK=rm;function QK(t){return XK(t,JK,YK)}var eq=QK,eO=eq,tq=1,nq=Object.prototype,rq=nq.hasOwnProperty;function iq(t,e,n,r,i,s){var o=n&tq,a=eO(t),l=a.length,u=eO(e),h=u.length;if(l!=h&&!o)return!1;for(var c=l;c--;){var f=a[c];if(!(o?f in e:rq.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var b=o;++c<l;){f=a[c];var y=t[f],v=e[f];if(r)var g=o?r(v,y,f,e,t,s):r(y,v,f,t,e,s);if(!(g===void 0?y===v||i(y,v,n,r,s):g)){m=!1;break}b||(b=f=="constructor")}if(m&&!b){var O=t.constructor,x=e.constructor;O!=x&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(t),s.delete(e),m}var sq=iq,oq=go,aq=Ur,lq=oq(aq,"DataView"),uq=lq,cq=go,hq=Ur,fq=cq(hq,"Promise"),dq=fq,pq=go,mq=Ur,vq=pq(mq,"Set"),XA=vq,gq=go,yq=Ur,bq=gq(yq,"WeakMap"),wq=bq,Gy=uq,Zy=Nw,Xy=dq,Yy=XA,Jy=wq,YA=wi,hl=rA,tO="[object Map]",xq="[object Object]",nO="[object Promise]",rO="[object Set]",iO="[object WeakMap]",sO="[object DataView]",_q=hl(Gy),Sq=hl(Zy),Oq=hl(Xy),Eq=hl(Yy),kq=hl(Jy),Cs=YA;(Gy&&Cs(new Gy(new ArrayBuffer(1)))!=sO||Zy&&Cs(new Zy)!=tO||Xy&&Cs(Xy.resolve())!=nO||Yy&&Cs(new Yy)!=rO||Jy&&Cs(new Jy)!=iO)&&(Cs=function(t){var e=YA(t),n=e==xq?t.constructor:void 0,r=n?hl(n):"";if(r)switch(r){case _q:return sO;case Sq:return tO;case Oq:return nO;case Eq:return rO;case kq:return iO}return e});var Pq=Cs,Pv=zA,Cq=WA,$q=oH,Tq=sq,oO=Pq,aO=Cn,lO=KA,jq=GA,Aq=1,uO="[object Arguments]",cO="[object Array]",Lh="[object Object]",Nq=Object.prototype,hO=Nq.hasOwnProperty;function Mq(t,e,n,r,i,s){var o=aO(t),a=aO(e),l=o?cO:oO(t),u=a?cO:oO(e);l=l==uO?Lh:l,u=u==uO?Lh:u;var h=l==Lh,c=u==Lh,f=l==u;if(f&&lO(t)){if(!lO(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new Pv),o||jq(t)?Cq(t,e,n,r,i,s):$q(t,e,l,n,r,i,s);if(!(n&Aq)){var d=h&&hO.call(t,"__wrapped__"),p=c&&hO.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,b=p?e.value():e;return s||(s=new Pv),i(m,b,n,r,s)}}return f?(s||(s=new Pv),Tq(t,e,n,r,i,s)):!1}var Rq=Mq,Iq=Rq,fO=xi;function JA(t,e,n,r,i){return t===e?!0:t==null||e==null||!fO(t)&&!fO(e)?t!==t&&e!==e:Iq(t,e,n,r,JA,i)}var Yw=JA,Lq=zA,Dq=Yw,zq=1,Fq=2;function Bq(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],h=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var c=new Lq;if(r)var f=r(u,h,l,t,e,c);if(!(f===void 0?Dq(h,u,zq|Fq,r,c):f))return!1}}return!0}var Uq=Bq,Wq=fs;function Vq(t){return t===t&&!Wq(t)}var QA=Vq,Hq=QA,Kq=rm;function qq(t){for(var e=Kq(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Hq(i)]}return e}var Gq=qq;function Zq(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eN=Zq,Xq=Uq,Yq=Gq,Jq=eN;function Qq(t){var e=Yq(t);return e.length==1&&e[0][2]?Jq(e[0][0],e[0][1]):function(n){return n===t||Xq(n,t,e)}}var eG=Qq;function tG(t,e){return t!=null&&e in Object(t)}var nG=tG,rG=lA,iG=Gw,sG=Cn,oG=Zw,aG=Xw,lG=Up;function uG(t,e,n){e=rG(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=lG(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&aG(i)&&oG(o,i)&&(sG(t)||iG(t)))}var cG=uG,hG=nG,fG=cG;function dG(t,e){return t!=null&&fG(t,e,hG)}var pG=dG,mG=Yw,vG=uA,gG=pG,yG=Tw,bG=QA,wG=eN,xG=Up,_G=1,SG=2;function OG(t,e){return yG(t)&&bG(e)?wG(xG(t),e):function(n){var r=vG(n,t);return r===void 0&&r===e?gG(n,t):mG(e,r,_G|SG)}}var EG=OG;function kG(t){return t}var fl=kG;function PG(t){return function(e){return e==null?void 0:e[t]}}var CG=PG,$G=Lw;function TG(t){return function(e){return $G(e,t)}}var jG=TG,AG=CG,NG=jG,MG=Tw,RG=Up;function IG(t){return MG(t)?AG(RG(t)):NG(t)}var LG=IG,DG=eG,zG=EG,FG=fl,BG=Cn,UG=LG;function WG(t){return typeof t=="function"?t:t==null?FG:typeof t=="object"?BG(t)?zG(t[0],t[1]):DG(t):UG(t)}var ds=WG;function VG(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var tN=VG;function HG(t){return t!==t}var KG=HG;function qG(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var GG=qG,ZG=tN,XG=KG,YG=GG;function JG(t,e,n){return e===e?YG(t,e,n):ZG(t,XG,n)}var QG=JG,e9=QG;function t9(t,e){var n=t==null?0:t.length;return!!n&&e9(t,e,0)>-1}var n9=t9;function r9(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var i9=r9;function s9(){}var o9=s9,Cv=XA,a9=o9,l9=qw,u9=1/0,c9=Cv&&1/l9(new Cv([,-0]))[1]==u9?function(t){return new Cv(t)}:a9,h9=c9,f9=FA,d9=n9,p9=i9,m9=UA,v9=h9,g9=qw,y9=200;function b9(t,e,n){var r=-1,i=d9,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=p9;else if(s>=y9){var u=e?null:v9(t);if(u)return g9(u);o=!1,i=m9,l=new f9}else l=e?[]:a;e:for(;++r<s;){var h=t[r],c=e?e(h):h;if(h=n||h!==0?h:0,o&&c===c){for(var f=l.length;f--;)if(l[f]===c)continue e;e&&l.push(c),a.push(h)}else i(l,c,n)||(l!==a&&l.push(c),a.push(h))}return a}var w9=b9,x9=ds,_9=w9;function S9(t,e){return t&&t.length?_9(t,x9(e)):[]}var O9=S9;const dO=We(O9);function nN(t,e,n){return e===!0?dO(t,n):Ee(e)?dO(t,e):t}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}var E9=["ref"];function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iN(r.key),r)}}function P9(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C9(t,e,n){return e=bd(e),$9(t,rN()?Reflect.construct(e,n||[],bd(t).constructor):e.apply(t,n))}function $9(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T9(t)}function T9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rN=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(t)}function j9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qy(t,e)}function im(t,e,n){return e=iN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iN(t){var e=A9(t,"string");return Ca(e)=="symbol"?e:e+""}function A9(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N9(t,e){if(t==null)return{};var n=M9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R9(t){return t.value}function I9(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=N9(e,E9);return M.createElement(Kw,n)}var vO=1,ai=function(t){function e(){var n;k9(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=C9(this,e,[].concat(i)),im(n,"lastBoundingBox",{width:-1,height:-1}),n}return j9(e,t),P9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vO||Math.abs(i.height-this.lastBoundingBox.height)>vO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,h=i.chartHeight,c,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var d=this.getBBoxSnapshot();c={left:((u||0)-d.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var p=this.getBBoxSnapshot();f={top:((h||0)-p.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vr(Vr({},c),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,c=Vr(Vr({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(d){r.wrapperNode=d}},I9(s,Vr(Vr({},this.props),{},{payload:nN(h,u,R9)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Vr(Vr({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Q(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);im(ai,"displayName","Legend");im(ai,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gO=Yc,L9=Gw,D9=Cn,yO=gO?gO.isConcatSpreadable:void 0;function z9(t){return D9(t)||L9(t)||!!(yO&&t&&t[yO])}var F9=z9,B9=VA,U9=F9;function sN(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=U9),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?sN(a,e-1,n,r,i):B9(i,a):r||(i[i.length]=a)}return i}var oN=sN;function W9(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var V9=W9,H9=V9,K9=H9(),q9=K9,G9=q9,Z9=rm;function X9(t,e){return t&&G9(t,e,Z9)}var aN=X9,Y9=Qc;function J9(t,e){return function(n,r){if(n==null)return n;if(!Y9(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Q9=J9,e7=aN,t7=Q9,n7=t7(e7),Jw=n7,r7=Jw,i7=Qc;function s7(t,e){var n=-1,r=i7(t)?Array(t.length):[];return r7(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var lN=s7;function o7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var a7=o7,bO=il;function l7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=bO(t),o=e!==void 0,a=e===null,l=e===e,u=bO(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var u7=l7,c7=u7;function h7(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=c7(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var f7=h7,$v=Iw,d7=Lw,p7=ds,m7=lN,v7=a7,g7=qA,y7=f7,b7=fl,w7=Cn;function x7(t,e,n){e.length?e=$v(e,function(s){return w7(s)?function(o){return d7(o,s.length===1?s[0]:s)}:s}):e=[b7];var r=-1;e=$v(e,g7(p7));var i=m7(t,function(s,o,a){var l=$v(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return v7(i,function(s,o){return y7(s,o,n)})}var _7=x7;function S7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var O7=S7,E7=O7,wO=Math.max;function k7(t,e,n){return e=wO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=wO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),E7(t,this,a)}}var P7=k7;function C7(t){return function(){return t}}var $7=C7,T7=go,j7=function(){try{var t=T7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uN=j7,A7=$7,xO=uN,N7=fl,M7=xO?function(t,e){return xO(t,"toString",{configurable:!0,enumerable:!1,value:A7(e),writable:!0})}:N7,R7=M7,I7=800,L7=16,D7=Date.now;function z7(t){var e=0,n=0;return function(){var r=D7(),i=L7-(r-n);if(n=r,i>0){if(++e>=I7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var F7=z7,B7=R7,U7=F7,W7=U7(B7),V7=W7,H7=fl,K7=P7,q7=V7;function G7(t,e){return q7(K7(t,e,H7),t+"")}var Z7=G7,X7=Aw,Y7=Qc,J7=Zw,Q7=fs;function eZ(t,e,n){if(!Q7(n))return!1;var r=typeof e;return(r=="number"?Y7(n)&&J7(e,n.length):r=="string"&&e in n)?X7(n[e],t):!1}var sm=eZ,tZ=oN,nZ=_7,rZ=Z7,_O=sm,iZ=rZ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_O(t,e[0],e[1])?e=[]:n>2&&_O(e[0],e[1],e[2])&&(e=[e[0]]),nZ(t,tZ(e,1),[])}),sZ=iZ;const Qw=We(sZ);function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function oZ(t,e){return cZ(t)||uZ(t,e)||lZ(t,e)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(t,e){if(t){if(typeof t=="string")return SO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cZ(t){if(Array.isArray(t))return t}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t){var e=dZ(t,"string");return Qu(e)=="symbol"?e:e+""}function dZ(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pZ(t){return Array.isArray(t)&&It(t[0])&&It(t[1])?t.join(" ~ "):t}var mZ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,h=e.payload,c=e.formatter,f=e.itemSorter,d=e.wrapperClassName,p=e.labelClassName,m=e.label,b=e.labelFormatter,y=e.accessibilityLayer,v=y===void 0?!1:y,g=function(){if(h&&h.length){var T={padding:0,margin:0},R=(f?Qw(h,f):h).map(function(z,U){if(z.type==="none")return null;var W=Tv({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),B=z.formatter||c||pZ,N=z.value,L=z.name,F=N,j=L;if(B&&F!=null&&j!=null){var I=B(N,L,z,U,h);if(Array.isArray(I)){var V=oZ(I,2);F=V[0],j=V[1]}else F=I}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},It(j)?M.createElement("span",{className:"recharts-tooltip-item-name"},j):null,It(j)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},F),M.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:T},R)}return null},O=Tv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=Tv({margin:0},u),E=!je(m),_=E?m:"",S=Me("recharts-default-tooltip",d),k=Me("recharts-tooltip-label",p);E&&b&&h!==void 0&&h!==null&&(_=b(m,h));var P=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",e0({className:S,style:O},P),M.createElement("p",{className:k,style:x},M.isValidElement(_)?_:"".concat(_)),g())};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Dh(t,e,n){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=gZ(t,"string");return ec(e)=="symbol"?e:e+""}function gZ(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dl="recharts-tooltip-wrapper",yZ={visibility:"hidden"};function bZ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Me(Dl,Dh(Dh(Dh(Dh({},"".concat(Dl,"-right"),Q(n)&&e&&Q(e.x)&&n>=e.x),"".concat(Dl,"-left"),Q(n)&&e&&Q(e.x)&&n<e.x),"".concat(Dl,"-bottom"),Q(r)&&e&&Q(e.y)&&r>=e.y),"".concat(Dl,"-top"),Q(r)&&e&&Q(e.y)&&r<e.y))}function EO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&Q(s[r]))return s[r];var h=n[r]-a-i,c=n[r]+i;if(e[r])return o[r]?h:c;if(o[r]){var f=h,d=l[r];return f<d?Math.max(c,l[r]):Math.max(h,l[r])}var p=c+a,m=l[r]+u;return p>m?Math.max(h,l[r]):Math.max(c,l[r])}function wZ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function xZ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,h,c;return o.height>0&&o.width>0&&n?(h=EO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=EO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=wZ({translateX:h,translateY:c,useTranslate3d:a})):u=yZ,{cssProperties:u,cssClasses:bZ({translateX:h,translateY:c,coordinate:n})}}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hN(r.key),r)}}function OZ(t,e,n){return e&&SZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EZ(t,e,n){return e=wd(e),kZ(t,cN()?Reflect.construct(e,n||[],wd(t).constructor):e.apply(t,n))}function kZ(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZ(t)}function PZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cN=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function CZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t0(t,e)}function n0(t,e,n){return e=hN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hN(t){var e=$Z(t,"string");return $a(e)=="symbol"?e:e+""}function $Z(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CO=1,TZ=function(t){function e(){var n;_Z(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=EZ(this,e,[].concat(i)),n0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),n0(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return CZ(e,t),OZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>CO||Math.abs(r.height-this.state.lastBoundingBox.height)>CO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,h=i.coordinate,c=i.hasPayload,f=i.isAnimationActive,d=i.offset,p=i.position,m=i.reverseDirection,b=i.useTranslate3d,y=i.viewBox,v=i.wrapperStyle,g=xZ({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:d,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),O=g.cssClasses,x=g.cssProperties,E=PO(PO({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&c?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:O,style:E,ref:function(S){r.wrapperNode=S}},u)}}])}(C.PureComponent),jZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dl={isSsr:jZ()};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dN(r.key),r)}}function MZ(t,e,n){return e&&NZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t,e,n){return e=xd(e),IZ(t,fN()?Reflect.construct(e,n||[],xd(t).constructor):e.apply(t,n))}function IZ(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(t)}function LZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fN=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function DZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r0(t,e)}function r0(t,e){return r0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r0(t,e)}function ex(t,e,n){return e=dN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dN(t){var e=zZ(t,"string");return Ta(e)=="symbol"?e:e+""}function zZ(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FZ(t){return t.dataKey}function BZ(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(mZ,e)}var qn=function(t){function e(){return AZ(this,e),RZ(this,e,arguments)}return DZ(e,t),MZ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,h=i.coordinate,c=i.filterNull,f=i.isAnimationActive,d=i.offset,p=i.payload,m=i.payloadUniqBy,b=i.position,y=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,O=i.wrapperStyle,x=p??[];c&&x.length&&(x=nN(p.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),m,FZ));var E=x.length>0;return M.createElement(TZ,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:h,hasPayload:E,offset:d,position:b,reverseDirection:y,useTranslate3d:v,viewBox:g,wrapperStyle:O},BZ(u,TO(TO({},this.props),{},{payload:x})))}}])}(C.PureComponent);ex(qn,"displayName","Tooltip");ex(qn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UZ=Ur,WZ=function(){return UZ.Date.now()},VZ=WZ,HZ=/\s/;function KZ(t){for(var e=t.length;e--&&HZ.test(t.charAt(e)););return e}var qZ=KZ,GZ=qZ,ZZ=/^\s+/;function XZ(t){return t&&t.slice(0,GZ(t)+1).replace(ZZ,"")}var YZ=XZ,JZ=YZ,jO=fs,QZ=il,AO=NaN,eX=/^[-+]0x[0-9a-f]+$/i,tX=/^0b[01]+$/i,nX=/^0o[0-7]+$/i,rX=parseInt;function iX(t){if(typeof t=="number")return t;if(QZ(t))return AO;if(jO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=JZ(t);var n=tX.test(t);return n||nX.test(t)?rX(t.slice(2),n?2:8):eX.test(t)?AO:+t}var pN=iX,sX=fs,jv=VZ,NO=pN,oX="Expected a function",aX=Math.max,lX=Math.min;function uX(t,e,n){var r,i,s,o,a,l,u=0,h=!1,c=!1,f=!0;if(typeof t!="function")throw new TypeError(oX);e=NO(e)||0,sX(n)&&(h=!!n.leading,c="maxWait"in n,s=c?aX(NO(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function d(E){var _=r,S=i;return r=i=void 0,u=E,o=t.apply(S,_),o}function p(E){return u=E,a=setTimeout(y,e),h?d(E):o}function m(E){var _=E-l,S=E-u,k=e-_;return c?lX(k,s-S):k}function b(E){var _=E-l,S=E-u;return l===void 0||_>=e||_<0||c&&S>=s}function y(){var E=jv();if(b(E))return v(E);a=setTimeout(y,m(E))}function v(E){return a=void 0,f&&r?d(E):(r=i=void 0,o)}function g(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function O(){return a===void 0?o:v(jv())}function x(){var E=jv(),_=b(E);if(r=arguments,i=this,l=E,_){if(a===void 0)return p(l);if(c)return clearTimeout(a),a=setTimeout(y,e),d(l)}return a===void 0&&(a=setTimeout(y,e)),o}return x.cancel=g,x.flush=O,x}var cX=uX,hX=cX,fX=fs,dX="Expected a function";function pX(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(dX);return fX(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hX(t,e,{leading:r,maxWait:e,trailing:i})}var mX=pX;const mN=We(mX);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){vX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vX(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=yX(t,"string");return tc(e)=="symbol"?e:e+""}function yX(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bX(t,e){return SX(t)||_X(t,e)||xX(t,e)||wX()}function wX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _X(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function SX(t){if(Array.isArray(t))return t}var Av=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,h=u===void 0?0:u,c=t.minHeight,f=t.maxHeight,d=t.children,p=t.debounce,m=p===void 0?0:p,b=t.id,y=t.className,v=t.onResize,g=t.style,O=g===void 0?{}:g,x=C.useRef(null),E=C.useRef();E.current=v,C.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var _=C.useState({containerWidth:i.width,containerHeight:i.height}),S=bX(_,2),k=S[0],P=S[1],$=C.useCallback(function(R,z){P(function(U){var W=Math.round(R),B=Math.round(z);return U.containerWidth===W&&U.containerHeight===B?U:{containerWidth:W,containerHeight:B}})},[]);C.useEffect(function(){var R=function(L){var F,j=L[0].contentRect,I=j.width,V=j.height;$(I,V),(F=E.current)===null||F===void 0||F.call(E,I,V)};m>0&&(R=mN(R,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(R),U=x.current.getBoundingClientRect(),W=U.width,B=U.height;return $(W,B),z.observe(x.current),function(){z.disconnect()}},[$,m]);var T=C.useMemo(function(){var R=k.containerWidth,z=k.containerHeight;if(R<0||z<0)return null;oi(Ls(o)||Ls(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),oi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ls(o)?R:o,W=Ls(l)?z:l;n&&n>0&&(U?W=U/n:W&&(U=W*n),f&&W>f&&(W=f)),oi(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,o,l,h,c,n);var B=!Array.isArray(d)&&si(d.type).endsWith("Chart");return M.Children.map(d,function(N){return M.isValidElement(N)?C.cloneElement(N,zh({width:U,height:W},B?{style:zh({height:"100%",width:"100%",maxHeight:W,maxWidth:U},N.props.style)}:{})):N})},[n,d,l,f,c,h,k,o]);return M.createElement("div",{id:b?"".concat(b):void 0,className:Me("recharts-responsive-container",y),style:zh(zh({},O),{},{width:o,height:l,minWidth:h,minHeight:c,maxHeight:f}),ref:x},T)}),vN=function(e){return null};vN.displayName="Cell";function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){OX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OX(t,e,n){return e=EX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=kX(t,"string");return nc(e)=="symbol"?e:e+""}function kX(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mo={widthCache:{},cacheCount:0},PX=2e3,CX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LO="recharts_measurement_span";function $X(t){var e=i0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var vu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dl.isSsr)return{width:0,height:0};var r=$X(n),i=JSON.stringify({text:e,copyStyle:r});if(Mo.widthCache[i])return Mo.widthCache[i];try{var s=document.getElementById(LO);s||(s=document.createElement("span"),s.setAttribute("id",LO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=i0(i0({},CX),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Mo.widthCache[i]=l,++Mo.cacheCount>PX&&(Mo.cacheCount=0,Mo.widthCache={}),l}catch{return{width:0,height:0}}},TX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function _d(t,e){return MX(t)||NX(t,e)||AX(t,e)||jX()}function jX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t,e){if(t){if(typeof t=="string")return DO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function MX(t){if(Array.isArray(t))return t}function RX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LX(r.key),r)}}function IX(t,e,n){return e&&zO(t.prototype,e),n&&zO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LX(t){var e=DX(t,"string");return rc(e)=="symbol"?e:e+""}function DX(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BX=Object.keys(gN),ta="NaN";function UX(t,e){return t*gN[e]}var Fh=function(){function t(e,n){RX(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!zX.test(n)&&(this.num=NaN,this.unit=""),BX.includes(n)&&(this.num=UX(e,n),this.unit="px")}return IX(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=FX.exec(n))!==null&&r!==void 0?r:[],s=_d(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function yN(t){if(t.includes(ta))return ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=FO.exec(e))!==null&&n!==void 0?n:[],i=_d(r,4),s=i[1],o=i[2],a=i[3],l=Fh.parse(s??""),u=Fh.parse(a??""),h=o==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return ta;e=e.replace(FO,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,f=(c=BO.exec(e))!==null&&c!==void 0?c:[],d=_d(f,4),p=d[1],m=d[2],b=d[3],y=Fh.parse(p??""),v=Fh.parse(b??""),g=m==="+"?y.add(v):y.subtract(v);if(g.isNaN())return ta;e=e.replace(BO,g.toString())}return e}var UO=/\(([^()]*)\)/;function WX(t){for(var e=t;e.includes("(");){var n=UO.exec(e),r=_d(n,2),i=r[1];e=e.replace(UO,yN(i))}return e}function VX(t){var e=t.replace(/\s+/g,"");return e=WX(e),e=yN(e),e}function HX(t){try{return VX(t)}catch{return ta}}function Nv(t){var e=HX(t.slice(5,-1));return e===ta?"":e}var KX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qX=["dx","dy","angle","className","breakAll"];function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(this,arguments)}function WO(t,e){if(t==null)return{};var n=GX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VO(t,e){return JX(t)||YX(t,e)||XX(t,e)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function JX(t){if(Array.isArray(t))return t}var bN=/[ \f\n\r\t\v\u2028\u2029]+/,wN=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];je(n)||(r?s=n.toString().split(""):s=n.toString().split(bN));var o=s.map(function(l){return{word:l,width:vu(l,i).width}}),a=r?0:vu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},QX=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,h=Q(o),c=a,f=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,B){var N=B.word,L=B.width,F=W[W.length-1];if(F&&(i==null||s||F.width+L+r<Number(i)))F.words.push(N),F.width+=L+r;else{var j={words:[N],width:L};W.push(j)}return W},[])},d=f(n),p=function(U){return U.reduce(function(W,B){return W.width>B.width?W:B})};if(!h)return d;for(var m="",b=function(U){var W=c.slice(0,U),B=wN({breakAll:u,style:l,children:W+m}).wordsWithComputedWidth,N=f(B),L=N.length>o||p(N).width>Number(i);return[L,N]},y=0,v=c.length-1,g=0,O;y<=v&&g<=c.length-1;){var x=Math.floor((y+v)/2),E=x-1,_=b(E),S=VO(_,2),k=S[0],P=S[1],$=b(x),T=VO($,1),R=T[0];if(!k&&!R&&(y=x+1),k&&R&&(v=x-1),!k&&R){O=P;break}g++}return O||d},KO=function(e){var n=je(e)?[]:e.toString().split(bN);return[{words:n}]},eY=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!dl.isSsr){var l,u,h=wN({breakAll:o,children:i,style:s});if(h){var c=h.wordsWithComputedWidth,f=h.spaceWidth;l=c,u=f}else return KO(i);return QX({breakAll:o,children:i,maxLines:a,style:s},l,u,n,r)}return KO(i)},qO="#808080",Sd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,h=e.scaleToFit,c=h===void 0?!1:h,f=e.textAnchor,d=f===void 0?"start":f,p=e.verticalAnchor,m=p===void 0?"end":p,b=e.fill,y=b===void 0?qO:b,v=WO(e,KX),g=C.useMemo(function(){return eY({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:c,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,c,v.style,v.width]),O=v.dx,x=v.dy,E=v.angle,_=v.className,S=v.breakAll,k=WO(v,qX);if(!It(r)||!It(s))return null;var P=r+(Q(O)?O:0),$=s+(Q(x)?x:0),T;switch(m){case"start":T=Nv("calc(".concat(u,")"));break;case"middle":T=Nv("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:T=Nv("calc(".concat(g.length-1," * -").concat(a,")"));break}var R=[];if(c){var z=g[0].width,U=v.width;R.push("scale(".concat((Q(U)?U/z:1)/z,")"))}return E&&R.push("rotate(".concat(E,", ").concat(P,", ").concat($,")")),R.length&&(k.transform=R.join(" ")),M.createElement("text",s0({},Pe(k,!0),{x:P,y:$,className:Me("recharts-text",_),textAnchor:d,fill:y.includes("url")?qO:y}),g.map(function(W,B){var N=W.words.join(S?"":" ");return M.createElement("tspan",{x:P,dy:B===0?T:a,key:"".concat(N,"-").concat(B)},N)}))};function Ji(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tx(t){let e,n,r;t.length!==2?(e=Ji,n=(a,l)=>Ji(t(a),l),r=(a,l)=>t(a)-l):(e=t===Ji||t===tY?t:nY,n=t,r=t);function i(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const c=u+h>>>1;n(a[c],l)<0?u=c+1:h=c}while(u<h)}return u}function s(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const c=u+h>>>1;n(a[c],l)<=0?u=c+1:h=c}while(u<h)}return u}function o(a,l,u=0,h=a.length){const c=i(a,l,u,h-1);return c>u&&r(a[c-1],l)>-r(a[c],l)?c-1:c}return{left:i,center:o,right:s}}function nY(){return 0}function xN(t){return t===null?NaN:+t}function*rY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iY=tx(Ji),eh=iY.right;tx(xN).center;class GO extends Map{constructor(e,n=aY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZO(this,e))}has(e){return super.has(ZO(this,e))}set(e,n){return super.set(sY(this,e),n)}delete(e){return super.delete(oY(this,e))}}function ZO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lY(t=Ji){if(t===Ji)return _N;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _N(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uY=Math.sqrt(50),cY=Math.sqrt(10),hY=Math.sqrt(2);function Od(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=uY?10:s>=cY?5:s>=hY?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Od(t,e,n*2):[a,l,u]}function o0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Od(e,t,n):Od(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function a0(t,e,n){return e=+e,t=+t,n=+n,Od(t,e,n)[2]}function l0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?a0(e,t,n):a0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function XO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SN(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_N:lY(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,h=Math.log(l),c=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*c*(l-c)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*c/l+f)),p=Math.min(r,Math.floor(e+(l-u)*c/l+f));SN(t,e,d,p,i)}const s=t[e];let o=n,a=r;for(zl(t,n,e),i(t[r],s)>0&&zl(t,n,r);o<a;){for(zl(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?zl(t,n,a):(++a,zl(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function zl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fY(t,e,n){if(t=Float64Array.from(rY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YO(t);if(e>=1)return XO(t);var r,i=(r-1)*e,s=Math.floor(i),o=XO(SN(t,s).subarray(0,s+1)),a=YO(t.subarray(s+1));return o+(a-o)*(i-s)}}function dY(t,e,n=xN){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function pY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function sr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u0=Symbol("implicit");function nx(){var t=new GO,e=[],n=[],r=u0;function i(s){let o=t.get(s);if(o===void 0){if(r!==u0)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new GO;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return nx(e,n).unknown(r)},sr.apply(i,arguments),i}function ic(){var t=nx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,h=.5;delete t.unknown;function c(){var f=e().length,d=i<r,p=d?i:r,m=d?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*h,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var b=pY(f).map(function(y){return p+s*y});return n(d?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),c()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,c()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,c()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),c()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),c()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,c()):u},t.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),c()):h},t.copy=function(){return ic(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(h)},sr.apply(c(),arguments)}function ON(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ON(e())},t}function gu(){return ON(ic.apply(null,arguments).paddingInner(1))}function rx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function th(){}var sc=.7,Ed=1/sc,pa="\\s*([+-]?\\d+)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mY=/^#([0-9a-f]{3,8})$/,vY=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),gY=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),yY=new RegExp(`^rgba\\(${pa},${pa},${pa},${oc}\\)$`),bY=new RegExp(`^rgba\\(${zr},${zr},${zr},${oc}\\)$`),wY=new RegExp(`^hsl\\(${oc},${zr},${zr}\\)$`),xY=new RegExp(`^hsla\\(${oc},${zr},${zr},${oc}\\)$`),JO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rx(th,ac,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QO,formatHex:QO,formatHex8:_Y,formatHsl:SY,formatRgb:eE,toString:eE});function QO(){return this.rgb().formatHex()}function _Y(){return this.rgb().formatHex8()}function SY(){return kN(this).formatHsl()}function eE(){return this.rgb().formatRgb()}function ac(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tE(e):n===3?new Sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vY.exec(t))?new Sn(e[1],e[2],e[3],1):(e=gY.exec(t))?new Sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yY.exec(t))?Bh(e[1],e[2],e[3],e[4]):(e=bY.exec(t))?Bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wY.exec(t))?iE(e[1],e[2]/100,e[3]/100,1):(e=xY.exec(t))?iE(e[1],e[2]/100,e[3]/100,e[4]):JO.hasOwnProperty(t)?tE(JO[t]):t==="transparent"?new Sn(NaN,NaN,NaN,0):null}function tE(t){return new Sn(t>>16&255,t>>8&255,t&255,1)}function Bh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sn(t,e,n,r)}function OY(t){return t instanceof th||(t=ac(t)),t?(t=t.rgb(),new Sn(t.r,t.g,t.b,t.opacity)):new Sn}function c0(t,e,n,r){return arguments.length===1?OY(t):new Sn(t,e,n,r??1)}function Sn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rx(Sn,c0,EN(th,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sc:Math.pow(sc,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sn(Hs(this.r),Hs(this.g),Hs(this.b),kd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nE,formatHex:nE,formatHex8:EY,formatRgb:rE,toString:rE}));function nE(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}`}function EY(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}${Ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function rE(){const t=kd(this.opacity);return`${t===1?"rgb(":"rgba("}${Hs(this.r)}, ${Hs(this.g)}, ${Hs(this.b)}${t===1?")":`, ${t})`}`}function kd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ds(t){return t=Hs(t),(t<16?"0":"")+t.toString(16)}function iE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new br(t,e,n,r)}function kN(t){if(t instanceof br)return new br(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=ac(t)),!t)return new br;if(t instanceof br)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new br(o,a,l,t.opacity)}function kY(t,e,n,r){return arguments.length===1?kN(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rx(br,kY,EN(th,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new br(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sc:Math.pow(sc,t),new br(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sn(Mv(t>=240?t-240:t+120,i,r),Mv(t,i,r),Mv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new br(sE(this.h),Uh(this.s),Uh(this.l),kd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kd(this.opacity);return`${t===1?"hsl(":"hsla("}${sE(this.h)}, ${Uh(this.s)*100}%, ${Uh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sE(t){return t=(t||0)%360,t<0?t+360:t}function Uh(t){return Math.max(0,Math.min(1,t||0))}function Mv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ix=t=>()=>t;function PY(t,e){return function(n){return t+n*e}}function CY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $Y(t){return(t=+t)==1?PN:function(e,n){return n-e?CY(e,n,t):ix(isNaN(e)?n:e)}}function PN(t,e){var n=e-t;return n?PY(t,n):ix(isNaN(t)?e:t)}const oE=function t(e){var n=$Y(e);function r(i,s){var o=n((i=c0(i)).r,(s=c0(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=PN(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function TY(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function jY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AY(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=pl(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function NY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MY(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pl(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var h0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rv=new RegExp(h0.source,"g");function RY(t){return function(){return t}}function IY(t){return function(e){return t(e)+""}}function LY(t,e){var n=h0.lastIndex=Rv.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=h0.exec(t))&&(i=Rv.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Pd(r,i)})),n=Rv.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?IY(l[0].x):RY(e):(e=l.length,function(u){for(var h=0,c;h<e;++h)a[(c=l[h]).i]=c.x(u);return a.join("")})}function pl(t,e){var n=typeof e,r;return e==null||n==="boolean"?ix(e):(n==="number"?Pd:n==="string"?(r=ac(e))?(e=r,oE):LY:e instanceof ac?oE:e instanceof Date?NY:jY(e)?TY:Array.isArray(e)?AY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MY:Pd)(t,e)}function sx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function DY(t,e){e===void 0&&(e=t,t=pl);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function zY(t){return function(){return t}}function Cd(t){return+t}var aE=[0,1];function fn(t){return t}function f0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zY(isNaN(e)?NaN:.5)}function FY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BY(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=f0(i,r),s=n(o,s)):(r=f0(r,i),s=n(s,o)),function(a){return s(r(a))}}function UY(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=f0(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=eh(t,a,1,r)-1;return s[l](i[l](a))}}function nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function om(){var t=aE,e=aE,n=pl,r,i,s,o=fn,a,l,u;function h(){var f=Math.min(t.length,e.length);return o!==fn&&(o=FY(t[0],t[f-1])),a=f>2?UY:BY,l=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return c.invert=function(f){return o(i((u||(u=a(e,t.map(r),Pd)))(f)))},c.domain=function(f){return arguments.length?(t=Array.from(f,Cd),h()):t.slice()},c.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},c.rangeRound=function(f){return e=Array.from(f),n=sx,h()},c.clamp=function(f){return arguments.length?(o=f?!0:fn,h()):o!==fn},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,d){return r=f,i=d,h()}}function ox(){return om()(fn,fn)}function WY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $d(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ja(t){return t=$d(Math.abs(t)),t?t[1]:NaN}function VY(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function HY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var KY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lc(t){if(!(e=KY.exec(t)))throw new Error("invalid format: "+t);var e;return new ax({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lc.prototype=ax.prototype;function ax(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ax.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qY(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var CN;function GY(t,e){var n=$d(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(CN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$d(t,Math.max(0,e+s-1))[0]}function lE(t,e){var n=$d(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:WY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lE(t*100,e),r:lE,s:GY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cE(t){return t}var hE=Array.prototype.map,fE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZY(t){var e=t.grouping===void 0||t.thousands===void 0?cE:VY(hE.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?cE:HY(hE.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=lc(c);var f=c.fill,d=c.align,p=c.sign,m=c.symbol,b=c.zero,y=c.width,v=c.comma,g=c.precision,O=c.trim,x=c.type;x==="n"?(v=!0,x="g"):uE[x]||(g===void 0&&(g=12),O=!0,x="g"),(b||f==="0"&&d==="=")&&(b=!0,f="0",d="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",_=m==="$"?r:/[%p]/.test(x)?o:"",S=uE[x],k=/[defgprs%]/.test(x);g=g===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function P($){var T=E,R=_,z,U,W;if(x==="c")R=S($)+R,$="";else{$=+$;var B=$<0||1/$<0;if($=isNaN($)?l:S(Math.abs($),g),O&&($=qY($)),B&&+$==0&&p!=="+"&&(B=!1),T=(B?p==="("?p:a:p==="-"||p==="("?"":p)+T,R=(x==="s"?fE[8+CN/3]:"")+R+(B&&p==="("?")":""),k){for(z=-1,U=$.length;++z<U;)if(W=$.charCodeAt(z),48>W||W>57){R=(W===46?i+$.slice(z+1):$.slice(z))+R,$=$.slice(0,z);break}}}v&&!b&&($=e($,1/0));var N=T.length+$.length+R.length,L=N<y?new Array(y-N+1).join(f):"";switch(v&&b&&($=e(L+$,L.length?y-R.length:1/0),L=""),d){case"<":$=T+$+R+L;break;case"=":$=T+L+$+R;break;case"^":$=L.slice(0,N=L.length>>1)+T+$+R+L.slice(N);break;default:$=L+T+$+R;break}return s($)}return P.toString=function(){return c+""},P}function h(c,f){var d=u((c=lc(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(ja(f)/3)))*3,m=Math.pow(10,-p),b=fE[8+p/3];return function(y){return d(m*y)+b}}return{format:u,formatPrefix:h}}var Wh,lx,$N;XY({thousands:",",grouping:[3],currency:["$",""]});function XY(t){return Wh=ZY(t),lx=Wh.format,$N=Wh.formatPrefix,Wh}function YY(t){return Math.max(0,-ja(Math.abs(t)))}function JY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ja(e)/3)))*3-ja(Math.abs(t)))}function QY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ja(e)-ja(t))+1}function TN(t,e,n,r){var i=l0(t,e,n),s;switch(r=lc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=JY(i,o))&&(r.precision=s),$N(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=QY(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=YY(i))&&(r.precision=s-(r.type==="%")*2);break}}return lx(r)}function ps(t){var e=t.domain;return t.ticks=function(n){var r=e();return o0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return TN(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,h=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);h-- >0;){if(u=a0(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Td(){var t=ox();return t.copy=function(){return nh(t,Td())},sr.apply(t,arguments),ps(t)}function jN(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jN(t).unknown(e)},t=arguments.length?Array.from(t,Cd):[0,1],ps(n)}function AN(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function dE(t){return Math.log(t)}function pE(t){return Math.exp(t)}function eJ(t){return-Math.log(-t)}function tJ(t){return-Math.exp(-t)}function nJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rJ(t){return t===10?nJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function iJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mE(t){return(e,n)=>-t(-e,n)}function ux(t){const e=t(dE,pE),n=e.domain;let r=10,i,s;function o(){return i=iJ(r),s=rJ(r),n()[0]<0?(i=mE(i),s=mE(s),t(eJ,tJ)):t(dE,pE),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],h=l[l.length-1];const c=h<u;c&&([u,h]=[h,u]);let f=i(u),d=i(h),p,m;const b=a==null?10:+a;let y=[];if(!(r%1)&&d-f<b){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(p=1;p<r;++p)if(m=f<0?p/s(-f):p*s(f),!(m<u)){if(m>h)break;y.push(m)}}else for(;f<=d;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<u)){if(m>h)break;y.push(m)}y.length*2<b&&(y=o0(u,h,b))}else y=o0(f,d,Math.min(d-f,b)).map(s);return c?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lc(l)).precision==null&&(l.trim=!0),l=lx(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return h=>{let c=h/s(Math.round(i(h)));return c*r<r-.5&&(c*=r),c<=u?l(h):""}},e.nice=()=>n(AN(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function NN(){const t=ux(om()).domain([1,10]);return t.copy=()=>nh(t,NN()).base(t.base()),sr.apply(t,arguments),t}function vE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cx(t){var e=1,n=t(vE(e),gE(e));return n.constant=function(r){return arguments.length?t(vE(e=+r),gE(e)):e},ps(n)}function MN(){var t=cx(om());return t.copy=function(){return nh(t,MN()).constant(t.constant())},sr.apply(t,arguments)}function yE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oJ(t){return t<0?-t*t:t*t}function hx(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(sJ,oJ):t(yE(n),yE(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ps(e)}function fx(){var t=hx(om());return t.copy=function(){return nh(t,fx()).exponent(t.exponent())},sr.apply(t,arguments),t}function aJ(){return fx.apply(null,arguments).exponent(.5)}function bE(t){return Math.sign(t)*t*t}function lJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RN(){var t=ox(),e=[0,1],n=!1,r;function i(s){var o=lJ(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(bE(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Cd)).map(bE)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return RN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},sr.apply(i,arguments),ps(i)}function IN(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=dY(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[eh(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ji),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return IN().domain(t).range(e).unknown(r)},sr.apply(s,arguments)}function LN(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[eh(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LN().domain([t,e]).range(i).unknown(s)},sr.apply(ps(o),arguments)}function DN(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[eh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return DN().domain(t).range(e).unknown(n)},sr.apply(i,arguments)}const Iv=new Date,Lv=new Date;function Lt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},i.filter=s=>Lt(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(Iv.setTime(+s),Lv.setTime(+o),t(Iv),t(Lv),Math.floor(n(Iv,Lv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const jd=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jd);jd.range;const Jr=1e3,Jn=Jr*60,Qr=Jn*60,di=Qr*24,dx=di*7,wE=di*30,Dv=di*365,zs=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCSeconds());zs.range;const px=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getMinutes());px.range;const mx=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCMinutes());mx.range;const vx=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr-t.getMinutes()*Jn)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getHours());vx.range;const gx=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getUTCHours());gx.range;const rh=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/di,t=>t.getDate()-1);rh.range;const am=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/di,t=>t.getUTCDate()-1);am.range;const zN=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/di,t=>Math.floor(t/di));zN.range;function yo(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/dx)}const lm=yo(0),Ad=yo(1),uJ=yo(2),cJ=yo(3),Aa=yo(4),hJ=yo(5),fJ=yo(6);lm.range;Ad.range;uJ.range;cJ.range;Aa.range;hJ.range;fJ.range;function bo(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dx)}const um=bo(0),Nd=bo(1),dJ=bo(2),pJ=bo(3),Na=bo(4),mJ=bo(5),vJ=bo(6);um.range;Nd.range;dJ.range;pJ.range;Na.range;mJ.range;vJ.range;const yx=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yx.range;const bx=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bx.range;const pi=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pi.range;const mi=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});mi.range;function FN(t,e,n,r,i,s){const o=[[zs,1,Jr],[zs,5,5*Jr],[zs,15,15*Jr],[zs,30,30*Jr],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[i,1,Qr],[i,3,3*Qr],[i,6,6*Qr],[i,12,12*Qr],[r,1,di],[r,2,2*di],[n,1,dx],[e,1,wE],[e,3,3*wE],[t,1,Dv]];function a(u,h,c){const f=h<u;f&&([u,h]=[h,u]);const d=c&&typeof c.range=="function"?c:l(u,h,c),p=d?d.range(u,+h+1):[];return f?p.reverse():p}function l(u,h,c){const f=Math.abs(h-u)/c,d=tx(([,,b])=>b).right(o,f);if(d===o.length)return t.every(l0(u/Dv,h/Dv,c));if(d===0)return jd.every(Math.max(l0(u,h,c),1));const[p,m]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return p.every(m)}return[a,l]}const[gJ,yJ]=FN(mi,bx,um,zN,gx,mx),[bJ,wJ]=FN(pi,yx,lm,rh,vx,px);function zv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xJ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=Bl(i),h=Ul(i),c=Bl(s),f=Ul(s),d=Bl(o),p=Ul(o),m=Bl(a),b=Ul(a),y=Bl(l),v=Ul(l),g={a:B,A:N,b:L,B:F,c:null,d:kE,e:kE,f:VJ,g:eQ,G:nQ,H:BJ,I:UJ,j:WJ,L:BN,m:HJ,M:KJ,p:j,q:I,Q:$E,s:TE,S:qJ,u:GJ,U:ZJ,V:XJ,w:YJ,W:JJ,x:null,X:null,y:QJ,Y:tQ,Z:rQ,"%":CE},O={a:V,A:te,b:ie,B:de,c:null,d:PE,e:PE,f:aQ,g:gQ,G:bQ,H:iQ,I:sQ,j:oQ,L:WN,m:lQ,M:uQ,p:$e,q:ce,Q:$E,s:TE,S:cQ,u:hQ,U:fQ,V:dQ,w:pQ,W:mQ,x:null,X:null,y:vQ,Y:yQ,Z:wQ,"%":CE},x={a:P,A:$,b:T,B:R,c:z,d:OE,e:OE,f:LJ,g:SE,G:_E,H:EE,I:EE,j:NJ,L:IJ,m:AJ,M:MJ,p:k,q:jJ,Q:zJ,s:FJ,S:RJ,u:kJ,U:PJ,V:CJ,w:EJ,W:$J,x:U,X:W,y:SE,Y:_E,Z:TJ,"%":DJ};g.x=E(n,g),g.X=E(r,g),g.c=E(e,g),O.x=E(n,O),O.X=E(r,O),O.c=E(e,O);function E(Z,re){return function(ee){var K=[],be=-1,he=0,ge=Z.length,ae,Re,Se;for(ee instanceof Date||(ee=new Date(+ee));++be<ge;)Z.charCodeAt(be)===37&&(K.push(Z.slice(he,be)),(Re=xE[ae=Z.charAt(++be)])!=null?ae=Z.charAt(++be):Re=ae==="e"?" ":"0",(Se=re[ae])&&(ae=Se(ee,Re)),K.push(ae),he=be+1);return K.push(Z.slice(he,be)),K.join("")}}function _(Z,re){return function(ee){var K=Fl(1900,void 0,1),be=S(K,Z,ee+="",0),he,ge;if(be!=ee.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(re&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(he=Fv(Fl(K.y,0,1)),ge=he.getUTCDay(),he=ge>4||ge===0?Nd.ceil(he):Nd(he),he=am.offset(he,(K.V-1)*7),K.y=he.getUTCFullYear(),K.m=he.getUTCMonth(),K.d=he.getUTCDate()+(K.w+6)%7):(he=zv(Fl(K.y,0,1)),ge=he.getDay(),he=ge>4||ge===0?Ad.ceil(he):Ad(he),he=rh.offset(he,(K.V-1)*7),K.y=he.getFullYear(),K.m=he.getMonth(),K.d=he.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ge="Z"in K?Fv(Fl(K.y,0,1)).getUTCDay():zv(Fl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ge+5)%7:K.w+K.U*7-(ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Fv(K)):zv(K)}}function S(Z,re,ee,K){for(var be=0,he=re.length,ge=ee.length,ae,Re;be<he;){if(K>=ge)return-1;if(ae=re.charCodeAt(be++),ae===37){if(ae=re.charAt(be++),Re=x[ae in xE?re.charAt(be++):ae],!Re||(K=Re(Z,ee,K))<0)return-1}else if(ae!=ee.charCodeAt(K++))return-1}return K}function k(Z,re,ee){var K=u.exec(re.slice(ee));return K?(Z.p=h.get(K[0].toLowerCase()),ee+K[0].length):-1}function P(Z,re,ee){var K=d.exec(re.slice(ee));return K?(Z.w=p.get(K[0].toLowerCase()),ee+K[0].length):-1}function $(Z,re,ee){var K=c.exec(re.slice(ee));return K?(Z.w=f.get(K[0].toLowerCase()),ee+K[0].length):-1}function T(Z,re,ee){var K=y.exec(re.slice(ee));return K?(Z.m=v.get(K[0].toLowerCase()),ee+K[0].length):-1}function R(Z,re,ee){var K=m.exec(re.slice(ee));return K?(Z.m=b.get(K[0].toLowerCase()),ee+K[0].length):-1}function z(Z,re,ee){return S(Z,e,re,ee)}function U(Z,re,ee){return S(Z,n,re,ee)}function W(Z,re,ee){return S(Z,r,re,ee)}function B(Z){return o[Z.getDay()]}function N(Z){return s[Z.getDay()]}function L(Z){return l[Z.getMonth()]}function F(Z){return a[Z.getMonth()]}function j(Z){return i[+(Z.getHours()>=12)]}function I(Z){return 1+~~(Z.getMonth()/3)}function V(Z){return o[Z.getUTCDay()]}function te(Z){return s[Z.getUTCDay()]}function ie(Z){return l[Z.getUTCMonth()]}function de(Z){return a[Z.getUTCMonth()]}function $e(Z){return i[+(Z.getUTCHours()>=12)]}function ce(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var re=E(Z+="",g);return re.toString=function(){return Z},re},parse:function(Z){var re=_(Z+="",!1);return re.toString=function(){return Z},re},utcFormat:function(Z){var re=E(Z+="",O);return re.toString=function(){return Z},re},utcParse:function(Z){var re=_(Z+="",!0);return re.toString=function(){return Z},re}}}var xE={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,_J=/^%/,SJ=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function OJ(t){return t.replace(SJ,"\\$&")}function Bl(t){return new RegExp("^(?:"+t.map(OJ).join("|")+")","i")}function Ul(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function EJ(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kJ(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function PJ(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function CJ(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $J(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _E(t,e,n){var r=Vt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SE(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jJ(t,e,n){var r=Vt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function AJ(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OE(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function NJ(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EE(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function MJ(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function RJ(t,e,n){var r=Vt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function IJ(t,e,n){var r=Vt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function LJ(t,e,n){var r=Vt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DJ(t,e,n){var r=_J.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function zJ(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function FJ(t,e,n){var r=Vt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kE(t,e){return De(t.getDate(),e,2)}function BJ(t,e){return De(t.getHours(),e,2)}function UJ(t,e){return De(t.getHours()%12||12,e,2)}function WJ(t,e){return De(1+rh.count(pi(t),t),e,3)}function BN(t,e){return De(t.getMilliseconds(),e,3)}function VJ(t,e){return BN(t,e)+"000"}function HJ(t,e){return De(t.getMonth()+1,e,2)}function KJ(t,e){return De(t.getMinutes(),e,2)}function qJ(t,e){return De(t.getSeconds(),e,2)}function GJ(t){var e=t.getDay();return e===0?7:e}function ZJ(t,e){return De(lm.count(pi(t)-1,t),e,2)}function UN(t){var e=t.getDay();return e>=4||e===0?Aa(t):Aa.ceil(t)}function XJ(t,e){return t=UN(t),De(Aa.count(pi(t),t)+(pi(t).getDay()===4),e,2)}function YJ(t){return t.getDay()}function JJ(t,e){return De(Ad.count(pi(t)-1,t),e,2)}function QJ(t,e){return De(t.getFullYear()%100,e,2)}function eQ(t,e){return t=UN(t),De(t.getFullYear()%100,e,2)}function tQ(t,e){return De(t.getFullYear()%1e4,e,4)}function nQ(t,e){var n=t.getDay();return t=n>=4||n===0?Aa(t):Aa.ceil(t),De(t.getFullYear()%1e4,e,4)}function rQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function PE(t,e){return De(t.getUTCDate(),e,2)}function iQ(t,e){return De(t.getUTCHours(),e,2)}function sQ(t,e){return De(t.getUTCHours()%12||12,e,2)}function oQ(t,e){return De(1+am.count(mi(t),t),e,3)}function WN(t,e){return De(t.getUTCMilliseconds(),e,3)}function aQ(t,e){return WN(t,e)+"000"}function lQ(t,e){return De(t.getUTCMonth()+1,e,2)}function uQ(t,e){return De(t.getUTCMinutes(),e,2)}function cQ(t,e){return De(t.getUTCSeconds(),e,2)}function hQ(t){var e=t.getUTCDay();return e===0?7:e}function fQ(t,e){return De(um.count(mi(t)-1,t),e,2)}function VN(t){var e=t.getUTCDay();return e>=4||e===0?Na(t):Na.ceil(t)}function dQ(t,e){return t=VN(t),De(Na.count(mi(t),t)+(mi(t).getUTCDay()===4),e,2)}function pQ(t){return t.getUTCDay()}function mQ(t,e){return De(Nd.count(mi(t)-1,t),e,2)}function vQ(t,e){return De(t.getUTCFullYear()%100,e,2)}function gQ(t,e){return t=VN(t),De(t.getUTCFullYear()%100,e,2)}function yQ(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function bQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Na(t):Na.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function wQ(){return"+0000"}function CE(){return"%"}function $E(t){return+t}function TE(t){return Math.floor(+t/1e3)}var Ro,HN,KN;xQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xQ(t){return Ro=xJ(t),HN=Ro.format,Ro.parse,KN=Ro.utcFormat,Ro.utcParse,Ro}function _Q(t){return new Date(t)}function SQ(t){return t instanceof Date?+t:+new Date(+t)}function wx(t,e,n,r,i,s,o,a,l,u){var h=ox(),c=h.invert,f=h.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),v=u("%b %d"),g=u("%B"),O=u("%Y");function x(E){return(l(E)<E?d:a(E)<E?p:o(E)<E?m:s(E)<E?b:r(E)<E?i(E)<E?y:v:n(E)<E?g:O)(E)}return h.invert=function(E){return new Date(c(E))},h.domain=function(E){return arguments.length?f(Array.from(E,SQ)):f().map(_Q)},h.ticks=function(E){var _=f();return t(_[0],_[_.length-1],E??10)},h.tickFormat=function(E,_){return _==null?x:u(_)},h.nice=function(E){var _=f();return(!E||typeof E.range!="function")&&(E=e(_[0],_[_.length-1],E??10)),E?f(AN(_,E)):h},h.copy=function(){return nh(h,wx(t,e,n,r,i,s,o,a,l,u))},h}function OQ(){return sr.apply(wx(bJ,wJ,pi,yx,lm,rh,vx,px,zs,HN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EQ(){return sr.apply(wx(gJ,yJ,mi,bx,um,am,gx,mx,zs,KN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cm(){var t=0,e=1,n,r,i,s,o=fn,a=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(s(c)-n)*i,a?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(a=!!c,u):a},u.interpolator=function(c){return arguments.length?(o=c,u):o};function h(c){return function(f){var d,p;return arguments.length?([d,p]=f,o=c(d,p),u):[o(0),o(1)]}}return u.range=h(pl),u.rangeRound=h(sx),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return s=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qN(){var t=ps(cm()(fn));return t.copy=function(){return ms(t,qN())},_i.apply(t,arguments)}function GN(){var t=ux(cm()).domain([1,10]);return t.copy=function(){return ms(t,GN()).base(t.base())},_i.apply(t,arguments)}function ZN(){var t=cx(cm());return t.copy=function(){return ms(t,ZN()).constant(t.constant())},_i.apply(t,arguments)}function xx(){var t=hx(cm());return t.copy=function(){return ms(t,xx()).exponent(t.exponent())},_i.apply(t,arguments)}function kQ(){return xx.apply(null,arguments).exponent(.5)}function XN(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ji),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>fY(t,s/r))},n.copy=function(){return XN(e).domain(t)},_i.apply(n,arguments)}function hm(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,u=fn,h,c=!1,f;function d(m){return isNaN(m=+m)?f:(m=.5+((m=+h(m))-s)*(r*m<r*s?a:l),u(c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e,n]=m,i=h(t=+t),s=h(e=+e),o=h(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d):[t,e,n]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(u=m,d):u};function p(m){return function(b){var y,v,g;return arguments.length?([y,v,g]=b,u=DY(m,[y,v,g]),d):[u(0),u(.5),u(1)]}}return d.range=p(pl),d.rangeRound=p(sx),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return h=m,i=m(t),s=m(e),o=m(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function YN(){var t=ps(hm()(fn));return t.copy=function(){return ms(t,YN())},_i.apply(t,arguments)}function JN(){var t=ux(hm()).domain([.1,1,10]);return t.copy=function(){return ms(t,JN()).base(t.base())},_i.apply(t,arguments)}function QN(){var t=cx(hm());return t.copy=function(){return ms(t,QN()).constant(t.constant())},_i.apply(t,arguments)}function _x(){var t=hx(hm());return t.copy=function(){return ms(t,_x()).exponent(t.exponent())},_i.apply(t,arguments)}function PQ(){return _x.apply(null,arguments).exponent(.5)}const jE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ic,scaleDiverging:YN,scaleDivergingLog:JN,scaleDivergingPow:_x,scaleDivergingSqrt:PQ,scaleDivergingSymlog:QN,scaleIdentity:jN,scaleImplicit:u0,scaleLinear:Td,scaleLog:NN,scaleOrdinal:nx,scalePoint:gu,scalePow:fx,scaleQuantile:IN,scaleQuantize:LN,scaleRadial:RN,scaleSequential:qN,scaleSequentialLog:GN,scaleSequentialPow:xx,scaleSequentialQuantile:XN,scaleSequentialSqrt:kQ,scaleSequentialSymlog:ZN,scaleSqrt:aJ,scaleSymlog:MN,scaleThreshold:DN,scaleTime:OQ,scaleUtc:EQ,tickFormat:TN},Symbol.toStringTag,{value:"Module"}));var CQ=il;function $Q(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!CQ(o):n(o,a)))var a=o,l=s}return l}var eM=$Q;function TQ(t,e){return t>e}var jQ=TQ,AQ=eM,NQ=jQ,MQ=fl;function RQ(t){return t&&t.length?AQ(t,MQ,NQ):void 0}var IQ=RQ;const Ui=We(IQ);function LQ(t,e){return t<e}var DQ=LQ,zQ=eM,FQ=DQ,BQ=fl;function UQ(t){return t&&t.length?zQ(t,BQ,FQ):void 0}var WQ=UQ;const fm=We(WQ);var VQ=Iw,HQ=ds,KQ=lN,qQ=Cn;function GQ(t,e){var n=qQ(t)?VQ:KQ;return n(t,HQ(e))}var ZQ=GQ,XQ=oN,YQ=ZQ;function JQ(t,e){return XQ(YQ(t,e),1)}var QQ=JQ;const eee=We(QQ);var tee=Yw;function nee(t,e){return tee(t,e)}var ree=nee;const uc=We(ree);var ml=1e9,iee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ox,at=!0,rr="[DecimalError] ",Ks=rr+"Invalid argument: ",Sx=rr+"Exponent out of range: ",vl=Math.floor,$s=Math.pow,see=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Bt=1e7,nt=7,tM=9007199254740991,Md=vl(tM/nt),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return li(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return qe(li(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return Ct(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rn))throw Error(rr+"NaN");if(n.s<1)throw Error(rr+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(at=!1,e=li(cc(n,s),cc(t,s),s),at=!0,qe(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iM(e,t):nM(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(rr+"NaN");return n.s?(at=!1,e=li(n,t,0,1).times(t),at=!0,n.minus(e)):qe(new r(n),i)};oe.naturalExponential=oe.exp=function(){return rM(this)};oe.naturalLogarithm=oe.ln=function(){return cc(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nM(e,t):iM(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ks+t);if(e=Ct(i)+1,r=i.d.length-1,n=r*nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(rr+"NaN")}for(t=Ct(a),at=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Mr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(li(a,s,o+2)).times(.5),Mr(s.d).slice(0,o)===(e=Mr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(qe(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return at=!0,qe(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,s,o,a,l,u,h=this,c=h.constructor,f=h.d,d=(t=new c(t)).d;if(!h.s||!t.s)return new c(0);for(t.s*=h.s,n=h.e+t.e,l=f.length,u=d.length,l<u&&(s=f,f=d,d=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+d[r]*f[i-r-1]+e,s[i--]=a%Bt|0,e=a/Bt|0;s[i]=(s[i]+e)%Bt|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,at?qe(t,c.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Br(t,0,ml),e===void 0?e=r.rounding:Br(e,0,8),qe(n,t+Ct(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=io(r,!0):(Br(t,0,ml),e===void 0?e=i.rounding:Br(e,0,8),r=qe(new i(r),t+1,e),n=io(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?io(i):(Br(t,0,ml),e===void 0?e=s.rounding:Br(e,0,8),r=qe(new s(i),t+Ct(i)+1,e),n=io(r.abs(),!1,t+Ct(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return qe(new e(t),Ct(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,u=12,h=+(t=new l(t));if(!t.s)return new l(Rn);if(a=new l(a),!a.s){if(t.s<1)throw Error(rr+"Infinity");return a}if(a.eq(Rn))return a;if(r=l.precision,t.eq(Rn))return qe(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=h<0?-h:h)<=tM){for(i=new l(Rn),e=Math.ceil(r/nt+4),at=!1;n%2&&(i=i.times(a),NE(i.d,e)),n=vl(n/2),n!==0;)a=a.times(a),NE(a.d,e);return at=!0,t.s<0?new l(Rn).div(i):qe(i,r)}}else if(s<0)throw Error(rr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,at=!1,i=t.times(cc(a,r+u)),at=!0,i=rM(i),i.s=s,i};oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ct(i),r=io(i,n<=s.toExpNeg||n>=s.toExpPos)):(Br(t,1,ml),e===void 0?e=s.rounding:Br(e,0,8),i=qe(new s(i),t,e),n=Ct(i),r=io(i,t<=n||n<=s.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Br(t,1,ml),e===void 0?e=r.rounding:Br(e,0,8)),qe(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),n=t.constructor;return io(t,e<=n.toExpNeg||e>=n.toExpPos)};function nM(t,e){var n,r,i,s,o,a,l,u,h=t.constructor,c=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),at?qe(e,c):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,i=o,a=l.length),o=Math.ceil(c/nt),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Bt|0,l[s]%=Bt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,at?qe(e,c):e}function Br(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ks+t)}function Mr(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=nt-r.length,n&&(s+=ji(n)),s+=r;o=t[e],r=o+"",n=nt-r.length,n&&(s+=ji(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var li=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Bt|0,o=s/Bt|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Bt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,u,h,c,f,d,p,m,b,y,v,g,O,x,E,_,S,k=r.constructor,P=r.s==i.s?1:-1,$=r.d,T=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(rr+"Division by zero");for(l=r.e-i.e,_=T.length,x=$.length,d=new k(P),p=d.d=[],u=0;T[u]==($[u]||0);)++u;if(T[u]>($[u]||0)&&--l,s==null?v=s=k.precision:o?v=s+(Ct(r)-Ct(i))+1:v=s,v<0)return new k(0);if(v=v/nt+2|0,u=0,_==1)for(h=0,T=T[0],v++;(u<x||h)&&v--;u++)g=h*Bt+($[u]||0),p[u]=g/T|0,h=g%T|0;else{for(h=Bt/(T[0]+1)|0,h>1&&(T=t(T,h),$=t($,h),_=T.length,x=$.length),O=_,m=$.slice(0,_),b=m.length;b<_;)m[b++]=0;S=T.slice(),S.unshift(0),E=T[0],T[1]>=Bt/2&&++E;do h=0,a=e(T,m,_,b),a<0?(y=m[0],_!=b&&(y=y*Bt+(m[1]||0)),h=y/E|0,h>1?(h>=Bt&&(h=Bt-1),c=t(T,h),f=c.length,b=m.length,a=e(c,m,f,b),a==1&&(h--,n(c,_<f?S:T,f))):(h==0&&(a=h=1),c=T.slice()),f=c.length,f<b&&c.unshift(0),n(m,c,b),a==-1&&(b=m.length,a=e(T,m,_,b),a<1&&(h++,n(m,_<b?S:T,b))),b=m.length):a===0&&(h++,m=[0]),p[u++]=h,a&&m[0]?m[b++]=$[O]||0:(m=[$[O]],b=1);while((O++<x||m[0]!==void 0)&&v--)}return p[0]||p.shift(),d.e=l,qe(d,o?s+Ct(d)+1:s)}}();function rM(t,e){var n,r,i,s,o,a,l=0,u=0,h=t.constructor,c=h.precision;if(Ct(t)>16)throw Error(Sx+Ct(t));if(!t.s)return new h(Rn);for(at=!1,a=c,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log($s(2,u))/Math.LN10*2+5|0,a+=r,n=i=s=new h(Rn),h.precision=a;;){if(i=qe(i.times(t),a),n=n.times(++l),o=s.plus(li(i,n,a)),Mr(o.d).slice(0,a)===Mr(s.d).slice(0,a)){for(;u--;)s=qe(s.times(s),a);return h.precision=c,e==null?(at=!0,qe(s,c)):s}s=o}}function Ct(t){for(var e=t.e*nt,n=t.d[0];n>=10;n/=10)e++;return e}function Bv(t,e,n){if(e>t.LN10.sd())throw at=!0,n&&(t.precision=n),Error(rr+"LN10 precision limit exceeded");return qe(new t(t.LN10),e)}function ji(t){for(var e="";t--;)e+="0";return e}function cc(t,e){var n,r,i,s,o,a,l,u,h,c=1,f=10,d=t,p=d.d,m=d.constructor,b=m.precision;if(d.s<1)throw Error(rr+(d.s?"NaN":"-Infinity"));if(d.eq(Rn))return new m(0);if(e==null?(at=!1,u=b):u=e,d.eq(10))return e==null&&(at=!0),Bv(m,u);if(u+=f,m.precision=u,n=Mr(p),r=n.charAt(0),s=Ct(d),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Mr(d.d),r=n.charAt(0),c++;s=Ct(d),r>1?(d=new m("0."+n),s++):d=new m(r+"."+n.slice(1))}else return l=Bv(m,u+2,b).times(s+""),d=cc(new m(r+"."+n.slice(1)),u-f).plus(l),m.precision=b,e==null?(at=!0,qe(d,b)):d;for(a=o=d=li(d.minus(Rn),d.plus(Rn),u),h=qe(d.times(d),u),i=3;;){if(o=qe(o.times(h),u),l=a.plus(li(o,new m(i),u)),Mr(l.d).slice(0,u)===Mr(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(Bv(m,u+2,b).times(s+""))),a=li(a,new m(c),u),m.precision=b,e==null?(at=!0,qe(a,b)):a;a=l,i+=2}}function AE(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vl(n/nt),t.d=[],r=(n+1)%nt,n<0&&(r+=nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nt;r<i;)t.d.push(+e.slice(r,r+=nt));e=e.slice(r),r=nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),at&&(t.e>Md||t.e<-Md))throw Error(Sx+n)}else t.s=0,t.e=0,t.d=[0];return t}function qe(t,e,n){var r,i,s,o,a,l,u,h,c=t.d;for(o=1,s=c[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=nt,i=e,u=c[h=0];else{if(h=Math.ceil((r+1)/nt),s=c.length,h>=s)return t;for(u=s=c[h],o=1;s>=10;s/=10)o++;r%=nt,i=r-nt+o}if(n!==void 0&&(s=$s(10,o-i-1),a=u/s%10|0,l=e<0||c[h+1]!==void 0||u%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/$s(10,o-i):0:c[h-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(s=Ct(t),c.length=1,e=e-s-1,c[0]=$s(10,(nt-e%nt)%nt),t.e=vl(-e/nt)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=h,s=1,h--):(c.length=h+1,s=$s(10,nt-r),c[h]=i>0?(u/$s(10,o-i)%$s(10,i)|0)*s:0),l)for(;;)if(h==0){(c[0]+=s)==Bt&&(c[0]=1,++t.e);break}else{if(c[h]+=s,c[h]!=Bt)break;c[h--]=0,s=1}for(r=c.length;c[--r]===0;)c.pop();if(at&&(t.e>Md||t.e<-Md))throw Error(Sx+Ct(t));return t}function iM(t,e){var n,r,i,s,o,a,l,u,h,c,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),at?qe(e,d):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(h=o<0,h?(n=l,o=-o,a=c.length):(n=c,r=u,a=l.length),i=Math.max(Math.ceil(d/nt),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=c.length,h=i<a,h&&(a=i),i=0;i<a;i++)if(l[i]!=c[i]){h=l[i]<c[i];break}o=0}for(h&&(n=l,l=c,c=n,e.s=-e.s),a=l.length,i=c.length-a;i>0;--i)l[a++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(s=i;s&&l[--s]===0;)l[s]=Bt-1;--l[s],l[i]+=Bt}l[i]-=c[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,at?qe(e,d):e):new f(0)}function io(t,e,n){var r,i=Ct(t),s=Mr(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ji(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ji(-i-1)+s,n&&(r=n-o)>0&&(s+=ji(r))):i>=o?(s+=ji(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ji(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ji(r))),t.s<0?"-"+s:s}function NE(t,e){if(t.length>e)return t.length=e,!0}function sM(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ks+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return AE(o,s.toString())}else if(typeof s!="string")throw Error(Ks+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,see.test(s))AE(o,s);else throw Error(Ks+s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=sM,i.config=i.set=oee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function oee(t){if(!t||typeof t!="object")throw Error(rr+"Object expected");var e,n,r,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ks+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ks+n+": "+r);return this}var Ox=sM(iee);Rn=new Ox(1);const He=Ox;function aee(t){return hee(t)||cee(t)||uee(t)||lee()}function lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(t,e){if(t){if(typeof t=="string")return d0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d0(t,e)}}function cee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hee(t){if(Array.isArray(t))return d0(t)}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fee=function(e){return e},oM={},aM=function(e){return e===oM},ME=function(e){return function n(){return arguments.length===0||arguments.length===1&&aM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dee=function t(e,n){return e===1?n:ME(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==oM}).length;return o>=e?n.apply(void 0,i):t(e-o,ME(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var h=i.map(function(c){return aM(c)?l.shift():c});return n.apply(void 0,aee(h).concat(l))}))})},dm=function(e){return dee(e.length,e)},p0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},pee=dm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),mee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fee;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},m0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function vee(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function gee(t,e,n){for(var r=new He(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var yee=dm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),bee=dm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),wee=dm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const pm={rangeStep:gee,getDigitCount:vee,interpolateNumber:yee,uninterpolateNumber:bee,uninterpolateTruncation:wee};function v0(t){return See(t)||_ee(t)||uM(t)||xee()}function xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function See(t){if(Array.isArray(t))return g0(t)}function hc(t,e){return kee(t)||Eee(t,e)||uM(t,e)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uM(t,e){if(t){if(typeof t=="string")return g0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g0(t,e)}}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function kee(t){if(Array.isArray(t))return t}function cM(t){var e=hc(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function hM(t,e,n){if(t.lte(0))return new He(0);var r=pm.getDigitCount(t.toNumber()),i=new He(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new He(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new He(Math.ceil(l))}function Pee(t,e,n){var r=1,i=new He(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new He(10).pow(pm.getDigitCount(t)-1),i=new He(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):n||(i=new He(Math.floor(t)));var o=Math.floor((e-1)/2),a=mee(pee(function(l){return i.add(new He(l-o).mul(r)).toNumber()}),p0);return a(0,e)}function fM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var s=hM(new He(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new He(0):(o=new He(t).add(e).div(2),o=o.sub(new He(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new He(e).sub(o).div(s).toNumber()),u=a+l+1;return u>n?fM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:s,tickMin:o.sub(new He(a).mul(s)),tickMax:o.add(new He(l).mul(s))})}function Cee(t){var e=hc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=cM([n,r]),l=hc(a,2),u=l[0],h=l[1];if(u===-1/0||h===1/0){var c=h===1/0?[u].concat(v0(p0(0,i-1).map(function(){return 1/0}))):[].concat(v0(p0(0,i-1).map(function(){return-1/0})),[h]);return n>r?m0(c):c}if(u===h)return Pee(u,i,s);var f=fM(u,h,o,s),d=f.step,p=f.tickMin,m=f.tickMax,b=pm.rangeStep(p,m.add(new He(.1).mul(d)),d);return n>r?m0(b):b}function $ee(t,e){var n=hc(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cM([r,i]),a=hc(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(e,2),c=hM(new He(u).sub(l).div(h-1),s,0),f=[].concat(v0(pm.rangeStep(new He(l),new He(u).sub(new He(.99).mul(c)),c)),[u]);return r>i?m0(f):f}var Tee=lM(Cee),jee=lM($ee),Aee="Invariant failed";function so(t,e){throw new Error(Aee)}var Nee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(this,arguments)}function Mee(t,e){return Dee(t)||Lee(t,e)||Iee(t,e)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Dee(t){if(Array.isArray(t))return t}function zee(t,e){if(t==null)return{};var n=Fee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mM(r.key),r)}}function Wee(t,e,n){return e&&Uee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vee(t,e,n){return e=Id(e),Hee(t,dM()?Reflect.construct(e,n||[],Id(t).constructor):e.apply(t,n))}function Hee(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kee(t)}function Kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Id(t)}function qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y0(t,e)}function y0(t,e){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y0(t,e)}function pM(t,e,n){return e=mM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mM(t){var e=Gee(t,"string");return Ma(e)=="symbol"?e:e+""}function Gee(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mm=function(t){function e(){return Bee(this,e),Vee(this,e,arguments)}return qee(e,t),Wee(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,h=r.xAxis,c=r.yAxis,f=zee(r,Nee),d=Pe(f,!1);this.props.direction==="x"&&h.type!=="number"&&so();var p=l.map(function(m){var b=u(m,a),y=b.x,v=b.y,g=b.value,O=b.errorVal;if(!O)return null;var x=[],E,_;if(Array.isArray(O)){var S=Mee(O,2);E=S[0],_=S[1]}else E=_=O;if(s==="vertical"){var k=h.scale,P=v+i,$=P+o,T=P-o,R=k(g-E),z=k(g+_);x.push({x1:z,y1:$,x2:z,y2:T}),x.push({x1:R,y1:P,x2:z,y2:P}),x.push({x1:R,y1:$,x2:R,y2:T})}else if(s==="horizontal"){var U=c.scale,W=y+i,B=W-o,N=W+o,L=U(g-E),F=U(g+_);x.push({x1:B,y1:F,x2:N,y2:F}),x.push({x1:W,y1:L,x2:W,y2:F}),x.push({x1:B,y1:L,x2:N,y2:L})}return M.createElement(ct,Rd({className:"recharts-errorBar",key:"bar-".concat(x.map(function(j){return"".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))},d),x.map(function(j){return M.createElement("line",Rd({},j,{key:"line-".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))}))});return M.createElement(ct,{className:"recharts-errorBars"},p)}}])}(M.Component);pM(mm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pM(mm,"displayName","ErrorBar");function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=Yee(t,"string");return fc(e)=="symbol"?e:e+""}function Yee(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Nn(n,ai);if(!o)return null;var a=ai.defaultProps,l=a!==void 0?xs(xs({},a),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(h,c){var f=c.item,d=c.props,p=d.sectors||d.data||[];return h.concat(p.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(h){var c=h.item,f=c.type.defaultProps,d=f!==void 0?xs(xs({},f),c.props):{},p=d.dataKey,m=d.name,b=d.legendType,y=d.hide;return{inactive:y,dataKey:p,type:l.iconType||b||"square",color:Ex(c),value:m||p,payload:d}}),xs(xs(xs({},l),ai.getWithHeight(o,i)),{},{payload:u,item:o})};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function LE(t){return tte(t)||ete(t)||Qee(t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t,e){if(t){if(typeof t=="string")return b0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b0(t,e)}}function ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tte(t){if(Array.isArray(t))return b0(t)}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(n),!0).forEach(function(r){ma(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ma(t,e,n){return e=nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=rte(t,"string");return dc(e)=="symbol"?e:e+""}function rte(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zn(t,e,n){return je(t)||je(e)?n:It(e)?er(t,e,n):Ee(e)?e(t):n}function yu(t,e,n,r){var i=eee(t,function(a){return zn(a,e)});if(n==="number"){var s=i.filter(function(a){return Q(a)||parseFloat(a)});return s.length?[fm(s),Ui(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!je(a)}):i;return o.map(function(a){return It(a)||a instanceof Date?a:""})}var ite=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var h=u>0?i[u-1].coordinate:i[a-1].coordinate,c=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,d=void 0;if(wr(c-h)!==wr(f-c)){var p=[];if(wr(f-c)===wr(l[1]-l[0])){d=f;var m=c+l[1]-l[0];p[0]=Math.min(m,(m+h)/2),p[1]=Math.max(m,(m+h)/2)}else{d=h;var b=f+l[1]-l[0];p[0]=Math.min(c,(b+c)/2),p[1]=Math.max(c,(b+c)/2)}var y=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){o=i[u].index;break}}else{var v=Math.min(h,f),g=Math.max(h,f);if(e>(v+c)/2&&e<=(g+c)/2){o=i[u].index;break}}}else for(var O=0;O<a;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<a-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===a-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},Ex=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},ste=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var h=s[a[l]].stackGroups,c=Object.keys(h),f=0,d=c.length;f<d;f++){var p=h[c[f]],m=p.items,b=p.cateAxisId,y=m.filter(function(_){return si(_.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,g=v!==void 0?gt(gt({},v),y[0].props):y[0].props,O=g.barSize,x=g[b];o[x]||(o[x]=[]);var E=je(O)?n:O;o[x].push({item:y[0],stackList:y.slice(1),barSize:je(E)?void 0:ro(E,r,0)})}}return o},ote=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=ro(n,i,0,!0),h,c=[];if(o[0].barSize===+o[0].barSize){var f=!1,d=i/l,p=o.reduce(function(O,x){return O+x.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&d>0&&(f=!0,d*=.9,p=l*d);var m=(i-p)/2>>0,b={offset:m-u,size:0};h=o.reduce(function(O,x){var E={item:x.item,position:{offset:b.offset+b.size+u,size:f?d:x.barSize}},_=[].concat(LE(O),[E]);return b=_[_.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){_.push({item:S,position:b})}),_},c)}else{var y=ro(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var v=(i-2*y-(l-1)*u)/l;v>1&&(v>>=0);var g=a===+a?Math.min(v,a):v;h=o.reduce(function(O,x,E){var _=[].concat(LE(O),[{item:x.item,position:{offset:y+(v+u)*E+(v-g)/2,size:g}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(S){_.push({item:S,position:_[_.length-1].position})}),_},c)}return h},ate=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=vM({children:s,legendWidth:l});if(u){var h=i||{},c=h.width,f=h.height,d=u.align,p=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&d!=="center"&&Q(e[d]))return gt(gt({},e),{},ma({},d,e[d]+(c||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&p!=="middle"&&Q(e[p]))return gt(gt({},e),{},ma({},p,e[p]+(f||0)))}return e},lte=function(e,n,r){return je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},gM=function(e,n,r,i,s){var o=n.props.children,a=Sr(o,mm).filter(function(u){return lte(i,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var c=zn(h,r);if(je(c))return u;var f=Array.isArray(c)?[fm(c),Ui(c)]:[c,c],d=l.reduce(function(p,m){var b=zn(h,m,0),y=f[0]-Math.abs(Array.isArray(b)?b[0]:b),v=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,p[0]),Math.max(v,p[1])]},[1/0,-1/0]);return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0])}return null},ute=function(e,n,r,i,s){var o=n.map(function(a){return gM(e,a,r,s,i)}).filter(function(a){return!je(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},yM=function(e,n,r,i,s){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&gM(e,l,u,i)||yu(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var h=0,c=u.length;h<c;h++)a[u[h]]||(a[u[h]]=!0,l.push(u[h]));return l},[])},bM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},ei=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?wr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(c){var f=s?s.indexOf(c):c;return{coordinate:i(f)+u,value:c,offset:u}});return h.filter(function(c){return!ul(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,f){return{coordinate:i(c)+u,value:c,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,f){return{coordinate:i(c)+u,value:s?s[c]:c,index:f,offset:u}})},Uv=new WeakMap,Vh=function(e,n){if(typeof n!="function")return e;Uv.has(e)||Uv.set(e,new WeakMap);var r=Uv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},cte=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:ic(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:Td(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:gu(),realScaleType:"point"}:s==="category"?{scale:ic(),realScaleType:"band"}:{scale:Td(),realScaleType:"linear"};if(no(i)){var l="scale".concat(Qp(i));return{scale:(jE[l]||gu)(),realScaleType:jE[l]?l:"point"}}return Ee(i)?{scale:i}:{scale:gu(),realScaleType:"point"}},zE=1e-4,hte=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-zE,o=Math.max(i[0],i[1])+zE,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},fte=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dte=function(e,n){if(!n||n.length!==2||!Q(n[0])||!Q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Q(e[0])||e[0]<r)&&(s[0]=r),(!Q(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},pte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=ul(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},mte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=ul(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},vte={sign:pte,expand:j5,none:ka,silhouette:A5,wiggle:N5,positive:mte},gte=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=vte[r],o=T5().keys(i).value(function(a,l){return+zn(a,l,0)}).order(Vy).offset(s);return o(e)},yte=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},u=a.reduce(function(c,f){var d,p=(d=f.type)!==null&&d!==void 0&&d.defaultProps?gt(gt({},f.type.defaultProps),f.props):f.props,m=p.stackId,b=p.hide;if(b)return c;var y=p[r],v=c[y]||{hasStack:!1,stackGroups:{}};if(It(m)){var g=v.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};g.items.push(f),v.hasStack=!0,v.stackGroups[m]=g}else v.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return gt(gt({},c),{},ma({},y,v))},l),h={};return Object.keys(u).reduce(function(c,f){var d=u[f];if(d.hasStack){var p={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,b){var y=d.stackGroups[b];return gt(gt({},m),{},ma({},b,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:gte(e,y.items,s)}))},p)}return gt(gt({},c),{},ma({},f,d))},h)},bte=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=Tee(u,s,a);return e.domain([fm(h),Ui(h)]),{niceTicks:h}}if(s&&i==="number"){var c=e.domain(),f=jee(c,s,a);return{niceTicks:f}}return null};function FE(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!je(i[e.dataKey])){var a=ad(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=zn(i,je(o)?e.dataKey:o);return je(l)?null:e.scale(l)}var BE=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=zn(o,n.dataKey,n.domain[a]);return je(l)?null:n.scale(l)-s/2+i},wte=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},xte=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(It(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},_te=function(e){return e.reduce(function(n,r){return[fm(r.concat([n[0]]).filter(Q)),Ui(r.concat([n[1]]).filter(Q))]},[1/0,-1/0])},xM=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,h){var c=_te(h.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w0=function(e,n,r){if(Ee(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(UE.test(e[0])){var s=+UE.exec(e[0])[1];i[0]=n[0]-s}else Ee(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(WE.test(e[1])){var o=+WE.exec(e[1])[1];i[1]=n[1]+o}else Ee(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ld=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=Qw(n,function(c){return c.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],h=s[a-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},VE=function(e,n,r){return!e||!e.length||uc(e,er(r,"type.defaultProps.domain"))?n:e},_M=function(e,n){var r=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,h=r.hide;return gt(gt({},Pe(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:Ex(e),value:zn(n,i),type:l,payload:n,chartType:u,hide:h})};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Ete(t,"string");return pc(e)=="symbol"?e:e+""}function Ete(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dd=Math.PI/180,kte=function(e){return e*180/Math.PI},Xt=function(e,n,r,i){return{x:e+Math.cos(-Dd*i)*r,y:n+Math.sin(-Dd*i)*r}},Pte=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},Cte=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=Pte({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:a,angle:kte(u),angleInRadian:u}},$te=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Tte=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},qE=function(e,n){var r=e.x,i=e.y,s=Cte({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var h=$te(n),c=h.startAngle,f=h.endAngle,d=a,p;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;p=d>=f&&d<=c}return p?KE(KE({},n),{},{radius:o,angle:Tte(d,n)}):null};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}var jte=["offset"];function Ate(t){return Ite(t)||Rte(t)||Mte(t)||Nte()}function Nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mte(t,e){if(t){if(typeof t=="string")return x0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x0(t,e)}}function Rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lte(t,e){if(t==null)return{};var n=Dte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return e=Fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Bte(t,"string");return mc(e)=="symbol"?e:e+""}function Bte(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}var Ute=function(e){var n=e.value,r=e.formatter,i=je(e.children)?n:e.children;return Ee(r)?r(i):i},Wte=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Vte=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,h=l.cy,c=l.innerRadius,f=l.outerRadius,d=l.startAngle,p=l.endAngle,m=l.clockWise,b=(c+f)/2,y=Wte(d,p),v=y>=0?1:-1,g,O;i==="insideStart"?(g=d+v*o,O=m):i==="insideEnd"?(g=p-v*o,O=!m):i==="end"&&(g=p+v*o,O=m),O=y<=0?O:!O;var x=Xt(u,h,b,g),E=Xt(u,h,b,g+(O?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(E.x,",").concat(E.y),S=je(e.id)?Jc("recharts-radial-line-"):e.id;return M.createElement("text",vc({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:S,d:_})),M.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Hte=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,h=s.startAngle,c=s.endAngle,f=(h+c)/2;if(i==="outside"){var d=Xt(o,a,u+r,f),p=d.x,m=d.y;return{x:p,y:m,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,y=Xt(o,a,b,f),v=y.x,g=y.y;return{x:v,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Kte=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,u=o.width,h=o.height,c=h>=0?1:-1,f=c*i,d=c>0?"end":"start",p=c>0?"start":"end",m=u>=0?1:-1,b=m*i,y=m>0?"end":"start",v=m>0?"start":"end";if(s==="top"){var g={x:a+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:d};return At(At({},g),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var O={x:a+u/2,y:l+h+f,textAnchor:"middle",verticalAnchor:p};return At(At({},O),r?{height:Math.max(r.y+r.height-(l+h),0),width:u}:{})}if(s==="left"){var x={x:a-b,y:l+h/2,textAnchor:y,verticalAnchor:"middle"};return At(At({},x),r?{width:Math.max(x.x-r.x,0),height:h}:{})}if(s==="right"){var E={x:a+u+b,y:l+h/2,textAnchor:v,verticalAnchor:"middle"};return At(At({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var _=r?{width:u,height:h}:{};return s==="insideLeft"?At({x:a+b,y:l+h/2,textAnchor:v,verticalAnchor:"middle"},_):s==="insideRight"?At({x:a+u-b,y:l+h/2,textAnchor:y,verticalAnchor:"middle"},_):s==="insideTop"?At({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:p},_):s==="insideBottom"?At({x:a+u/2,y:l+h-f,textAnchor:"middle",verticalAnchor:d},_):s==="insideTopLeft"?At({x:a+b,y:l+f,textAnchor:v,verticalAnchor:p},_):s==="insideTopRight"?At({x:a+u-b,y:l+f,textAnchor:y,verticalAnchor:p},_):s==="insideBottomLeft"?At({x:a+b,y:l+h-f,textAnchor:v,verticalAnchor:d},_):s==="insideBottomRight"?At({x:a+u-b,y:l+h-f,textAnchor:y,verticalAnchor:d},_):sl(s)&&(Q(s.x)||Ls(s.x))&&(Q(s.y)||Ls(s.y))?At({x:a+ro(s.x,u),y:l+ro(s.y,h),textAnchor:"end",verticalAnchor:"end"},_):At({x:a+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},_)},qte=function(e){return"cx"in e&&Q(e.cx)};function an(t){var e=t.offset,n=e===void 0?5:e,r=Lte(t,jte),i=At({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,u=i.content,h=i.className,c=h===void 0?"":h,f=i.textBreakAll;if(!s||je(a)&&je(l)&&!C.isValidElement(u)&&!Ee(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var d;if(Ee(u)){if(d=C.createElement(u,i),C.isValidElement(d))return d}else d=Ute(i);var p=qte(s),m=Pe(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Vte(i,d,m);var b=p?Hte(i):Kte(i);return M.createElement(Sd,vc({className:Me("recharts-label",c)},m,b,{breakAll:f}),d)}an.displayName="Label";var SM=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,h=e.outerRadius,c=e.x,f=e.y,d=e.top,p=e.left,m=e.width,b=e.height,y=e.clockWise,v=e.labelViewBox;if(v)return v;if(Q(m)&&Q(b)){if(Q(c)&&Q(f))return{x:c,y:f,width:m,height:b};if(Q(d)&&Q(p))return{x:d,y:p,width:m,height:b}}return Q(c)&&Q(f)?{x:c,y:f,width:0,height:0}:Q(n)&&Q(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:h||l||a||0,clockWise:y}:e.viewBox?e.viewBox:{}},Gte=function(e,n){return e?e===!0?M.createElement(an,{key:"label-implicit",viewBox:n}):It(e)?M.createElement(an,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===an?C.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(an,{key:"label-implicit",content:e,viewBox:n}):Ee(e)?M.createElement(an,{key:"label-implicit",content:e,viewBox:n}):sl(e)?M.createElement(an,vc({viewBox:n},e,{key:"label-implicit"})):null:null},Zte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=SM(e),o=Sr(i,an).map(function(l,u){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var a=Gte(e.label,n||s);return[a].concat(Ate(o))};an.parseViewBox=SM;an.renderCallByParent=Zte;function Xte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Yte=Xte;const Jte=We(Yte);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}var Qte=["valueAccessor"],ene=["data","dataKey","clockWise","id","textBreakAll"];function tne(t){return sne(t)||ine(t)||rne(t)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(t,e){if(t){if(typeof t=="string")return _0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _0(t,e)}}function ine(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sne(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return e=ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t){var e=lne(t,"string");return gc(e)=="symbol"?e:e+""}function lne(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YE(t,e){if(t==null)return{};var n=une(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function une(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cne=function(e){return Array.isArray(e.value)?Jte(e.value):e.value};function Qi(t){var e=t.valueAccessor,n=e===void 0?cne:e,r=YE(t,Qte),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=YE(r,ene);return!i||!i.length?null:M.createElement(ct,{className:"recharts-label-list"},i.map(function(h,c){var f=je(s)?n(h,c):zn(h&&h.payload,s),d=je(a)?{}:{id:"".concat(a,"-").concat(c)};return M.createElement(an,zd({},Pe(h,!0),u,d,{parentViewBox:h.parentViewBox,value:f,textBreakAll:l,viewBox:an.parseViewBox(je(o)?h:XE(XE({},h),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}Qi.displayName="LabelList";function hne(t,e){return t?t===!0?M.createElement(Qi,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Ee(t)?M.createElement(Qi,{key:"labelList-implicit",data:e,content:t}):sl(t)?M.createElement(Qi,zd({data:e},t,{key:"labelList-implicit"})):null:null}function fne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Sr(r,Qi).map(function(o,a){return C.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=hne(t.label,e);return[s].concat(tne(i))}Qi.renderCallByParent=fne;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return yc(e)=="symbol"?e:e+""}function mne(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vne=function(e,n){var r=wr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Hh=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,h=l*(a?1:-1)+i,c=Math.asin(l/h)/Dd,f=u?s:s+o*c,d=Xt(n,r,h,f),p=Xt(n,r,i,f),m=u?s-o*c:s,b=Xt(n,r,h*Math.cos(c*Dd),m);return{center:d,circleTangency:p,lineTangency:b,theta:c}},OM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=vne(o,a),u=o+l,h=Xt(n,r,s,o),c=Xt(n,r,s,u),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var d=Xt(n,r,i,o),p=Xt(n,r,i,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},gne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,c=wr(h-u),f=Hh({cx:n,cy:r,radius:s,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),d=f.circleTangency,p=f.lineTangency,m=f.theta,b=Hh({cx:n,cy:r,radius:s,angle:h,sign:-c,cornerRadius:o,cornerIsExternal:l}),y=b.circleTangency,v=b.lineTangency,g=b.theta,O=l?Math.abs(u-h):Math.abs(u-h)-m-g;if(O<0)return a?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OM({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:h});var x="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var E=Hh({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),_=E.circleTangency,S=E.lineTangency,k=E.theta,P=Hh({cx:n,cy:r,radius:i,angle:h,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),$=P.circleTangency,T=P.lineTangency,R=P.theta,z=l?Math.abs(u-h):Math.abs(u-h)-k-R;if(z<0&&o===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(c>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},yne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EM=function(e){var n=QE(QE({},yne),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,c=n.endAngle,f=n.className;if(o<s||h===c)return null;var d=Me("recharts-sector",f),p=o-s,m=ro(a,p,0,!0),b;return m>0&&Math.abs(h-c)<360?b=gne({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:c}):b=OM({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:h,endAngle:c}),M.createElement("path",S0({},Pe(n,!0),{className:d,d:b,role:"img"}))};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return e=wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=xne(t,"string");return bc(e)=="symbol"?e:e+""}function xne(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nk={curveBasisClosed:b5,curveBasisOpen:w5,curveBasis:y5,curveBumpX:i5,curveBumpY:s5,curveLinearClosed:x5,curveLinear:tm,curveMonotoneX:_5,curveMonotoneY:S5,curveNatural:O5,curveStep:E5,curveStepAfter:P5,curveStepBefore:k5},Kh=function(e){return e.x===+e.x&&e.y===+e.y},Wl=function(e){return e.x},Vl=function(e){return e.y},_ne=function(e,n){if(Ee(e))return e;var r="curve".concat(Qp(e));return(r==="curveMonotone"||r==="curveBump")&&n?nk["".concat(r).concat(n==="vertical"?"Y":"X")]:nk[r]||tm},Sne=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,h=_ne(r,a),c=u?s.filter(function(m){return Kh(m)}):s,f;if(Array.isArray(o)){var d=u?o.filter(function(m){return Kh(m)}):o,p=c.map(function(m,b){return tk(tk({},m),{},{base:d[b]})});return a==="vertical"?f=Ih().y(Vl).x1(Wl).x0(function(m){return m.base.x}):f=Ih().x(Wl).y1(Vl).y0(function(m){return m.base.y}),f.defined(Kh).curve(h),f(p)}return a==="vertical"&&Q(o)?f=Ih().y(Vl).x1(Wl).x0(o):Q(o)?f=Ih().x(Wl).y1(Vl).y0(o):f=EA().x(Wl).y(Vl),f.defined(Kh).curve(h),f(c)},bu=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Sne(e):i;return C.createElement("path",O0({},Pe(e,!1),ld(e),{className:Me("recharts-curve",n),d:o,ref:s}))},kM={exports:{}},One="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ene=One,kne=Ene;function PM(){}function CM(){}CM.resetWarningCache=PM;var Pne=function(){function t(r,i,s,o,a,l){if(l!==kne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CM,resetWarningCache:PM};return n.PropTypes=n,n};kM.exports=Pne();var Cne=kM.exports;const Fe=We(Cne);var $ne=Object.getOwnPropertyNames,Tne=Object.getOwnPropertySymbols,jne=Object.prototype.hasOwnProperty;function rk(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function qh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function ik(t){return $ne(t).concat(Tne(t))}var Ane=Object.hasOwn||function(t,e){return jne.call(t,e)};function wo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Nne="__v",Mne="__o",Rne="_owner",sk=Object.getOwnPropertyDescriptor,ok=Object.keys;function Ine(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Lne(t,e){return wo(t.getTime(),e.getTime())}function Dne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zne(t,e){return t===e}function ak(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var u=e.entries(),h=!1,c=0;(a=u.next())&&!a.done;){if(i[c]){c++;continue}var f=o.value,d=a.value;if(n.equals(f[0],d[0],l,c,t,e,n)&&n.equals(f[1],d[1],f[0],d[0],t,e,n)){h=i[c]=!0;break}c++}if(!h)return!1;l++}return!0}var Fne=wo;function Bne(t,e,n){var r=ok(t),i=r.length;if(ok(e).length!==i)return!1;for(;i-- >0;)if(!$M(t,e,n,r[i]))return!1;return!0}function Hl(t,e,n){var r=ik(t),i=r.length;if(ik(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!$M(t,e,n,s)||(o=sk(t,s),a=sk(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function Une(t,e){return wo(t.valueOf(),e.valueOf())}function Wne(t,e){return t.source===e.source&&t.flags===e.flags}function lk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),u=!1,h=0;(a=l.next())&&!a.done;){if(!i[h]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function Vne(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Hne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $M(t,e,n,r){return(r===Rne||r===Mne||r===Nne)&&(t.$$typeof||e.$$typeof)?!0:Ane(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Kne="[object Arguments]",qne="[object Boolean]",Gne="[object Date]",Zne="[object Error]",Xne="[object Map]",Yne="[object Number]",Jne="[object Object]",Qne="[object RegExp]",ere="[object Set]",tre="[object String]",nre="[object URL]",rre=Array.isArray,uk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ck=Object.assign,ire=Object.prototype.toString.call.bind(Object.prototype.toString);function sre(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,h=t.areSetsEqual,c=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(p,m,b){if(p===m)return!0;if(p==null||m==null)return!1;var y=typeof p;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(p,m,b):y==="function"?i(p,m,b):!1;var v=p.constructor;if(v!==m.constructor)return!1;if(v===Object)return a(p,m,b);if(rre(p))return e(p,m,b);if(uk!=null&&uk(p))return c(p,m,b);if(v===Date)return n(p,m,b);if(v===RegExp)return u(p,m,b);if(v===Map)return s(p,m,b);if(v===Set)return h(p,m,b);var g=ire(p);return g===Gne?n(p,m,b):g===Qne?u(p,m,b):g===Xne?s(p,m,b):g===ere?h(p,m,b):g===Jne?typeof p.then!="function"&&typeof m.then!="function"&&a(p,m,b):g===nre?f(p,m,b):g===Zne?r(p,m,b):g===Kne?a(p,m,b):g===qne||g===Yne||g===tre?l(p,m,b):!1}}function ore(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Hl:Ine,areDatesEqual:Lne,areErrorsEqual:Dne,areFunctionsEqual:zne,areMapsEqual:r?rk(ak,Hl):ak,areNumbersEqual:Fne,areObjectsEqual:r?Hl:Bne,arePrimitiveWrappersEqual:Une,areRegExpsEqual:Wne,areSetsEqual:r?rk(lk,Hl):lk,areTypedArraysEqual:r?Hl:Vne,areUrlsEqual:Hne};if(n&&(i=ck({},i,n(i))),e){var s=qh(i.areArraysEqual),o=qh(i.areMapsEqual),a=qh(i.areObjectsEqual),l=qh(i.areSetsEqual);i=ck({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function are(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function lre(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,u){var h=r(),c=h.cache,f=c===void 0?e?new WeakMap:void 0:c,d=h.meta;return n(l,u,{cache:f,equals:i,meta:d,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return n(l,u,o)}}var ure=vs();vs({strict:!0});vs({circular:!0});vs({circular:!0,strict:!0});vs({createInternalComparator:function(){return wo}});vs({strict:!0,createInternalComparator:function(){return wo}});vs({circular:!0,createInternalComparator:function(){return wo}});vs({circular:!0,createInternalComparator:function(){return wo},strict:!0});function vs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=ore(t),l=sre(a),u=r?r(l):are(l);return lre({circular:n,comparator:l,createState:i,equals:u,strict:o})}function cre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function hk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):cre(i)};requestAnimationFrame(r)}function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function hre(t){return mre(t)||pre(t)||dre(t)||fre()}function fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mre(t){if(Array.isArray(t))return t}function vre(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=hre(o),l=a[0],u=a.slice(1);if(typeof l=="number"){hk(i.bind(null,u),l);return}i(l),hk(i.bind(null,u));return}E0(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){TM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TM(t,e,n){return e=gre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return wc(e)==="symbol"?e:String(e)}function yre(t,e){if(wc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bre=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},wre=function(e){return e},xre=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wu=function(e,n){return Object.keys(n).reduce(function(r,i){return pk(pk({},r),{},TM({},i,e(i,n[i])))},{})},mk=function(e,n,r){return e.map(function(i){return"".concat(xre(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _re(t,e){return Ere(t)||Ore(t,e)||jM(t,e)||Sre()}function Sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Ere(t){if(Array.isArray(t))return t}function kre(t){return $re(t)||Cre(t)||jM(t)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jM(t,e){if(t){if(typeof t=="string")return k0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k0(t,e)}}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $re(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fd=1e-4,AM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},NM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},vk=function(e,n){return function(r){var i=AM(e,n);return NM(i,r)}},Tre=function(e,n){return function(r){var i=AM(e,n),s=[].concat(kre(i.map(function(o,a){return o*a}).slice(1)),[0]);return NM(s,r)}},gk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=_re(u,4);i=h[0],s=h[1],o=h[2],a=h[3]}}}var c=vk(i,o),f=vk(s,a),d=Tre(i,o),p=function(y){return y>1?1:y<0?0:y},m=function(y){for(var v=y>1?1:y,g=v,O=0;O<8;++O){var x=c(g)-v,E=d(g);if(Math.abs(x-v)<Fd||E<Fd)return f(g);g=p(g-x/E)}return f(g)};return m.isStepper=!1,m},jre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(h,c,f){var d=-(h-c)*r,p=f*s,m=f+(d-p)*a/1e3,b=f*a/1e3+h;return Math.abs(b-c)<Fd&&Math.abs(m)<Fd?[c,0]:[b,m]};return l.isStepper=!0,l.dt=a,l},Are=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gk(i);case"spring":return jre();default:if(i.split("(")[0]==="cubic-bezier")return gk(i)}return typeof i=="function"?i:null};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function yk(t){return Rre(t)||Mre(t)||MM(t)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rre(t){if(Array.isArray(t))return C0(t)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P0(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Lre(t,"string");return xc(e)==="symbol"?e:String(e)}function Lre(t,e){if(xc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dre(t,e){return Bre(t)||Fre(t,e)||MM(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MM(t,e){if(t){if(typeof t=="string")return C0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C0(t,e)}}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Bre(t){if(Array.isArray(t))return t}var Bd=function(e,n,r){return e+(n-e)*r},$0=function(e){var n=e.from,r=e.to;return n!==r},Ure=function t(e,n,r){var i=wu(function(s,o){if($0(o)){var a=e(o.from,o.to,o.velocity),l=Dre(a,2),u=l[0],h=l[1];return Kt(Kt({},o),{},{from:u,velocity:h})}return o},n);return r<1?wu(function(s,o){return $0(o)?Kt(Kt({},o),{},{velocity:Bd(o.velocity,i[s].velocity,r),from:Bd(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const Wre=function(t,e,n,r,i){var s=bre(t,e),o=s.reduce(function(b,y){return Kt(Kt({},b),{},P0({},y,[t[y],e[y]]))},{}),a=s.reduce(function(b,y){return Kt(Kt({},b),{},P0({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,h,c=function(){return null},f=function(){return wu(function(y,v){return v.from},a)},d=function(){return!Object.values(a).filter($0).length},p=function(y){u||(u=y);var v=y-u,g=v/n.dt;a=Ure(n,a,g),i(Kt(Kt(Kt({},t),e),f())),u=y,d()||(l=requestAnimationFrame(c))},m=function(y){h||(h=y);var v=(y-h)/r,g=wu(function(x,E){return Bd.apply(void 0,yk(E).concat([n(v)]))},o);if(i(Kt(Kt(Kt({},t),e),g)),v<1)l=requestAnimationFrame(c);else{var O=wu(function(x,E){return Bd.apply(void 0,yk(E).concat([n(1)]))},o);i(Kt(Kt(Kt({},t),e),O))}};return c=n.isStepper?p:m,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}var Vre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hre(t,e){if(t==null)return{};var n=Kre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Wv(t){return Xre(t)||Zre(t)||Gre(t)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return T0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T0(t,e)}}function Zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xre(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tu(t,e,n){return e=RM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RM(r.key),r)}}function Qre(t,e,n){return e&&Jre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RM(t){var e=eie(t,"string");return Ra(e)==="symbol"?e:String(e)}function eie(t,e){if(Ra(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j0(t,e)}function nie(t){var e=rie();return function(){var r=Ud(t),i;if(e){var s=Ud(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return A0(this,i)}}function A0(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N0(t)}function N0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(t)}var vi=function(t){tie(n,t);var e=nie(n);function n(r,i){var s;Yre(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,h=o.to,c=o.steps,f=o.children,d=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(N0(s)),s.changeStyle=s.changeStyle.bind(N0(s)),!a||d<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:h}),A0(s);if(c&&c.length)s.state={style:c[0].style};else if(u){if(typeof f=="function")return s.state={style:u},A0(s);s.state={style:l?tu({},l,u):u}}else s.state={style:{}};return s}return Qre(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,h=s.to,c=s.from,f=this.state.style;if(a){if(!o){var d={style:l?tu({},l,h):h};this.state&&f&&(l&&f[l]!==h||!l&&f!==h)&&this.setState(d);return}if(!(ure(i.to,h)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||u?c:i.to;if(this.state&&f){var b={style:l?tu({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(b)}this.runAnimation(ur(ur({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,u=i.easing,h=i.begin,c=i.onAnimationEnd,f=i.onAnimationStart,d=Wre(o,a,Are(u),l,this.changeStyle),p=function(){s.stopJSAnimation=d()};this.manager.start([f,h,p,l,c])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,u=o[0],h=u.style,c=u.duration,f=c===void 0?0:c,d=function(m,b,y){if(y===0)return m;var v=b.duration,g=b.easing,O=g===void 0?"ease":g,x=b.style,E=b.properties,_=b.onAnimationEnd,S=y>0?o[y-1]:b,k=E||Object.keys(x);if(typeof O=="function"||O==="spring")return[].concat(Wv(m),[s.runJSAnimation.bind(s,{from:S.style,to:x,duration:v,easing:O}),v]);var P=mk(k,v,O),$=ur(ur(ur({},S.style),x),{},{transition:P});return[].concat(Wv(m),[$,v,_]).filter(wre)};return this.manager.start([l].concat(Wv(o.reduce(d,[h,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vre());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,u=i.easing,h=i.onAnimationStart,c=i.onAnimationEnd,f=i.steps,d=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof d=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=a?tu({},a,l):l,b=mk(Object.keys(m),o,u);p.start([h,s,ur(ur({},m),{},{transition:b}),o,c])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hre(i,Vre),u=C.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!a||u===0||o<=0)return s;var c=function(d){var p=d.props,m=p.style,b=m===void 0?{}:m,y=p.className,v=C.cloneElement(d,ur(ur({},l),{},{style:ur(ur({},b),h),className:y}));return v};return u===1?c(C.Children.only(s)):M.createElement("div",null,C.Children.map(s,function(f){return c(f)}))}}]),n}(C.PureComponent);vi.displayName="Animate";vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vi.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function iie(t,e){return lie(t)||aie(t,e)||oie(t,e)||sie()}function sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oie(t,e){if(t){if(typeof t=="string")return xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lie(t){if(Array.isArray(t))return t}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uie(t,e,n){return e=cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cie(t){var e=hie(t,"string");return _c(e)=="symbol"?e:e+""}function hie(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ok=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&s instanceof Array){for(var c=[0,0,0,0],f=0,d=4;f<d;f++)c[f]=s[f]>o?o:s[f];h="M".concat(e,",").concat(n+a*c[0]),c[0]>0&&(h+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),h+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(h+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*c[1])),h+="L ".concat(e+r,",").concat(n+i-a*c[2]),c[2]>0&&(h+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),h+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(h+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*c[3])),h+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);h="M ".concat(e,",").concat(n+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*p,`
            L `).concat(e+r,",").concat(n+i-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*p," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},fie=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),h=Math.max(s,s+a),c=Math.min(o,o+l),f=Math.max(o,o+l);return r>=u&&r<=h&&i>=c&&i<=f}return!1},die={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kx=function(e){var n=Sk(Sk({},die),e),r=C.useRef(),i=C.useState(-1),s=iie(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&a(O)}catch{}},[]);var l=n.x,u=n.y,h=n.width,c=n.height,f=n.radius,d=n.className,p=n.animationEasing,m=n.animationDuration,b=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||c!==+c||h===0||c===0)return null;var g=Me("recharts-rectangle",d);return v?M.createElement(vi,{canBegin:o>0,from:{width:h,height:c,x:l,y:u},to:{width:h,height:c,x:l,y:u},duration:m,animationEasing:p,isActive:v},function(O){var x=O.width,E=O.height,_=O.x,S=O.y;return M.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:y,easing:p},M.createElement("path",Wd({},Pe(n,!0),{className:g,d:Ok(_,S,x,E,f),ref:r})))}):M.createElement("path",Wd({},Pe(n,!0),{className:g,d:Ok(l,u,h,c,f)}))};function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}var Px=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Me("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",M0({},Pe(e,!1),ld(e),{className:o,cx:n,cy:r,r:i})):null};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var pie=["x","y","top","left","width","height","className"];function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return e=gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return Sc(e)=="symbol"?e:e+""}function yie(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bie(t,e){if(t==null)return{};var n=wie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xie=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},_ie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,h=e.width,c=h===void 0?0:h,f=e.height,d=f===void 0?0:f,p=e.className,m=bie(e,pie),b=mie({x:r,y:s,top:a,left:u,width:c,height:d},m);return!Q(r)||!Q(s)||!Q(c)||!Q(d)||!Q(a)||!Q(u)?null:M.createElement("path",R0({},Pe(b,!0),{className:Me("recharts-cross",p),d:xie(r,s,c,d,a,u)}))},Sie=ZA,Oie=Sie(Object.getPrototypeOf,Object),Eie=Oie,kie=wi,Pie=Eie,Cie=xi,$ie="[object Object]",Tie=Function.prototype,jie=Object.prototype,IM=Tie.toString,Aie=jie.hasOwnProperty,Nie=IM.call(Object);function Mie(t){if(!Cie(t)||kie(t)!=$ie)return!1;var e=Pie(t);if(e===null)return!0;var n=Aie.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IM.call(n)==Nie}var Rie=Mie;const Iie=We(Rie);var Lie=wi,Die=xi,zie="[object Boolean]";function Fie(t){return t===!0||t===!1||Die(t)&&Lie(t)==zie}var Bie=Fie;const Uie=We(Bie);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function Wie(t,e){return qie(t)||Kie(t,e)||Hie(t,e)||Vie()}function Vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(t,e){if(t){if(typeof t=="string")return kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(t,e)}}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function qie(t){if(Array.isArray(t))return t}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=Xie(t,"string");return Oc(e)=="symbol"?e:e+""}function Xie(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $k=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},Yie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jie=function(e){var n=Ck(Ck({},Yie),e),r=C.useRef(),i=C.useState(-1),s=Wie(i,2),o=s[0],a=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&a(g)}catch{}},[]);var l=n.x,u=n.y,h=n.upperWidth,c=n.lowerWidth,f=n.height,d=n.className,p=n.animationEasing,m=n.animationDuration,b=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||h!==+h||c!==+c||f!==+f||h===0&&c===0||f===0)return null;var v=Me("recharts-trapezoid",d);return y?M.createElement(vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:h,lowerWidth:c,height:f,x:l,y:u},duration:m,animationEasing:p,isActive:y},function(g){var O=g.upperWidth,x=g.lowerWidth,E=g.height,_=g.x,S=g.y;return M.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:p},M.createElement("path",Vd({},Pe(n,!0),{className:v,d:$k(_,S,O,x,E),ref:r})))}):M.createElement("g",null,M.createElement("path",Vd({},Pe(n,!0),{className:v,d:$k(l,u,h,c,f)})))},Qie=["option","shapeType","propTransformer","activeClassName","isActive"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function ese(t,e){if(t==null)return{};var n=tse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return Ec(e)=="symbol"?e:e+""}function ise(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t,e){return Hd(Hd({},e),t)}function ose(t,e){return t==="symbols"}function jk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(kx,n);case"trapezoid":return M.createElement(Jie,n);case"sector":return M.createElement(EM,n);case"symbols":if(ose(e))return M.createElement(Hw,n);break;default:return null}}function ase(t){return C.isValidElement(t)?t.props:t}function lse(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?sse:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=ese(t,Qie),u;if(C.isValidElement(e))u=C.cloneElement(e,Hd(Hd({},l),ase(e)));else if(Ee(e))u=e(l);else if(Iie(e)&&!Uie(e)){var h=i(e,l);u=M.createElement(jk,{shapeType:n,elementProps:h})}else{var c=l;u=M.createElement(jk,{shapeType:n,elementProps:c})}return a?M.createElement(ct,{className:o},u):u}function vm(t,e){return e!=null&&"trapezoids"in t.props}function gm(t,e){return e!=null&&"sectors"in t.props}function kc(t,e){return e!=null&&"points"in t.props}function use(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function cse(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fse(t,e){var n;return vm(t,e)?n=use:gm(t,e)?n=cse:kc(t,e)&&(n=hse),n}function dse(t,e){var n;return vm(t,e)?n="trapezoids":gm(t,e)?n="sectors":kc(t,e)&&(n="points"),n}function pse(t,e){if(vm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kc(t,e)?e.payload:{}}function mse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dse(n,e),s=pse(n,e),o=r.filter(function(l,u){var h=uc(s,l),c=n.props[i].filter(function(p){var m=fse(n,e);return m(p,e)}),f=n.props[i].indexOf(c[c.length-1]),d=u===f;return h&&d}),a=r.indexOf(o[o.length-1]);return a}var vse=Math.ceil,gse=Math.max;function yse(t,e,n,r){for(var i=-1,s=gse(vse((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var bse=yse,wse=pN,Ak=1/0,xse=17976931348623157e292;function _se(t){if(!t)return t===0?t:0;if(t=wse(t),t===Ak||t===-Ak){var e=t<0?-1:1;return e*xse}return t===t?t:0}var LM=_se,Sse=bse,Ose=sm,Vv=LM;function Ese(t){return function(e,n,r){return r&&typeof r!="number"&&Ose(e,n,r)&&(n=r=void 0),e=Vv(e),n===void 0?(n=e,e=0):n=Vv(n),r=r===void 0?e<n?1:-1:Vv(r),Sse(e,n,r,t)}}var kse=Ese,Pse=kse,Cse=Pse(),$se=Cse;const Kd=We($se);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){DM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DM(t,e,n){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=jse(t,"string");return Pc(e)=="symbol"?e:e+""}function jse(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ase=["Webkit","Moz","O","ms"],Nse=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Ase.reduce(function(s,o){return Mk(Mk({},s),{},DM({},o+r,n))},{});return i[e]=n,i};function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FM(r.key),r)}}function Rse(t,e,n){return e&&Ik(t.prototype,e),n&&Ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ise(t,e,n){return e=Gd(e),Lse(t,zM()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function Lse(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dse(t)}function Dse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I0(t,e)}function jn(t,e,n){return e=FM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FM(t){var e=Fse(t,"string");return Ia(e)=="symbol"?e:e+""}function Fse(t,e){if(Ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=gu().domain(Kd(0,l)).range([s,s+o-a]),h=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},Lk=function(e){return e.changedTouches&&!!e.changedTouches.length},La=function(t){function e(n){var r;return Mse(this,e),r=Ise(this,e,[n]),jn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),jn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jn(r,"handleSlideDragStart",function(i){var s=Lk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return zse(e,t),Rse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,h=u.length-1,c=Math.min(i,s),f=Math.max(i,s),d=e.getIndexInRange(o,c),p=e.getIndexInRange(o,f);return{startIndex:d-d%l,endIndex:p===h?h:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=zn(s[r],a,r);return Ee(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,u=l.x,h=l.width,c=l.travellerWidth,f=l.startIndex,d=l.endIndex,p=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,u+h-c-a,u+h-c-o):m<0&&(m=Math.max(m,u-o,u-a));var b=this.getIndex({startX:o+m,endX:a+m});(b.startIndex!==f||b.endIndex!==d)&&p&&p(b),this.setState({startX:o+m,endX:a+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Lk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[o],h=this.props,c=h.x,f=h.width,d=h.travellerWidth,p=h.onChange,m=h.gap,b=h.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-s;v>0?v=Math.min(v,c+f-d-u):v<0&&(v=Math.max(v,c-u)),y[o]=u+v;var g=this.getIndex(y),O=g.startIndex,x=g.endIndex,E=function(){var S=b.length-1;return o==="startX"&&(a>l?O%m===0:x%m===0)||a<l&&x===S||o==="endX"&&(a>l?x%m===0:O%m===0)||a>l&&x===S};this.setState(jn(jn({},o,u+v),"brushMoveStartX",r.pageX),function(){p&&E()&&p(g)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,h=this.state[i],c=a.indexOf(h);if(c!==-1){var f=c+r;if(!(f===-1||f>=a.length)){var d=a[f];i==="startX"&&d>=u||i==="endX"&&d<=l||this.setState(jn({},i,d),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,h=r.padding,c=C.Children.only(u);return c?M.cloneElement(c,{x:i,y:s,width:o,height:a,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,u=l.y,h=l.travellerWidth,c=l.height,f=l.traveller,d=l.ariaLabel,p=l.data,m=l.startIndex,b=l.endIndex,y=Math.max(r,this.props.x),v=Hv(Hv({},Pe(this.props,!1)),{},{x:y,y:u,width:h,height:c}),g=d||"Min value: ".concat((s=p[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[b])===null||o===void 0?void 0:o.name);return M.createElement(ct,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),a.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,v))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,h=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:o,width:c,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,h=this.state,c=h.startX,f=h.endX,d=5,p={pointerEvents:"none",fill:u};return M.createElement(ct,{className:"recharts-brush-texts"},M.createElement(Sd,qd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,f)-d,y:o+a/2},p),this.getTextOfTick(i)),M.createElement(Sd,qd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,f)+l+d,y:o+a/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,h=r.height,c=r.alwaysShowText,f=this.state,d=f.startX,p=f.endX,m=f.isTextActive,b=f.isSlideMoving,y=f.isTravellerMoving,v=f.isTravellerFocused;if(!i||!i.length||!Q(a)||!Q(l)||!Q(u)||!Q(h)||u<=0||h<=0)return null;var g=Me("recharts-brush",s),O=M.Children.count(o)===1,x=Nse("userSelect","none");return M.createElement(ct,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(d,p),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(p,"endX"),(m||b||y||v||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ee(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,h=r.startIndex,c=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Hv({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?Bse({data:s,width:o,x:a,travellerWidth:l,startIndex:h,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(C.PureComponent);jn(La,"displayName","Brush");jn(La,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Use=Jw;function Wse(t,e){var n;return Use(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Vse=Wse,Hse=BA,Kse=ds,qse=Vse,Gse=Cn,Zse=sm;function Xse(t,e,n){var r=Gse(t)?Hse:qse;return n&&Zse(t,e,n)&&(e=void 0),r(t,Kse(e))}var Yse=Xse;const Jse=We(Yse);var Fr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Dk=uN;function Qse(t,e,n){e=="__proto__"&&Dk?Dk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var eoe=Qse,toe=eoe,noe=aN,roe=ds;function ioe(t,e){var n={};return e=roe(e),noe(t,function(r,i,s){toe(n,i,e(r,i,s))}),n}var soe=ioe;const ooe=We(soe);function aoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var loe=aoe,uoe=Jw;function coe(t,e){var n=!0;return uoe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var hoe=coe,foe=loe,doe=hoe,poe=ds,moe=Cn,voe=sm;function goe(t,e,n){var r=moe(t)?foe:doe;return n&&voe(t,e,n)&&(e=void 0),r(t,poe(e))}var yoe=goe;const BM=We(yoe);var boe=["x","y"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e,n){return e=xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=_oe(t,"string");return Cc(e)=="symbol"?e:e+""}function _oe(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t,e){if(t==null)return{};var n=Ooe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eoe(t,e){var n=t.x,r=t.y,i=Soe(t,boe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),h=parseInt(u,10),c="".concat(e.width||i.width),f=parseInt(c,10);return Kl(Kl(Kl(Kl(Kl({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:h,width:f,name:e.name,radius:e.radius})}function Fk(t){return M.createElement(lse,L0({shapeType:"rectangle",propTransformer:Eoe,activeClassName:"recharts-active-bar"},t))}var koe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Q(r)||WV(r);return s?e(r,i):(s||so(),n)}},Poe=["value","background"],UM;function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function Coe(t,e){if(t==null)return{};var n=$oe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){Wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VM(r.key),r)}}function joe(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aoe(t,e,n){return e=Xd(e),Noe(t,WM()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function Noe(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Moe(t)}function Moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function Roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D0(t,e)}function Wi(t,e,n){return e=VM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=Ioe(t,"string");return Da(e)=="symbol"?e:e+""}function Ioe(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rs=function(t){function e(){var n;Toe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Aoe(this,e,[].concat(i)),Wi(n,"state",{isAnimationFinished:!1}),Wi(n,"id",Jc("recharts-bar-")),Wi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Wi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Roe(e,t),joe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,h=Pe(this.props,!1);return r&&r.map(function(c,f){var d=f===l,p=d?u:o,m=Et(Et(Et({},h),c),{},{isActive:d,option:p,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ct,Zd({className:"recharts-bar-rectangle"},ud(i.props,c,f),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(f)}),M.createElement(Fk,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,h=i.animationEasing,c=i.animationId,f=this.state.prevData;return M.createElement(vi,{begin:l,duration:u,isActive:a,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t,m=s.map(function(b,y){var v=f&&f[y];if(v){var g=Xn(v.x,b.x),O=Xn(v.y,b.y),x=Xn(v.width,b.width),E=Xn(v.height,b.height);return Et(Et({},b),{},{x:g(p),y:O(p),width:x(p),height:E(p)})}if(o==="horizontal"){var _=Xn(0,b.height),S=_(p);return Et(Et({},b),{},{y:b.y+b.height-S,height:S})}var k=Xn(0,b.width),P=k(p);return Et(Et({},b),{},{width:P})});return M.createElement(ct,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!uc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Pe(this.props.background,!1);return s.map(function(u,h){u.value;var c=u.background,f=Coe(u,Poe);if(!c)return null;var d=Et(Et(Et(Et(Et({},f),{},{fill:"#eee"},c),l),ud(r.props,u,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return M.createElement(Fk,Zd({key:"background-bar-".concat(h),option:r.props.background,isActive:h===a},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,h=s.children,c=Sr(h,mm);if(!c)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,d=function(b,y){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:zn(b,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ct,p,c.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:f,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,h=r.top,c=r.width,f=r.height,d=r.isAnimationActive,p=r.background,m=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=Me("recharts-bar",o),v=a&&a.allowDataOverflow,g=l&&l.allowDataOverflow,O=v||g,x=je(m)?this.id:m;return M.createElement(ct,{className:y},v||g?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(x)},M.createElement("rect",{x:v?u:u-c/2,y:g?h:h-f/2,width:v?c:c*2,height:g?f:f*2}))):null,M.createElement(ct,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(x,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,x),(!d||b)&&Qi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);UM=rs;Wi(rs,"displayName","Bar");Wi(rs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wi(rs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,c=t.displayedData,f=t.offset,d=fte(r,n);if(!d)return null;var p=e.layout,m=n.type.defaultProps,b=m!==void 0?Et(Et({},m),n.props):n.props,y=b.dataKey,v=b.children,g=b.minPointSize,O=p==="horizontal"?o:s,x=u?O.scale.domain():null,E=wte({numericAxis:O}),_=Sr(v,vN),S=c.map(function(k,P){var $,T,R,z,U,W;u?$=dte(u[h+P],x):($=zn(k,y),Array.isArray($)||($=[E,$]));var B=koe(g,UM.defaultProps.minPointSize)($[1],P);if(p==="horizontal"){var N,L=[o.scale($[0]),o.scale($[1])],F=L[0],j=L[1];T=BE({axis:s,ticks:a,bandSize:i,offset:d.offset,entry:k,index:P}),R=(N=j??F)!==null&&N!==void 0?N:void 0,z=d.size;var I=F-j;if(U=Number.isNaN(I)?0:I,W={x:T,y:o.y,width:z,height:o.height},Math.abs(B)>0&&Math.abs(U)<Math.abs(B)){var V=wr(U||B)*(Math.abs(B)-Math.abs(U));R-=V,U+=V}}else{var te=[s.scale($[0]),s.scale($[1])],ie=te[0],de=te[1];if(T=ie,R=BE({axis:o,ticks:l,bandSize:i,offset:d.offset,entry:k,index:P}),z=de-ie,U=d.size,W={x:s.x,y:R,width:s.width,height:U},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var $e=wr(z||B)*(Math.abs(B)-Math.abs(z));z+=$e}}return Et(Et(Et({},k),{},{x:T,y:R,width:z,height:U,value:u?$:$[1],payload:k,background:W},_&&_[P]&&_[P].props),{},{tooltipPayload:[_M(n,k)],tooltipPosition:{x:T+z/2,y:R+U/2}})});return Et({data:S,layout:p},f)});function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function Doe(t,e,n){return e&&Wk(t.prototype,e),n&&Wk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ym(t,e,n){return e=HM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HM(t){var e=zoe(t,"string");return $c(e)=="symbol"?e:e+""}function zoe(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KM=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,u=e.children,h=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Nn(u,rs);return h.reduce(function(d,p){var m=n[p],b=m.orientation,y=m.domain,v=m.padding,g=v===void 0?{}:v,O=m.mirror,x=m.reversed,E="".concat(b).concat(O?"Mirror":""),_,S,k,P,$;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=y[1]-y[0],R=1/0,z=m.categoricalDomain.sort(KV);if(z.forEach(function(te,ie){ie>0&&(R=Math.min((te||0)-(z[ie-1]||0),R))}),Number.isFinite(R)){var U=R/T,W=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(_=U*W/2),m.padding==="no-gap"){var B=ro(e.barCategoryGap,U*W),N=U*W/2;_=N-B-(N-B)/W*B}}}i==="xAxis"?S=[r.left+(g.left||0)+(_||0),r.left+r.width-(g.right||0)-(_||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(g.bottom||0),r.top+(g.top||0)]:[r.top+(g.top||0)+(_||0),r.top+r.height-(g.bottom||0)-(_||0)]:S=m.range,x&&(S=[S[1],S[0]]);var L=cte(m,s,f),F=L.scale,j=L.realScaleType;F.domain(y).range(S),hte(F);var I=bte(F,gr(gr({},m),{},{realScaleType:j}));i==="xAxis"?($=b==="top"&&!O||b==="bottom"&&O,k=r.left,P=c[E]-$*m.height):i==="yAxis"&&($=b==="left"&&!O||b==="right"&&O,k=c[E]-$*m.width,P=r.top);var V=gr(gr(gr({},m),I),{},{realScaleType:j,x:k,y:P,scale:F,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return V.bandSize=Ld(V,I),!m.hide&&i==="xAxis"?c[E]+=($?-1:1)*V.height:m.hide||(c[E]+=($?-1:1)*V.width),gr(gr({},d),{},ym({},p,V))},{})},qM=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Foe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return qM({x:n,y:r},{x:i,y:s})},GM=function(){function t(e){Loe(this,t),this.scale=e}return Doe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ym(GM,"EPS",1e-4);var Cx=function(e){var n=Object.keys(e).reduce(function(r,i){return gr(gr({},r),{},ym({},i,GM.create(e[i])))},{});return gr(gr({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return ooe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return BM(i,function(s,o){return n[o].isInRange(s)})}})};function Boe(t){return(t%180+180)%180}var Uoe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Boe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Woe=ds,Voe=Qc,Hoe=rm;function Koe(t){return function(e,n,r){var i=Object(e);if(!Voe(e)){var s=Woe(n);e=Hoe(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var qoe=Koe,Goe=LM;function Zoe(t){var e=Goe(t),n=e%1;return e===e?n?e-n:e:0}var Xoe=Zoe,Yoe=tN,Joe=ds,Qoe=Xoe,eae=Math.max;function tae(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qoe(n);return i<0&&(i=eae(r+i,0)),Yoe(t,Joe(e),i)}var nae=tae,rae=qoe,iae=nae,sae=rae(iae),oae=sae;const aae=We(oae);var lae=ZW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),$x=C.createContext(void 0),Tx=C.createContext(void 0),ZM=C.createContext(void 0),XM=C.createContext({}),YM=C.createContext(void 0),JM=C.createContext(0),QM=C.createContext(0),Hk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,h=lae(s);return M.createElement($x.Provider,{value:r},M.createElement(Tx.Provider,{value:i},M.createElement(XM.Provider,{value:s},M.createElement(ZM.Provider,{value:h},M.createElement(YM.Provider,{value:o},M.createElement(JM.Provider,{value:u},M.createElement(QM.Provider,{value:l},a)))))))},uae=function(){return C.useContext(YM)},eR=function(e){var n=C.useContext($x);n==null&&so();var r=n[e];return r==null&&so(),r},cae=function(){var e=C.useContext($x);return Ii(e)},hae=function(){var e=C.useContext(Tx),n=aae(e,function(r){return BM(r.domain,Number.isFinite)});return n||Ii(e)},tR=function(e){var n=C.useContext(Tx);n==null&&so();var r=n[e];return r==null&&so(),r},fae=function(){var e=C.useContext(ZM);return e},dae=function(){return C.useContext(XM)},jx=function(){return C.useContext(QM)},Ax=function(){return C.useContext(JM)};function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rR(r.key),r)}}function vae(t,e,n){return e&&mae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gae(t,e,n){return e=Yd(e),yae(t,nR()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function yae(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bae(t)}function bae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nR=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nx(t,e,n){return e=rR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rR(t){var e=xae(t,"string");return za(e)=="symbol"?e:e+""}function xae(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _ae(t,e){return kae(t)||Eae(t,e)||Oae(t,e)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(t,e){if(t){if(typeof t=="string")return Gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kae(t){if(Array.isArray(t))return t}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}var Pae=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Ee(e)?r=e(n):r=M.createElement("line",F0({},n,{className:"recharts-reference-line-line"})),r},Cae=function(e,n,r,i,s,o,a,l,u){var h=s.x,c=s.y,f=s.width,d=s.height;if(r){var p=u.y,m=e.y.apply(p,{position:o});if(Fr(u,"discard")&&!e.y.isInRange(m))return null;var b=[{x:h+f,y:m},{x:h,y:m}];return l==="left"?b.reverse():b}if(n){var y=u.x,v=e.x.apply(y,{position:o});if(Fr(u,"discard")&&!e.x.isInRange(v))return null;var g=[{x:v,y:c+d},{x:v,y:c}];return a==="top"?g.reverse():g}if(i){var O=u.segment,x=O.map(function(E){return e.apply(E,{position:o})});return Fr(u,"discard")&&Jse(x,function(E){return!e.isInRange(E)})?null:x}return null};function $ae(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=uae(),h=eR(i),c=tR(s),f=fae();if(!u||!f)return null;oi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Cx({x:h.scale,y:c.scale}),p=It(e),m=It(n),b=r&&r.length===2,y=Cae(d,p,m,b,f,t.position,h.orientation,c.orientation,t);if(!y)return null;var v=_ae(y,2),g=v[0],O=g.x,x=g.y,E=v[1],_=E.x,S=E.y,k=Fr(t,"hidden")?"url(#".concat(u,")"):void 0,P=qk(qk({clipPath:k},Pe(t,!0)),{},{x1:O,y1:x,x2:_,y2:S});return M.createElement(ct,{className:Me("recharts-reference-line",a)},Pae(o,P),an.renderCallByParent(t,Foe({x1:O,y1:x,x2:_,y2:S})))}var Mx=function(t){function e(){return pae(this,e),gae(this,e,arguments)}return wae(e,t),vae(e,[{key:"render",value:function(){return M.createElement($ae,this.props)}}])}(M.Component);Nx(Mx,"displayName","ReferenceLine");Nx(Mx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sR(r.key),r)}}function Aae(t,e,n){return e&&jae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nae(t,e,n){return e=Jd(e),Mae(t,iR()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Mae(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rae(t)}function Rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iR=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U0(t,e)}function bm(t,e,n){return e=sR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sR(t){var e=Lae(t,"string");return Fa(e)=="symbol"?e:e+""}function Lae(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dae=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=Cx({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Fr(e,"discard")&&!o.isInRange(a)?null:a},wm=function(t){function e(){return Tae(this,e),Nae(this,e,arguments)}return Iae(e,t),Aae(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,u=It(i),h=It(s);if(oi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var c=Dae(this.props);if(!c)return null;var f=c.x,d=c.y,p=this.props,m=p.shape,b=p.className,y=Fr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=Xk(Xk({clipPath:y},Pe(this.props,!0)),{},{cx:f,cy:d});return M.createElement(ct,{className:Me("recharts-reference-dot",b)},e.renderDot(m,v),an.renderCallByParent(this.props,{x:f-o,y:d-o,width:2*o,height:2*o}))}}])}(M.Component);bm(wm,"displayName","ReferenceDot");bm(wm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bm(wm,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ee(t)?n=t(e):n=M.createElement(Px,B0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function Bae(t,e,n){return e&&Fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,n){return e=Qd(e),Wae(t,oR()?Reflect.construct(e,n||[],Qd(t).constructor):e.apply(t,n))}function Wae(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vae(t)}function Vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oR=function(){return!!t})()}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}function Hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V0(t,e)}function xm(t,e,n){return e=aR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aR(t){var e=Kae(t,"string");return Ba(e)=="symbol"?e:e+""}function Kae(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qae=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,h=s.xAxis,c=s.yAxis;if(!h||!c)return null;var f=Cx({x:h.scale,y:c.scale}),d={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Fr(s,"discard")&&(!f.isInRange(d)||!f.isInRange(p))?null:qM(d,p)},_m=function(t){function e(){return zae(this,e),Uae(this,e,arguments)}return Hae(e,t),Bae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,h=r.clipPathId;oi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=It(i),f=It(s),d=It(o),p=It(a),m=this.props.shape;if(!c&&!f&&!d&&!p&&!m)return null;var b=qae(c,f,d,p,this.props);if(!b&&!m)return null;var y=Fr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return M.createElement(ct,{className:Me("recharts-reference-area",l)},e.renderRect(m,Jk(Jk({clipPath:y},Pe(this.props,!0)),b)),an.renderCallByParent(this.props,b))}}])}(M.Component);xm(_m,"displayName","ReferenceArea");xm(_m,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xm(_m,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ee(t)?n=t(e):n=M.createElement(kx,W0({},e,{className:"recharts-reference-area-rect"})),n});function lR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Gae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Uoe(r,n)}function Zae(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function ep(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Xae(t,e){return lR(t,e+1)}function Yae(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,h=o,c=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:lR(r,u)};var m=l,b,y=function(){return b===void 0&&(b=n(p,m)),b},v=p.coordinate,g=l===0||ep(t,v,y,h,a);g||(l=0,h=o,u+=1),g&&(h=v+t*(y()/2+i),l+=u)},f;u<=s.length;)if(f=c(),f)return f.v;return[]}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=ele(t,"string");return Tc(e)=="symbol"?e:e+""}function ele(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tle(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(f){var d=s[f],p,m=function(){return p===void 0&&(p=n(d,f)),p};if(f===o-1){var b=t*(d.coordinate+t*m()/2-l);s[f]=d=rn(rn({},d),{},{tickCoord:b>0?d.coordinate-b*t:d.coordinate})}else s[f]=d=rn(rn({},d),{},{tickCoord:d.coordinate});var y=ep(t,d.tickCoord,m,a,l);y&&(l=d.tickCoord-t*(m()/2+i),s[f]=rn(rn({},d),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return s}function nle(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var h=r[a-1],c=n(h,a-1),f=t*(h.coordinate+t*c/2-u);o[a-1]=h=rn(rn({},h),{},{tickCoord:f>0?h.coordinate-f*t:h.coordinate});var d=ep(t,h.tickCoord,function(){return c},l,u);d&&(u=h.tickCoord-t*(c/2+i),o[a-1]=rn(rn({},h),{},{isShow:!0}))}for(var p=s?a-1:a,m=function(v){var g=o[v],O,x=function(){return O===void 0&&(O=n(g,v)),O};if(v===0){var E=t*(g.coordinate-t*x()/2-l);o[v]=g=rn(rn({},g),{},{tickCoord:E<0?g.coordinate-E*t:g.coordinate})}else o[v]=g=rn(rn({},g),{},{tickCoord:g.coordinate});var _=ep(t,g.tickCoord,x,l,u);_&&(l=g.tickCoord+t*(x()/2+i),o[v]=rn(rn({},g),{},{isShow:!0}))},b=0;b<p;b++)m(b);return o}function Rx(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,h=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(Q(l)||dl.isSsr)return Xae(i,typeof l=="number"&&Q(l)?l:0);var f=[],d=a==="top"||a==="bottom"?"width":"height",p=h&&d==="width"?vu(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(g,O){var x=Ee(u)?u(g.value,O):g.value;return d==="width"?Gae(vu(x,{fontSize:e,letterSpacing:n}),p,c):vu(x,{fontSize:e,letterSpacing:n})[d]},b=i.length>=2?wr(i[1].coordinate-i[0].coordinate):1,y=Zae(s,b,d);return l==="equidistantPreserveStart"?Yae(b,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=nle(b,y,m,i,o,l==="preserveStartEnd"):f=tle(b,y,m,i,o),f.filter(function(v){return v.isShow}))}var rle=["viewBox"],ile=["viewBox"],sle=["ticks"];function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(this,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kv(t,e){if(t==null)return{};var n=ole(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cR(r.key),r)}}function lle(t,e,n){return e&&tP(t.prototype,e),n&&tP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ule(t,e,n){return e=tp(e),cle(t,uR()?Reflect.construct(e,n||[],tp(t).constructor):e.apply(t,n))}function cle(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(t)}function hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tp(t)}function fle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H0(t,e)}function Ix(t,e,n){return e=cR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t){var e=dle(t,"string");return Ua(e)=="symbol"?e:e+""}function dle(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gl=function(t){function e(n){var r;return ale(this,e),r=ule(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return fle(e,t),lle(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Kv(r,rle),a=this.props,l=a.viewBox,u=Kv(a,ile);return!da(s,l)||!da(o,u)||!da(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,u=i.orientation,h=i.tickSize,c=i.mirror,f=i.tickMargin,d,p,m,b,y,v,g=c?-1:1,O=r.tickSize||h,x=Q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":d=p=r.coordinate,b=o+ +!c*l,m=b-g*O,v=m-g*f,y=x;break;case"left":m=b=r.coordinate,p=s+ +!c*a,d=p-g*O,y=d-g*f,v=x;break;case"right":m=b=r.coordinate,p=s+ +c*a,d=p+g*O,y=d+g*f,v=x;break;default:d=p=r.coordinate,b=o+ +c*l,m=b+g*O,v=m+g*f,y=x;break}return{line:{x1:d,y1:m,x2:p,y2:b},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,h=r.axisLine,c=jt(jt(jt({},Pe(this.props,!1)),Pe(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);c=jt(jt({},c),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var d=+(l==="left"&&!u||l==="right"&&u);c=jt(jt({},c),{},{x1:i+d*o,y1:s,x2:i+d*o,y2:s+a})}return M.createElement("line",na({},c,{className:Me("recharts-cartesian-axis-line",er(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,h=a.tick,c=a.tickFormatter,f=a.unit,d=Rx(jt(jt({},this.props),{},{ticks:r}),i,s),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=Pe(this.props,!1),y=Pe(h,!1),v=jt(jt({},b),{},{fill:"none"},Pe(l,!1)),g=d.map(function(O,x){var E=o.getTickLineCoord(O),_=E.line,S=E.tick,k=jt(jt(jt(jt({textAnchor:p,verticalAnchor:m},b),{},{stroke:"none",fill:u},y),S),{},{index:x,payload:O,visibleTicksCount:d.length,tickFormatter:c});return M.createElement(ct,na({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ud(o.props,O,x)),l&&M.createElement("line",na({},v,_,{className:Me("recharts-cartesian-axis-tick-line",er(l,"className"))})),h&&e.renderTickItem(h,k,"".concat(Ee(c)?c(O.value,x):O.value).concat(f||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var c=this.props,f=c.ticks,d=Kv(c,sle),p=f;return Ee(l)&&(p=f&&f.length>0?l(this.props):l(d)),o<=0||a<=0||!p||!p.length?null:M.createElement(ct,{className:Me("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),an.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,a=Me(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?o=M.cloneElement(r,jt(jt({},i),{},{className:a})):Ee(r)?o=r(jt(jt({},i),{},{className:a})):o=M.createElement(Sd,na({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(C.Component);Ix(gl,"displayName","CartesianAxis");Ix(gl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ple=["x1","y1","x2","y2","key"],mle=["offset"];function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return oo(e)=="symbol"?e:e+""}function yle(t,e){if(oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(this,arguments)}function rP(t,e){if(t==null)return{};var n=ble(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wle=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return M.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hR(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=rP(e,ple),u=Pe(l,!1);u.offset;var h=rP(u,mle);n=M.createElement("line",Fs({},h,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function xle(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=ln(ln({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return hR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _le(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var u=ln(ln({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return hR(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Sle(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var h=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,d){return f-d});i!==h[0]&&h.unshift(0);var c=h.map(function(f,d){var p=!h[d+1],m=p?i+o-f:h[d+1]-f;if(m<=0)return null;var b=d%e.length;return M.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:m,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Ole(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,d){return f-d});s!==h[0]&&h.unshift(0);var c=h.map(function(f,d){var p=!h[d+1],m=p?s+a-f:h[d+1]-f;if(m<=0)return null;var b=d%r.length;return M.createElement("rect",{key:"react-".concat(d),x:f,y:o,width:m,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Ele=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return wM(Rx(ln(ln(ln({},gl.defaultProps),r),{},{ticks:ei(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},kle=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return wM(Rx(ln(ln(ln({},gl.defaultProps),r),{},{ticks:ei(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Io={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Of(t){var e,n,r,i,s,o,a=jx(),l=Ax(),u=dae(),h=ln(ln({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Io.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Io.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Io.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Io.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Io.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Io.verticalFill,x:Q(t.x)?t.x:u.left,y:Q(t.y)?t.y:u.top,width:Q(t.width)?t.width:u.width,height:Q(t.height)?t.height:u.height}),c=h.x,f=h.y,d=h.width,p=h.height,m=h.syncWithTicks,b=h.horizontalValues,y=h.verticalValues,v=cae(),g=hae();if(!Q(d)||d<=0||!Q(p)||p<=0||!Q(c)||c!==+c||!Q(f)||f!==+f)return null;var O=h.verticalCoordinatesGenerator||Ele,x=h.horizontalCoordinatesGenerator||kle,E=h.horizontalPoints,_=h.verticalPoints;if((!E||!E.length)&&Ee(x)){var S=b&&b.length,k=x({yAxis:g?ln(ln({},g),{},{ticks:S?b:g.ticks}):void 0,width:a,height:l,offset:u},S?!0:m);oi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oo(k),"]")),Array.isArray(k)&&(E=k)}if((!_||!_.length)&&Ee(O)){var P=y&&y.length,$=O({xAxis:v?ln(ln({},v),{},{ticks:P?y:v.ticks}):void 0,width:a,height:l,offset:u},P?!0:m);oi(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oo($),"]")),Array.isArray($)&&(_=$)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(wle,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),M.createElement(xle,Fs({},h,{offset:u,horizontalPoints:E,xAxis:v,yAxis:g})),M.createElement(_le,Fs({},h,{offset:u,verticalPoints:_,xAxis:v,yAxis:g})),M.createElement(Sle,Fs({},h,{horizontalPoints:E})),M.createElement(Ole,Fs({},h,{verticalPoints:_})))}Of.displayName="CartesianGrid";var Ple=["layout","type","stroke","connectNulls","isRange","ref"],Cle=["key"],fR;function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function dR(t,e){if(t==null)return{};var n=$le(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(this,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){Rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mR(r.key),r)}}function jle(t,e,n){return e&&sP(t.prototype,e),n&&sP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ale(t,e,n){return e=np(e),Nle(t,pR()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function Nle(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mle(t)}function Mle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pR=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function Rle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function Rr(t,e,n){return e=mR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mR(t){var e=Ile(t,"string");return Wa(e)=="symbol"?e:e+""}function Ile(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gs=function(t){function e(){var n;Tle(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ale(this,e,[].concat(i)),Rr(n,"state",{isAnimationFinished:!0}),Rr(n,"id",Jc("recharts-area-")),Rr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ee(o)&&o()}),Rr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ee(o)&&o()}),n}return Rle(e,t),jle(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,u=l.dot,h=l.points,c=l.dataKey,f=Pe(this.props,!1),d=Pe(u,!0),p=h.map(function(b,y){var v=Ci(Ci(Ci({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:b.x,cy:b.y,dataKey:c,value:b.value,payload:b.payload,points:h});return e.renderDotItem(u,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return M.createElement(ct,Bs({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,h=r*Math.abs(l-u),c=Ui(o.map(function(f){return f.y||0}));return Q(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ui(s.map(function(f){return f.y||0})),c)),Q(c)?M.createElement("rect",{x:l<u?l:l-h,y:0,width:h,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,h=r*Math.abs(l-u),c=Ui(o.map(function(f){return f.x||0}));return Q(s)&&typeof s=="number"?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(Ui(s.map(function(f){return f.x||0})),c)),Q(c)?M.createElement("rect",{x:0,y:l<u?l:l-h,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,u=a.type,h=a.stroke,c=a.connectNulls,f=a.isRange;a.ref;var d=dR(a,Ple);return M.createElement(ct,{clipPath:s?"url(#clipPath-".concat(o,")"):null},M.createElement(bu,Bs({},Pe(d,!0),{points:r,connectNulls:c,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&M.createElement(bu,Bs({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:r})),h!=="none"&&f&&M.createElement(bu,Bs({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,u=o.isAnimationActive,h=o.animationBegin,c=o.animationDuration,f=o.animationEasing,d=o.animationId,p=this.state,m=p.prevPoints,b=p.prevBaseLine;return M.createElement(vi,{begin:h,duration:c,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t;if(m){var g=m.length/a.length,O=a.map(function(S,k){var P=Math.floor(k*g);if(m[P]){var $=m[P],T=Xn($.x,S.x),R=Xn($.y,S.y);return Ci(Ci({},S),{},{x:T(v),y:R(v)})}return S}),x;if(Q(l)&&typeof l=="number"){var E=Xn(b,l);x=E(v)}else if(je(l)||ul(l)){var _=Xn(b,0);x=_(v)}else x=l.map(function(S,k){var P=Math.floor(k*g);if(b[P]){var $=b[P],T=Xn($.x,S.x),R=Xn($.y,S.y);return Ci(Ci({},S),{},{x:T(v),y:R(v)})}return S});return s.renderAreaStatically(O,x,r,i)}return M.createElement(ct,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(v))),M.createElement(ct,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,u=this.state,h=u.prevPoints,c=u.prevBaseLine,f=u.totalLength;return l&&o&&o.length&&(!h&&f>0||!uc(h,o)||!uc(c,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,u=i.top,h=i.left,c=i.xAxis,f=i.yAxis,d=i.width,p=i.height,m=i.isAnimationActive,b=i.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=a.length===1,g=Me("recharts-area",l),O=c&&c.allowDataOverflow,x=f&&f.allowDataOverflow,E=O||x,_=je(b)?this.id:b,S=(r=Pe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=S.r,P=k===void 0?3:k,$=S.strokeWidth,T=$===void 0?2:$,R=t8(o)?o:{},z=R.clipDot,U=z===void 0?!0:z,W=P*2+T;return M.createElement(ct,{className:g},O||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(_)},M.createElement("rect",{x:O?h:h-d/2,y:x?u:u-p/2,width:O?d:d*2,height:x?p:p*2})),!U&&M.createElement("clipPath",{id:"clipPath-dots-".concat(_)},M.createElement("rect",{x:h-W/2,y:u-W/2,width:d+W,height:p+W}))):null,v?null:this.renderArea(E,_),(o||v)&&this.renderDots(E,U,_),(!m||y)&&Qi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);fR=gs;Rr(gs,"displayName","Area");Rr(gs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Rr(gs,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(Q(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var h=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return a==="dataMin"?c:a==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Rr(gs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,h=t.dataStartIndex,c=t.displayedData,f=t.offset,d=e.layout,p=u&&u.length,m=fR.getBaseValue(e,n,r,i),b=d==="horizontal",y=!1,v=c.map(function(O,x){var E;p?E=u[h+x]:(E=zn(O,l),Array.isArray(E)?y=!0:E=[m,E]);var _=E[1]==null||p&&zn(O,l)==null;return b?{x:FE({axis:r,ticks:s,bandSize:a,entry:O,index:x}),y:_?null:i.scale(E[1]),value:E,payload:O}:{x:_?null:r.scale(E[1]),y:FE({axis:i,ticks:o,bandSize:a,entry:O,index:x}),value:E,payload:O}}),g;return p||y?g=v.map(function(O){var x=Array.isArray(O.value)?O.value[0]:null;return b?{x:O.x,y:x!=null&&O.y!=null?i.scale(x):null}:{x:x!=null?r.scale(x):null,y:O.y}}):g=b?i.scale(m):r.scale(m),Ci({points:v,baseLine:g,layout:d,isRange:y},f)});Rr(gs,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=dR(e,Cle);n=M.createElement(Px,Bs({},s,{key:i,className:r}))}return n});function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yR(r.key),r)}}function zle(t,e,n){return e&&Dle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,n){return e=rp(e),Ble(t,vR()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function Ble(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ule(t)}function Ule(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vR=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function Wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q0(t,e)}function gR(t,e,n){return e=yR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yR(t){var e=Vle(t,"string");return Va(e)=="symbol"?e:e+""}function Vle(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function Hle(t){var e=t.xAxisId,n=jx(),r=Ax(),i=eR(e);return i==null?null:C.createElement(gl,G0({},i,{className:Me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ei(o,!0)}}))}var qs=function(t){function e(){return Lle(this,e),Fle(this,e,arguments)}return Wle(e,t),zle(e,[{key:"render",value:function(){return C.createElement(Hle,this.props)}}])}(C.Component);gR(qs,"displayName","XAxis");gR(qs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xR(r.key),r)}}function Gle(t,e,n){return e&&qle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zle(t,e,n){return e=ip(e),Xle(t,bR()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function Xle(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yle(t)}function Yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function Jle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function wR(t,e,n){return e=xR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xR(t){var e=Qle(t,"string");return Ha(e)=="symbol"?e:e+""}function Qle(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var eue=function(e){var n=e.yAxisId,r=jx(),i=Ax(),s=tR(n);return s==null?null:C.createElement(gl,X0({},s,{className:Me("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ei(a,!0)}}))},Gs=function(t){function e(){return Kle(this,e),Zle(this,e,arguments)}return Jle(e,t),Gle(e,[{key:"render",value:function(){return C.createElement(eue,this.props)}}])}(C.Component);wR(Gs,"displayName","YAxis");wR(Gs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oP(t){return iue(t)||rue(t)||nue(t)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t,e){if(t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iue(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J0=function(e,n,r,i,s){var o=Sr(e,Mx),a=Sr(e,wm),l=[].concat(oP(o),oP(a)),u=Sr(e,_m),h="".concat(i,"Id"),c=i[0],f=n;if(l.length&&(f=l.reduce(function(m,b){if(b.props[h]===r&&Fr(b.props,"extendDomain")&&Q(b.props[c])){var y=b.props[c];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},f)),u.length){var d="".concat(c,"1"),p="".concat(c,"2");f=u.reduce(function(m,b){if(b.props[h]===r&&Fr(b.props,"extendDomain")&&Q(b.props[d])&&Q(b.props[p])){var y=b.props[d],v=b.props[p];return[Math.min(m[0],y,v),Math.max(m[1],y,v)]}return m},f)}return s&&s.length&&(f=s.reduce(function(m,b){return Q(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},f)),f},_R={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,c,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new i(h,c||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,c;if(this._eventsCount===0)return u;for(c in h=this._events)e.call(h,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,d=c.length,p=new Array(d);f<d;f++)p[f]=c[f].fn;return p},a.prototype.listenerCount=function(u){var h=n?n+u:u,c=this._events[h];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,h,c,f,d,p){var m=n?n+u:u;if(!this._events[m])return!1;var b=this._events[m],y=arguments.length,v,g;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,c),!0;case 4:return b.fn.call(b.context,h,c,f),!0;case 5:return b.fn.call(b.context,h,c,f,d),!0;case 6:return b.fn.call(b.context,h,c,f,d,p),!0}for(g=1,v=new Array(y-1);g<y;g++)v[g-1]=arguments[g];b.fn.apply(b.context,v)}else{var O=b.length,x;for(g=0;g<O;g++)switch(b[g].once&&this.removeListener(u,b[g].fn,void 0,!0),y){case 1:b[g].fn.call(b[g].context);break;case 2:b[g].fn.call(b[g].context,h);break;case 3:b[g].fn.call(b[g].context,h,c);break;case 4:b[g].fn.call(b[g].context,h,c,f);break;default:if(!v)for(x=1,v=new Array(y-1);x<y;x++)v[x-1]=arguments[x];b[g].fn.apply(b[g].context,v)}}return!0},a.prototype.on=function(u,h,c){return s(this,u,h,c,!1)},a.prototype.once=function(u,h,c){return s(this,u,h,c,!0)},a.prototype.removeListener=function(u,h,c,f){var d=n?n+u:u;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!f||p.once)&&(!c||p.context===c)&&o(this,d);else{for(var m=0,b=[],y=p.length;m<y;m++)(p[m].fn!==h||f&&!p[m].once||c&&p[m].context!==c)&&b.push(p[m]);b.length?this._events[d]=b.length===1?b[0]:b:o(this,d)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(_R);var sue=_R.exports;const oue=We(sue);var qv=new oue,Gv="recharts.syncMouseEvents";function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function uue(t,e,n){return e&&lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zv(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=cue(t,"string");return jc(e)=="symbol"?e:e+""}function cue(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hue=function(){function t(){aue(this,t),Zv(this,"activeIndex",0),Zv(this,"coordinateList",[]),Zv(this,"layout","horizontal")}return uue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,h=n.offset,c=h===void 0?null:h,f=n.mouseHandlerCallback,d=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=s+l+u,f=o+this.offset.top+a/2+h;this.mouseHandlerCallback({pageX:c,pageY:f})}}}])}();function fue(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Q(r)&&Q(i))return!0}return!1}function due(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Xt(e,n,r,i),a=Xt(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function pue(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,h=e.outerRadius,c=e.angle,f=Xt(a,l,u,c),d=Xt(a,l,h,c);r=f.x,i=f.y,s=d.x,o=d.y}else return OR(e);return[{x:r,y:i},{x:s,y:o}]}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=gue(t,"string");return Ac(e)=="symbol"?e:e+""}function gue(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,h=t.tooltipAxisBandSize,c=t.layout,f=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var p,m=bu;if(f==="ScatterChart")p=o,m=_ie;else if(f==="BarChart")p=due(c,o,l,h),m=kx;else if(c==="radial"){var b=OR(o),y=b.cx,v=b.cy,g=b.radius,O=b.startAngle,x=b.endAngle;p={cx:y,cy:v,startAngle:O,endAngle:x,innerRadius:g,outerRadius:g},m=EM}else p={points:pue(c,o,l)},m=bu;var E=Gh(Gh(Gh(Gh({stroke:"#ccc",pointerEvents:"none"},l),p),Pe(d,!1)),{},{payload:a,payloadIndex:u,className:Me("recharts-tooltip-cursor",d.className)});return C.isValidElement(d)?C.cloneElement(d,E):C.createElement(m,E)}var bue=["item"],wue=["children","className","width","height","style","compact","title","desc"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(this,arguments)}function lP(t,e){return Sue(t)||_ue(t,e)||kR(t,e)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Sue(t){if(Array.isArray(t))return t}function uP(t,e){if(t==null)return{};var n=Oue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PR(r.key),r)}}function Pue(t,e,n){return e&&kue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cue(t,e,n){return e=sp(e),$ue(t,ER()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function $ue(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tue(t)}function Tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function jue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q0(t,e)}function qa(t){return Mue(t)||Nue(t)||kR(t)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kR(t,e){if(t){if(typeof t=="string")return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}}function Nue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mue(t){if(Array.isArray(t))return eb(t)}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=PR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PR(t){var e=Rue(t,"string");return Ka(e)=="symbol"?e:e+""}function Rue(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iue={xAxis:["bottom","top"],yAxis:["left","right"]},Lue={width:"100%",height:"100%"},CR={x:0,y:0};function Zh(t){return t}var Due=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},zue=function(e,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return q(q(q({},i),Xt(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=i.angle;return q(q(q({},i),Xt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return CR},Sm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(qa(a),qa(u)):a},[]);return o.length>0?o:e&&e.length&&Q(i)&&Q(s)?e.slice(i,s+1):[]};function $R(t){return t==="number"?[0,"auto"]:void 0}var tb=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=Sm(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var h,c=(h=u.props.data)!==null&&h!==void 0?h:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var d=c===void 0?a:c;f=ad(d,o.dataKey,i)}else f=c&&c[r]||a[r];return f?[].concat(qa(l),[_M(u,f)]):l},[])},hP=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=Due(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,h=ite(o,a,u,l);if(h>=0&&u){var c=u[h]&&u[h].value,f=tb(e,n,h,c),d=zue(r,a,h,s);return{activeTooltipIndex:h,activeLabel:c,activePayload:f,activeCoordinate:d}}return null},Fue=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,c=e.children,f=e.stackOffset,d=bM(h,s);return r.reduce(function(p,m){var b,y=m.type.defaultProps!==void 0?q(q({},m.type.defaultProps),m.props):m.props,v=y.type,g=y.dataKey,O=y.allowDataOverflow,x=y.allowDuplicatedCategory,E=y.scale,_=y.ticks,S=y.includeHidden,k=y[o];if(p[k])return p;var P=Sm(e.data,{graphicalItems:i.filter(function(I){var V,te=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o];return te===k}),dataStartIndex:l,dataEndIndex:u}),$=P.length,T,R,z;fue(y.domain,O,v)&&(T=w0(y.domain,null,O),d&&(v==="number"||E!=="auto")&&(z=yu(P,g,"category")));var U=$R(v);if(!T||T.length===0){var W,B=(W=y.domain)!==null&&W!==void 0?W:U;if(g){if(T=yu(P,g,v),v==="category"&&d){var N=HV(T);x&&N?(R=T,T=Kd(0,$)):x||(T=VE(B,T,m).reduce(function(I,V){return I.indexOf(V)>=0?I:[].concat(qa(I),[V])},[]))}else if(v==="category")x?T=T.filter(function(I){return I!==""&&!je(I)}):T=VE(B,T,m).reduce(function(I,V){return I.indexOf(V)>=0||V===""||je(V)?I:[].concat(qa(I),[V])},[]);else if(v==="number"){var L=ute(P,i.filter(function(I){var V,te,ie=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o],de="hide"in I.props?I.props.hide:(te=I.type.defaultProps)===null||te===void 0?void 0:te.hide;return ie===k&&(S||!de)}),g,s,h);L&&(T=L)}d&&(v==="number"||E!=="auto")&&(z=yu(P,g,"category"))}else d?T=Kd(0,$):a&&a[k]&&a[k].hasStack&&v==="number"?T=f==="expand"?[0,1]:xM(a[k].stackGroups,l,u):T=yM(P,i.filter(function(I){var V=o in I.props?I.props[o]:I.type.defaultProps[o],te="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return V===k&&(S||!te)}),v,h,!0);if(v==="number")T=J0(c,T,k,s,_),B&&(T=w0(B,T,O));else if(v==="category"&&B){var F=B,j=T.every(function(I){return F.indexOf(I)>=0});j&&(T=F)}}return q(q({},p),{},ye({},k,q(q({},y),{},{axisType:s,domain:T,categoricalDomain:z,duplicateDomain:R,originalDomain:(b=y.domain)!==null&&b!==void 0?b:U,isCategorical:d,layout:h})))},{})},Bue=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.layout,c=e.children,f=Sm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),d=f.length,p=bM(h,s),m=-1;return r.reduce(function(b,y){var v=y.type.defaultProps!==void 0?q(q({},y.type.defaultProps),y.props):y.props,g=v[o],O=$R("number");if(!b[g]){m++;var x;return p?x=Kd(0,d):a&&a[g]&&a[g].hasStack?(x=xM(a[g].stackGroups,l,u),x=J0(c,x,g,s)):(x=w0(O,yM(f,r.filter(function(E){var _,S,k=o in E.props?E.props[o]:(_=E.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in E.props?E.props.hide:(S=E.type.defaultProps)===null||S===void 0?void 0:S.hide;return k===g&&!P}),"number",h),i.defaultProps.allowDataOverflow),x=J0(c,x,g,s)),q(q({},b),{},ye({},g,q(q({axisType:s},i.defaultProps),{},{hide:!0,orientation:er(Iue,"".concat(s,".").concat(m%2),null),domain:x,originalDomain:O,isCategorical:p,layout:h})))}return b},{})},Uue=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,h=e.children,c="".concat(i,"Id"),f=Sr(h,s),d={};return f&&f.length?d=Fue(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(d=Bue(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),d},Wue=function(e){var n=Ii(e),r=ei(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Qw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ld(n,r)}},fP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Nn(n,La),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Vue=function(e){return!e||!e.length?!1:e.some(function(n){var r=si(n&&n.type);return r&&r.indexOf("Bar")>=0})},dP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hue=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,h=r.height,c=r.children,f=r.margin||{},d=Nn(c,La),p=Nn(c,ai),m=Object.keys(l).reduce(function(x,E){var _=l[E],S=_.orientation;return!_.mirror&&!_.hide?q(q({},x),{},ye({},S,x[S]+_.width)):x},{left:f.left||0,right:f.right||0}),b=Object.keys(o).reduce(function(x,E){var _=o[E],S=_.orientation;return!_.mirror&&!_.hide?q(q({},x),{},ye({},S,er(x,"".concat(S))+_.height)):x},{top:f.top||0,bottom:f.bottom||0}),y=q(q({},b),m),v=y.bottom;d&&(y.bottom+=d.props.height||La.defaultProps.height),p&&n&&(y=ate(y,i,r,n));var g=u-y.left-y.right,O=h-y.top-y.bottom;return q(q({brushBottom:v},y),{},{width:Math.max(g,0),height:Math.max(O,0)})},Kue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,h=e.formatAxisMap,c=e.defaultProps,f=function(y,v){var g=v.graphicalItems,O=v.stackGroups,x=v.offset,E=v.updateId,_=v.dataStartIndex,S=v.dataEndIndex,k=y.barSize,P=y.layout,$=y.barGap,T=y.barCategoryGap,R=y.maxBarSize,z=dP(P),U=z.numericAxisName,W=z.cateAxisName,B=Vue(g),N=[];return g.forEach(function(L,F){var j=Sm(y.data,{graphicalItems:[L],dataStartIndex:_,dataEndIndex:S}),I=L.type.defaultProps!==void 0?q(q({},L.type.defaultProps),L.props):L.props,V=I.dataKey,te=I.maxBarSize,ie=I["".concat(U,"Id")],de=I["".concat(W,"Id")],$e={},ce=l.reduce(function(en,St){var or=v["".concat(St.axisType,"Map")],Ke=I["".concat(St.axisType,"Id")];or&&or[Ke]||St.axisType==="zAxis"||so();var Tt=or[Ke];return q(q({},en),{},ye(ye({},St.axisType,Tt),"".concat(St.axisType,"Ticks"),ei(Tt)))},$e),Z=ce[W],re=ce["".concat(W,"Ticks")],ee=O&&O[ie]&&O[ie].hasStack&&xte(L,O[ie].stackGroups),K=si(L.type).indexOf("Bar")>=0,be=Ld(Z,re),he=[],ge=B&&ste({barSize:k,stackGroups:O,totalSize:Kue(ce,W)});if(K){var ae,Re,Se=je(te)?R:te,Ae=(ae=(Re=Ld(Z,re,!0))!==null&&Re!==void 0?Re:Se)!==null&&ae!==void 0?ae:0;he=ote({barGap:$,barCategoryGap:T,bandSize:Ae!==be?Ae:be,sizeList:ge[de],maxBarSize:Se}),Ae!==be&&(he=he.map(function(en){return q(q({},en),{},{position:q(q({},en.position),{},{offset:en.position.offset-Ae/2})})}))}var Ge=L&&L.type&&L.type.getComposedData;Ge&&N.push({props:q(q({},Ge(q(q({},ce),{},{displayedData:j,props:y,dataKey:V,item:L,bandSize:be,barPosition:he,offset:x,stackedData:ee,layout:P,dataStartIndex:_,dataEndIndex:S}))),{},ye(ye(ye({key:L.key||"item-".concat(F)},U,ce[U]),W,ce[W]),"animationId",E)),childIndex:i8(L,y.children),item:L})}),N},d=function(y,v){var g=y.props,O=y.dataStartIndex,x=y.dataEndIndex,E=y.updateId;if(!LS({props:g}))return null;var _=g.children,S=g.layout,k=g.stackOffset,P=g.data,$=g.reverseStackOrder,T=dP(S),R=T.numericAxisName,z=T.cateAxisName,U=Sr(_,r),W=yte(P,U,"".concat(R,"Id"),"".concat(z,"Id"),k,$),B=l.reduce(function(I,V){var te="".concat(V.axisType,"Map");return q(q({},I),{},ye({},te,Uue(g,q(q({},V),{},{graphicalItems:U,stackGroups:V.axisType===R&&W,dataStartIndex:O,dataEndIndex:x}))))},{}),N=Hue(q(q({},B),{},{props:g,graphicalItems:U}),v==null?void 0:v.legendBBox);Object.keys(B).forEach(function(I){B[I]=h(g,B[I],N,I.replace("Map",""),n)});var L=B["".concat(z,"Map")],F=Wue(L),j=f(g,q(q({},B),{},{dataStartIndex:O,dataEndIndex:x,updateId:E,graphicalItems:U,stackGroups:W,offset:N}));return q(q({formattedGraphicalItems:j,graphicalItems:U,offset:N,stackGroups:W},F),B)},p=function(b){function y(v){var g,O,x;return Eue(this,y),x=Cue(this,y,[v]),ye(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(x,"accessibilityManager",new hue),ye(x,"handleLegendBBoxUpdate",function(E){if(E){var _=x.state,S=_.dataStartIndex,k=_.dataEndIndex,P=_.updateId;x.setState(q({legendBBox:E},d({props:x.props,dataStartIndex:S,dataEndIndex:k,updateId:P},q(q({},x.state),{},{legendBBox:E}))))}}),ye(x,"handleReceiveSyncEvent",function(E,_,S){if(x.props.syncId===E){if(S===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(_)}}),ye(x,"handleBrushChange",function(E){var _=E.startIndex,S=E.endIndex;if(_!==x.state.dataStartIndex||S!==x.state.dataEndIndex){var k=x.state.updateId;x.setState(function(){return q({dataStartIndex:_,dataEndIndex:S},d({props:x.props,dataStartIndex:_,dataEndIndex:S,updateId:k},x.state))}),x.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),ye(x,"handleMouseEnter",function(E){var _=x.getMouseInfo(E);if(_){var S=q(q({},_),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var k=x.props.onMouseEnter;Ee(k)&&k(S,E)}}),ye(x,"triggeredAfterMouseMove",function(E){var _=x.getMouseInfo(E),S=_?q(q({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var k=x.props.onMouseMove;Ee(k)&&k(S,E)}),ye(x,"handleItemMouseEnter",function(E){x.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ye(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ye(x,"handleMouseMove",function(E){E.persist(),x.throttleTriggeredAfterMouseMove(E)}),ye(x,"handleMouseLeave",function(E){x.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var S=x.props.onMouseLeave;Ee(S)&&S(_,E)}),ye(x,"handleOuterEvent",function(E){var _=r8(E),S=er(x.props,"".concat(_));if(_&&Ee(S)){var k,P;/.*touch.*/i.test(_)?P=x.getMouseInfo(E.changedTouches[0]):P=x.getMouseInfo(E),S((k=P)!==null&&k!==void 0?k:{},E)}}),ye(x,"handleClick",function(E){var _=x.getMouseInfo(E);if(_){var S=q(q({},_),{},{isTooltipActive:!0});x.setState(S),x.triggerSyncEvent(S);var k=x.props.onClick;Ee(k)&&k(S,E)}}),ye(x,"handleMouseDown",function(E){var _=x.props.onMouseDown;if(Ee(_)){var S=x.getMouseInfo(E);_(S,E)}}),ye(x,"handleMouseUp",function(E){var _=x.props.onMouseUp;if(Ee(_)){var S=x.getMouseInfo(E);_(S,E)}}),ye(x,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ye(x,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseDown(E.changedTouches[0])}),ye(x,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&x.handleMouseUp(E.changedTouches[0])}),ye(x,"handleDoubleClick",function(E){var _=x.props.onDoubleClick;if(Ee(_)){var S=x.getMouseInfo(E);_(S,E)}}),ye(x,"handleContextMenu",function(E){var _=x.props.onContextMenu;if(Ee(_)){var S=x.getMouseInfo(E);_(S,E)}}),ye(x,"triggerSyncEvent",function(E){x.props.syncId!==void 0&&qv.emit(Gv,x.props.syncId,E,x.eventEmitterSymbol)}),ye(x,"applySyncEvent",function(E){var _=x.props,S=_.layout,k=_.syncMethod,P=x.state.updateId,$=E.dataStartIndex,T=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)x.setState(q({dataStartIndex:$,dataEndIndex:T},d({props:x.props,dataStartIndex:$,dataEndIndex:T,updateId:P},x.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,z=E.chartY,U=E.activeTooltipIndex,W=x.state,B=W.offset,N=W.tooltipTicks;if(!B)return;if(typeof k=="function")U=k(N,E);else if(k==="value"){U=-1;for(var L=0;L<N.length;L++)if(N[L].value===E.activeLabel){U=L;break}}var F=q(q({},B),{},{x:B.left,y:B.top}),j=Math.min(R,F.x+F.width),I=Math.min(z,F.y+F.height),V=N[U]&&N[U].value,te=tb(x.state,x.props.data,U),ie=N[U]?{x:S==="horizontal"?N[U].coordinate:j,y:S==="horizontal"?I:N[U].coordinate}:CR;x.setState(q(q({},E),{},{activeLabel:V,activeCoordinate:ie,activePayload:te,activeTooltipIndex:U}))}else x.setState(E)}),ye(x,"renderCursor",function(E){var _,S=x.state,k=S.isTooltipActive,P=S.activeCoordinate,$=S.activePayload,T=S.offset,R=S.activeTooltipIndex,z=S.tooltipAxisBandSize,U=x.getTooltipEventType(),W=(_=E.props.active)!==null&&_!==void 0?_:k,B=x.props.layout,N=E.key||"_recharts-cursor";return M.createElement(yue,{key:N,activeCoordinate:P,activePayload:$,activeTooltipIndex:R,chartName:n,element:E,isActive:W,layout:B,offset:T,tooltipAxisBandSize:z,tooltipEventType:U})}),ye(x,"renderPolarAxis",function(E,_,S){var k=er(E,"type.axisType"),P=er(x.state,"".concat(k,"Map")),$=E.type.defaultProps,T=$!==void 0?q(q({},$),E.props):E.props,R=P&&P[T["".concat(k,"Id")]];return C.cloneElement(E,q(q({},R),{},{className:Me(k,R.className),key:E.key||"".concat(_,"-").concat(S),ticks:ei(R,!0)}))}),ye(x,"renderPolarGrid",function(E){var _=E.props,S=_.radialLines,k=_.polarAngles,P=_.polarRadius,$=x.state,T=$.radiusAxisMap,R=$.angleAxisMap,z=Ii(T),U=Ii(R),W=U.cx,B=U.cy,N=U.innerRadius,L=U.outerRadius;return C.cloneElement(E,{polarAngles:Array.isArray(k)?k:ei(U,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(P)?P:ei(z,!0).map(function(F){return F.coordinate}),cx:W,cy:B,innerRadius:N,outerRadius:L,key:E.key||"polar-grid",radialLines:S})}),ye(x,"renderLegend",function(){var E=x.state.formattedGraphicalItems,_=x.props,S=_.children,k=_.width,P=_.height,$=x.props.margin||{},T=k-($.left||0)-($.right||0),R=vM({children:S,formattedGraphicalItems:E,legendWidth:T,legendContent:u});if(!R)return null;var z=R.item,U=uP(R,bue);return C.cloneElement(z,q(q({},U),{},{chartWidth:k,chartHeight:P,margin:$,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ye(x,"renderTooltip",function(){var E,_=x.props,S=_.children,k=_.accessibilityLayer,P=Nn(S,qn);if(!P)return null;var $=x.state,T=$.isTooltipActive,R=$.activeCoordinate,z=$.activePayload,U=$.activeLabel,W=$.offset,B=(E=P.props.active)!==null&&E!==void 0?E:T;return C.cloneElement(P,{viewBox:q(q({},W),{},{x:W.left,y:W.top}),active:B,label:U,payload:B?z:[],coordinate:R,accessibilityLayer:k})}),ye(x,"renderBrush",function(E){var _=x.props,S=_.margin,k=_.data,P=x.state,$=P.offset,T=P.dataStartIndex,R=P.dataEndIndex,z=P.updateId;return C.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Vh(x.handleBrushChange,E.props.onChange),data:k,x:Q(E.props.x)?E.props.x:$.left,y:Q(E.props.y)?E.props.y:$.top+$.height+$.brushBottom-(S.bottom||0),width:Q(E.props.width)?E.props.width:$.width,startIndex:T,endIndex:R,updateId:"brush-".concat(z)})}),ye(x,"renderReferenceElement",function(E,_,S){if(!E)return null;var k=x,P=k.clipPathId,$=x.state,T=$.xAxisMap,R=$.yAxisMap,z=$.offset,U=E.type.defaultProps||{},W=E.props,B=W.xAxisId,N=B===void 0?U.xAxisId:B,L=W.yAxisId,F=L===void 0?U.yAxisId:L;return C.cloneElement(E,{key:E.key||"".concat(_,"-").concat(S),xAxis:T[N],yAxis:R[F],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:P})}),ye(x,"renderActivePoints",function(E){var _=E.item,S=E.activePoint,k=E.basePoint,P=E.childIndex,$=E.isRange,T=[],R=_.props.key,z=_.item.type.defaultProps!==void 0?q(q({},_.item.type.defaultProps),_.item.props):_.item.props,U=z.activeDot,W=z.dataKey,B=q(q({index:P,dataKey:W,cx:S.x,cy:S.y,r:4,fill:Ex(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Pe(U,!1)),ld(U));return T.push(y.renderActiveDot(U,B,"".concat(R,"-activePoint-").concat(P))),k?T.push(y.renderActiveDot(U,q(q({},B),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(P))):$&&T.push(null),T}),ye(x,"renderGraphicChild",function(E,_,S){var k=x.filterFormatItem(E,_,S);if(!k)return null;var P=x.getTooltipEventType(),$=x.state,T=$.isTooltipActive,R=$.tooltipAxis,z=$.activeTooltipIndex,U=$.activeLabel,W=x.props.children,B=Nn(W,qn),N=k.props,L=N.points,F=N.isRange,j=N.baseLine,I=k.item.type.defaultProps!==void 0?q(q({},k.item.type.defaultProps),k.item.props):k.item.props,V=I.activeDot,te=I.hide,ie=I.activeBar,de=I.activeShape,$e=!!(!te&&T&&B&&(V||ie||de)),ce={};P!=="axis"&&B&&B.props.trigger==="click"?ce={onClick:Vh(x.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(ce={onMouseLeave:Vh(x.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Vh(x.handleItemMouseEnter,E.props.onMouseEnter)});var Z=C.cloneElement(E,q(q({},k.props),ce));function re(St){return typeof R.dataKey=="function"?R.dataKey(St.payload):null}if($e)if(z>=0){var ee,K;if(R.dataKey&&!R.allowDuplicatedCategory){var be=typeof R.dataKey=="function"?re:"payload.".concat(R.dataKey.toString());ee=ad(L,be,U),K=F&&j&&ad(j,be,U)}else ee=L==null?void 0:L[z],K=F&&j&&j[z];if(de||ie){var he=E.props.activeIndex!==void 0?E.props.activeIndex:z;return[C.cloneElement(E,q(q(q({},k.props),ce),{},{activeIndex:he})),null,null]}if(!je(ee))return[Z].concat(qa(x.renderActivePoints({item:k,activePoint:ee,basePoint:K,childIndex:z,isRange:F})))}else{var ge,ae=(ge=x.getItemByXY(x.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:Z},Re=ae.graphicalItem,Se=Re.item,Ae=Se===void 0?E:Se,Ge=Re.childIndex,en=q(q(q({},k.props),ce),{},{activeIndex:Ge});return[C.cloneElement(Ae,en),null,null]}return F?[Z,null,null]:[Z,null]}),ye(x,"renderCustomized",function(E,_,S){return C.cloneElement(E,q(q({key:"recharts-customized-".concat(S)},x.props),x.state))}),ye(x,"renderMap",{CartesianGrid:{handler:Zh,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Zh},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Zh},YAxis:{handler:Zh},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((g=v.id)!==null&&g!==void 0?g:Jc("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=mN(x.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),x.state={},x}return jue(y,b),Pue(y,[{key:"componentDidMount",value:function(){var g,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,O=g.children,x=g.data,E=g.height,_=g.layout,S=Nn(O,qn);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,$=tb(this.state,x,k,P),T=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+E)/2,z=_==="horizontal",U=z?{x:T,y:R}:{y:T,x:R},W=this.state.formattedGraphicalItems.find(function(N){var L=N.item;return L.type.name==="Scatter"});W&&(U=q(q({},U),W.props.points[k].tooltipPosition),$=W.props.points[k].tooltipPayload);var B={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:P,activePayload:$,activeCoordinate:U};this.setState(B),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var x,E;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(g){Ry([Nn(g.children,qn)],[Nn(this.props.children,qn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=Nn(this.props.children,qn);if(g&&typeof g.props.shared=="boolean"){var O=g.props.shared?"axis":"item";return a.indexOf(O)>=0?O:s}return s}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var O=this.container,x=O.getBoundingClientRect(),E=TX(x),_={chartX:Math.round(g.pageX-E.left),chartY:Math.round(g.pageY-E.top)},S=x.width/O.offsetWidth||1,k=this.inRange(_.chartX,_.chartY,S);if(!k)return null;var P=this.state,$=P.xAxisMap,T=P.yAxisMap,R=this.getTooltipEventType(),z=hP(this.state,this.props.data,this.props.layout,k);if(R!=="axis"&&$&&T){var U=Ii($).scale,W=Ii(T).scale,B=U&&U.invert?U.invert(_.chartX):null,N=W&&W.invert?W.invert(_.chartY):null;return q(q({},_),{},{xValue:B,yValue:N},z)}return z?q(q({},_),z):null}},{key:"inRange",value:function(g,O){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,_=g/x,S=O/x;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,P=_>=k.left&&_<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return P?{x:_,y:S}:null}var $=this.state,T=$.angleAxisMap,R=$.radiusAxisMap;if(T&&R){var z=Ii(T);return qE({x:_,y:S},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,O=this.getTooltipEventType(),x=Nn(g,qn),E={};x&&O==="axis"&&(x.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=ld(this.props,this.handleOuterEvent);return q(q({},_),E)}},{key:"addListener",value:function(){qv.on(Gv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qv.removeListener(Gv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,O,x){for(var E=this.state.formattedGraphicalItems,_=0,S=E.length;_<S;_++){var k=E[_];if(k.item===g||k.props.key===g.key||O===si(k.item.type)&&x===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,O=this.state.offset,x=O.left,E=O.top,_=O.height,S=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:g},M.createElement("rect",{x,y:E,height:_,width:S})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(O,x){var E=lP(x,2),_=E[0],S=E[1];return q(q({},O),{},ye({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(O,x){var E=lP(x,2),_=E[0],S=E[1];return q(q({},O),{},ye({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[g])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(g){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[g])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(g){var O=this.state,x=O.formattedGraphicalItems,E=O.activeItem;if(x&&x.length)for(var _=0,S=x.length;_<S;_++){var k=x[_],P=k.props,$=k.item,T=$.type.defaultProps!==void 0?q(q({},$.type.defaultProps),$.props):$.props,R=si($.type);if(R==="Bar"){var z=(P.data||[]).find(function(N){return fie(g,N)});if(z)return{graphicalItem:k,payload:z}}else if(R==="RadialBar"){var U=(P.data||[]).find(function(N){return qE(g,N)});if(U)return{graphicalItem:k,payload:U}}else if(vm(k,E)||gm(k,E)||kc(k,E)){var W=mse({graphicalItem:k,activeTooltipItem:E,itemData:T.data}),B=T.activeIndex===void 0?W:T.activeIndex;return{graphicalItem:q(q({},k),{},{childIndex:B}),payload:kc(k,E)?T.data[W]:k.props.data[W]}}}return null}},{key:"render",value:function(){var g=this;if(!LS(this))return null;var O=this.props,x=O.children,E=O.className,_=O.width,S=O.height,k=O.style,P=O.compact,$=O.title,T=O.desc,R=uP(O,wue),z=Pe(R,!1);if(P)return M.createElement(Hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Ly,ra({},z,{width:_,height:S,title:$,desc:T}),this.renderClipPath(),zS(x,this.renderMap)));if(this.props.accessibilityLayer){var U,W;z.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,z.role=(W=this.props.role)!==null&&W!==void 0?W:"application",z.onKeyDown=function(N){g.accessibilityManager.keyboardEvent(N)},z.onFocus=function(){g.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(Hk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",ra({className:Me("recharts-wrapper",E),style:q({position:"relative",cursor:"default",width:_,height:S},k)},B,{ref:function(L){g.container=L}}),M.createElement(Ly,ra({},z,{width:_,height:S,title:$,desc:T,style:Lue}),this.renderClipPath(),zS(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);ye(p,"displayName",n),ye(p,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),ye(p,"getDerivedStateFromProps",function(b,y){var v=b.dataKey,g=b.data,O=b.children,x=b.width,E=b.height,_=b.layout,S=b.stackOffset,k=b.margin,P=y.dataStartIndex,$=y.dataEndIndex;if(y.updateId===void 0){var T=fP(b);return q(q(q({},T),{},{updateId:0},d(q(q({props:b},T),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:g,prevWidth:x,prevHeight:E,prevLayout:_,prevStackOffset:S,prevMargin:k,prevChildren:O})}if(v!==y.prevDataKey||g!==y.prevData||x!==y.prevWidth||E!==y.prevHeight||_!==y.prevLayout||S!==y.prevStackOffset||!da(k,y.prevMargin)){var R=fP(b),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=q(q({},hP(y,g,_)),{},{updateId:y.updateId+1}),W=q(q(q({},R),z),U);return q(q(q({},W),d(q({props:b},W),y)),{},{prevDataKey:v,prevData:g,prevWidth:x,prevHeight:E,prevLayout:_,prevStackOffset:S,prevMargin:k,prevChildren:O})}if(!Ry(O,y.prevChildren)){var B,N,L,F,j=Nn(O,La),I=j&&(B=(N=j.props)===null||N===void 0?void 0:N.startIndex)!==null&&B!==void 0?B:P,V=j&&(L=(F=j.props)===null||F===void 0?void 0:F.endIndex)!==null&&L!==void 0?L:$,te=I!==P||V!==$,ie=!je(g),de=ie&&!te?y.updateId:y.updateId+1;return q(q({updateId:de},d(q(q({props:b},y),{},{updateId:de,dataStartIndex:I,dataEndIndex:V}),y)),{},{prevChildren:O,dataStartIndex:I,dataEndIndex:V})}return null}),ye(p,"renderActiveDot",function(b,y,v){var g;return C.isValidElement(b)?g=C.cloneElement(b,y):Ee(b)?g=b(y):g=M.createElement(Px,y),M.createElement(ct,{className:"recharts-active-dot",key:v},g)});var m=C.forwardRef(function(y,v){return M.createElement(p,ra({},y,{ref:v}))});return m.displayName=p.displayName,m},pP=TR({chartName:"BarChart",GraphicalChild:rs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qs},{axisType:"yAxis",AxisComp:Gs}],formatAxisMap:KM}),que=TR({chartName:"AreaChart",GraphicalChild:gs,axisComponents:[{axisType:"xAxis",AxisComp:qs},{axisType:"yAxis",AxisComp:Gs}],formatAxisMap:KM});function Gue(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),{t:i}=bi(),{user:s}=Ip();C.useEffect(()=>{(async()=>{if(!s)return;r(!0);const{data:p,error:m}=await yt.from("trades").select("*").eq("user_id",s.id).order("date",{ascending:!0});m&&console.error(m),e((p??[]).map(b=>({...b,date:b.date}))),r(!1)})()},[s==null?void 0:s.id]);const o=C.useMemo(()=>s3(t),[t]),a=C.useMemo(()=>t.reduce((d,p)=>d+(eu(p)??0),0),[t]),l=C.useMemo(()=>t.filter(d=>eu(d)!=null).length,[t]),u=C.useMemo(()=>l?a/l:0,[a,l]),h=C.useMemo(()=>t.reduce((d,p)=>d+(od(p)??0),0),[t]),c=C.useMemo(()=>{const d=new Map;for(const p of t){const m=eu(p);m!=null&&d.set(p.symbol,(d.get(p.symbol)||0)+m)}return Array.from(d.entries()).map(([p,m])=>({symbol:p,value:m}))},[t]),f=C.useMemo(()=>{const d=new Map;for(const p of t){const m=eu(p);if(m==null)continue;const b=new Date(p.date).toLocaleDateString();d.set(b,(d.get(b)||0)+m)}return Array.from(d.entries()).sort((p,m)=>new Date(p[0]).getTime()-new Date(m[0]).getTime()).map(([p,m])=>({date:p,value:m}))},[t]);return w.jsxs("div",{className:"space-y-6",children:[w.jsx("h1",{className:"text-xl font-semibold",children:i("nav.stats")}),n?w.jsx("div",{className:"text-gray-400",children:i("trades.loading")}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"text-gray-400 text-sm",children:"Net PnL ($)"}),w.jsx("div",{className:"text-2xl font-bold",children:a.toFixed(2)})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"text-gray-400 text-sm",children:"Closed Trades (PnL)"}),w.jsx("div",{className:"text-2xl font-bold",children:l})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"text-gray-400 text-sm",children:"Avg PnL / Trade ($)"}),w.jsx("div",{className:"text-2xl font-bold",children:u.toFixed(2)})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"text-gray-400 text-sm",children:"Overall R (sum)"}),w.jsxs("div",{className:"text-2xl font-bold",children:[h.toFixed(2),"R"]})]})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"mb-2 font-semibold",children:"Cumulative PnL"}),w.jsx("div",{className:"h-64",children:w.jsx(Av,{width:"100%",height:"100%",children:w.jsxs(que,{data:o.equity,children:[w.jsx(Of,{strokeDasharray:"3 3",stroke:"#374151"}),w.jsx(qs,{dataKey:"date",stroke:"#9CA3AF"}),w.jsx(Gs,{stroke:"#9CA3AF"}),w.jsx(qn,{contentStyle:{background:"#111827",border:"1px solid #374151"}}),w.jsx(ai,{}),w.jsx(gs,{type:"monotone",dataKey:"value",stroke:"#34D399",fill:"#065F46",name:"PnL ($)"})]})})})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"mb-2 font-semibold",children:"PnL by Symbol ($)"}),w.jsx("div",{className:"h-64",children:w.jsx(Av,{width:"100%",height:"100%",children:w.jsxs(pP,{data:c,children:[w.jsx(Of,{strokeDasharray:"3 3",stroke:"#374151"}),w.jsx(qs,{dataKey:"symbol",stroke:"#9CA3AF"}),w.jsx(Gs,{stroke:"#9CA3AF"}),w.jsx(qn,{contentStyle:{background:"#111827",border:"1px solid #374151"}}),w.jsx(ai,{}),w.jsx(rs,{dataKey:"value",fill:"#60A5FA",name:"PnL"})]})})})]}),w.jsxs("div",{className:"bg-gray-800 rounded p-4",children:[w.jsx("div",{className:"mb-2 font-semibold",children:"PnL by Day ($)"}),w.jsx("div",{className:"h-64",children:w.jsx(Av,{width:"100%",height:"100%",children:w.jsxs(pP,{data:f,children:[w.jsx(Of,{strokeDasharray:"3 3",stroke:"#374151"}),w.jsx(qs,{dataKey:"date",stroke:"#9CA3AF"}),w.jsx(Gs,{stroke:"#9CA3AF"}),w.jsx(qn,{contentStyle:{background:"#111827",border:"1px solid #374151"}}),w.jsx(ai,{}),w.jsx(rs,{dataKey:"value",fill:"#F472B6",name:"PnL"})]})})})]})]})]})]})}function Zue({candles:t,forecast:e,levels:n,fibLevels:r,keyLevels:i,onSavePng:s}){const o=C.useRef(null),a=C.useRef(null),l=C.useRef(null),u=C.useRef(null),h=C.useRef(null),[c,f]=C.useState(!1),d=C.useRef([]);C.useEffect(()=>{let m=!1;return(async()=>{if(!o.current)return;const b=await tl(()=>Promise.resolve().then(()=>jge),void 0);if(h.current=b,m)return;const y=b.createChart(o.current,{width:o.current.clientWidth,height:380,layout:{textColor:"#333",background:{color:"#fff"}},grid:{horzLines:{color:"#eee"},vertLines:{color:"#eee"}},rightPriceScale:{borderColor:"#cccccc"},timeScale:{borderColor:"#cccccc"}}),v=y.addCandlestickSeries(),g=y.addLineSeries({color:"#0077ff",lineWidth:2});a.current=y,l.current=v,u.current=g;const O=()=>{!o.current||!a.current||a.current.applyOptions({width:o.current.clientWidth})};window.addEventListener("resize",O),y._disposeHandler=()=>window.removeEventListener("resize",O),f(!0)})(),()=>{var b,y,v,g;m=!0;try{(y=(b=a.current)==null?void 0:b._disposeHandler)==null||y.call(b),(g=(v=a.current)==null?void 0:v.remove)==null||g.call(v)}catch{}a.current=null,l.current=null,u.current=null}},[]),C.useEffect(()=>{var b;const m=l.current;!m||!c||!t||t.length===0||(h.current,m.setData(t.map(y=>({time:y.time/1e3,open:y.open,high:y.high,low:y.low,close:y.close}))),(b=a.current)==null||b.timeScale().fitContent())},[t,c]),C.useEffect(()=>{const m=u.current;if(!(!m||!c)){if(!e||e.length===0){m.setData([]);return}m.setData(e.map(b=>({time:b.t/1e3,value:b.price})))}},[e,c]),C.useEffect(()=>{var O,x;if(!a.current)return;const b=l.current;if(!t||t.length===0)return;const y=h.current;d.current.length&&(d.current.forEach(E=>{var _;try{(_=b.removePriceLine)==null||_.call(b,E)}catch{}}),d.current=[]);const v=[];n!=null&&n.entry&&v.push({price:n.entry,color:"#0077ff",title:"Entry"}),n!=null&&n.stop&&v.push({price:n.stop,color:"#ff3b30",title:"Stop"}),n!=null&&n.tp1&&v.push({price:n.tp1,color:"#34c759",title:"TP1"}),n!=null&&n.tp2&&v.push({price:n.tp2,color:"#34c759",title:"TP2"}),r&&Object.entries(r).forEach(([E,_])=>v.push({price:_,color:"#a78bfa",title:`Fib ${E}`})),i&&i.forEach((E,_)=>v.push({price:E,color:"#f59e0b",title:`Key ${_+1}`}));const g=b.createPriceLine({price:((O=t[t.length-1])==null?void 0:O.close)??0,color:"#999",lineStyle:((x=y==null?void 0:y.LineStyle)==null?void 0:x.Dotted)??1,lineWidth:1,title:"Last"});g&&d.current.push(g),v.forEach(E=>{var S;const _=b.createPriceLine({price:E.price,color:E.color,title:E.title,lineStyle:((S=y==null?void 0:y.LineStyle)==null?void 0:S.Solid)??0,lineWidth:1});_&&d.current.push(_)})},[n,r,i,t]);const p=async()=>{var m;try{const b=(m=o.current)==null?void 0:m.querySelector("canvas");b&&(s==null||s(b.toDataURL("image/png")))}catch{}};return w.jsxs("div",{children:[w.jsx("div",{ref:o}),s&&w.jsx("div",{style:{marginTop:8},children:w.jsx("button",{onClick:p,children:"Save PNG"})})]})}const mP=t=>{let e;const n=new Set,r=(u,h)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const f=e;e=h??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(d=>d(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,a);return a},Xue=t=>t?mP(t):mP,Yue=t=>t;function Jue(t,e=Yue){const n=M.useSyncExternalStore(t.subscribe,M.useCallback(()=>e(t.getState()),[t,e]),M.useCallback(()=>e(t.getInitialState()),[t,e]));return M.useDebugValue(n),n}const Que=t=>{const e=Xue(t),n=r=>Jue(e,r);return Object.assign(n,e),n},ece=t=>Que;function tce(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const nb=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return nb(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return nb(r)(n)}}}},nce=(t,e)=>(n,r,i)=>{let s={storage:tce(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const h=()=>{const m=s.partialize({...r()});return u.setItem(s.name,{state:m,version:s.version})},c=i.setState;i.setState=(m,b)=>{c(m,b),h()};const f=t((...m)=>{n(...m),h()},r,i);i.getInitialState=()=>f;let d;const p=()=>{var m,b;if(!u)return;o=!1,a.forEach(v=>{var g;return v((g=r())!=null?g:f)});const y=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(m=r())!=null?m:f))||void 0;return nb(u.getItem.bind(u))(s.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==s.version){if(s.migrate){const g=s.migrate(v.state,v.version);return g instanceof Promise?g.then(O=>[!0,O]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var g;const[O,x]=v;if(d=s.merge(x,(g=r())!=null?g:f),n(d,!0),O)return h()}).then(()=>{y==null||y(d,void 0),d=r(),o=!0,l.forEach(v=>v(d))}).catch(v=>{y==null||y(void 0,v)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||p(),d||f},rce=nce,ice=ece()(rce(t=>({symbol:"BTCUSDT",interval:"1m",messages:[],ui:{tab:"chat"},circuit:{enabled:!0,dailyLoss:0,dailyCap:200},setSymbol:e=>t({symbol:e.toUpperCase()}),setInterval:e=>t({interval:e}),pushMessage:e=>t(n=>({messages:[...n.messages,e]})),setTab:e=>t(n=>({ui:{...n.ui,tab:e}})),setCircuit:e=>t(n=>({circuit:{...n.circuit,...e}}))}),{name:"cryptosage-state"})),jR="https://api.binance.com";async function xu(t,e,n=600){const r=`${jR}/api/v3/klines?symbol=${t.toUpperCase()}&interval=${e}&limit=${n}`,i=await fetch(r);if(!i.ok)throw new Error(`Failed to fetch klines: ${i.status}`);return(await i.json()).map(o=>({time:o[0],open:parseFloat(o[1]),high:parseFloat(o[2]),low:parseFloat(o[3]),close:parseFloat(o[4]),volume:parseFloat(o[5])}))}function sce(t,e){const r=`wss://stream.binance.com:9443/ws/${t.toLowerCase()}@kline_1m`,i=new WebSocket(r);return i.onmessage=s=>{try{const a=JSON.parse(s.data).k,l={time:a.t,open:parseFloat(a.o),high:parseFloat(a.h),low:parseFloat(a.l),close:parseFloat(a.c),volume:parseFloat(a.v)};e(l,!!a.x)}catch{}},{close:()=>i.close()}}async function oce(t,e=1e3){const n=`${jR}/api/v3/depth?symbol=${t.toUpperCase()}&limit=${e}`,r=await fetch(n);if(!r.ok)throw new Error("Failed depth");const i=await r.json(),s=(i.bids||[]).map(a=>({price:parseFloat(a[0]),qty:parseFloat(a[1])})),o=(i.asks||[]).map(a=>({price:parseFloat(a[0]),qty:parseFloat(a[1])}));return{bids:s,asks:o}}function ace(t,e,n){const r=t.slice(0);let i=e,s=0;for(const l of r){const u=l.qty*l.price,h=Math.min(i,u);if(s+=h,i-=h,i<=0)break}const o=e-i;return{avgPrice:o===0?0:s/o,filledNotional:o}}function rb(t,e){const n=2/(e+1),r=[];let i=0;return t.forEach((s,o)=>{o===0&&(i=s);const a=s*n+i*(1-n);r.push(a),i=a}),r}function lce(t,e=14){const n=[],r=[],i=[];for(let s=1;s<t.length;s++){const o=t[s]-t[s-1];if(n.push(Math.max(0,o)),r.push(Math.max(0,-o)),s>=e){const a=n.slice(s-e,s).reduce((c,f)=>c+f,0)/e,l=r.slice(s-e,s).reduce((c,f)=>c+f,0)/e,h=100-100/(1+(l===0?100:a/l));i.push(h)}else i.push(50)}return[50,...i]}function uce(t,e=14){const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=r>0?t[r-1].close:i.close,o=Math.max(i.high-i.low,Math.abs(i.high-s),Math.abs(i.low-s));n.push(o)}return rb(n,e)}function cce(t,e=120){const n=t.length,r=Math.max(0,n-e),i=t.slice(r),s=Math.max(...i.map(a=>a.high)),o=Math.min(...i.map(a=>a.low));return{high:s,low:o}}function hce(t,e){const n=t-e;return{"0.236":t-n*.236,"0.382":t-n*.382,"0.5":t-n*.5,"0.618":t-n*.618,"0.786":t-n*.786}}function Xv(t){if(!t||t.length===0)return{last:{time:0,open:0,high:0,low:0,close:0,volume:0},ema20:0,ema50:0,rsi14:50,atr14:0,swing:{high:0,low:0},fib:{},atrPct:0,lowVol:!0};const e=t.map(c=>c.close),n=rb(e,20),r=rb(e,50),i=lce(e,14),s=uce(t,14),o=cce(t,120),a=hce(o.high,o.low),l=t[t.length-1],u=s[s.length-1]/l.close*100,h=u<.4;return{last:l,ema20:n[n.length-1],ema50:r[r.length-1],rsi14:i[i.length-1],atr14:s[s.length-1],swing:o,fib:a,atrPct:u,lowVol:h}}function fce(t){return{"1m":Xv(t["1m"]),"5m":Xv(t["5m"]),"15m":Xv(t["15m"])}}var vP;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(vP||(vP={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gP;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(gP||(gP={}));var yP;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(yP||(yP={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=["user","model","function","system"];var wP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wP||(wP={}));var xP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(xP||(xP={}));var _P;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_P||(_P={}));var SP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(SP||(SP={}));var _u;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(_u||(_u={}));var OP;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(OP||(OP={}));var EP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(EP||(EP={}));var kP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kP||(kP={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Lo extends un{constructor(e,n){super(e),this.response=n}}class AR extends un{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class es extends un{}class NR extends un{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce="https://generativelanguage.googleapis.com",pce="v1beta",mce="0.24.1",vce="genai-js";var ao;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ao||(ao={}));class gce{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||pce;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||dce}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function yce(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${vce}/${mce}`),e.join(" ")}async function bce(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",yce(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new es(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new es(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new es(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function wce(t,e,n,r,i,s){const o=new gce(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Oce(s)),{method:"POST",headers:await bce(o),body:i})}}async function ih(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await wce(t,e,n,r,i,s);return xce(a,l,o)}async function xce(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){_ce(i,t)}return r.ok||await Sce(r,t),r}function _ce(t,e){let n=t;throw n.name==="AbortError"?(n=new NR(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof AR||t instanceof es||(n=new un(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Sce(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new AR(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Oce(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ef(t.candidates[0]))throw new Lo(`${Ai(t)}`,t);return Ece(t)}else if(t.promptFeedback)throw new Lo(`Text not available. ${Ai(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ef(t.candidates[0]))throw new Lo(`${Ai(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),PP(t)[0]}else if(t.promptFeedback)throw new Lo(`Function call not available. ${Ai(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ef(t.candidates[0]))throw new Lo(`${Ai(t)}`,t);return PP(t)}else if(t.promptFeedback)throw new Lo(`Function call not available. ${Ai(t)}`,t)},t}function Ece(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function PP(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const kce=[_u.RECITATION,_u.SAFETY,_u.LANGUAGE];function Ef(t){return!!t.finishReason&&kce.includes(t.finishReason)}function Ai(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];Ef(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Nc(t){return this instanceof Nc?(this.v=t,this):new Nc(t)}function Pce(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(d){return new Promise(function(p,m){s.push([f,d,p,m])>1||a(f,d)})})}function a(f,d){try{l(r[f](d))}catch(p){c(s[0][3],p)}}function l(f){f.value instanceof Nc?Promise.resolve(f.value.v).then(u,h):c(s[0][2],f)}function u(f){a("next",f)}function h(f){a("throw",f)}function c(f,d){f(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Cce(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=jce(e),[r,i]=n.tee();return{stream:Tce(r),response:$ce(i)}}async function $ce(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Lx(Ace(e));e.push(i)}}function Tce(t){return Pce(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Nc(n.read());if(i)break;yield yield Nc(Lx(r))}})}function jce(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new un("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(CP),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new un(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(CP)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new NR("Request aborted when reading from the stream"):a=new un("Error reading from the stream"),a})}}})}function Ace(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(t,e,n,r){const i=await ih(e,ao.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Cce(i)}async function RR(t,e,n,r){const s=await(await ih(e,ao.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Lx(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Mc(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Nce(e)}function Nce(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new un("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new un("No content is provided for sending chat message.");return r?e:n}function Mce(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new es("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Mc(t);r.contents=[s]}return{generateContentRequest:r}}function $P(t){let e;return t.contents?e=t:e={contents:[Mc(t)]},t.systemInstruction&&(e.systemInstruction=IR(t.systemInstruction)),e}function Rce(t){return typeof t=="string"||Array.isArray(t)?{content:Mc(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ice={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Lce(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new un(`First content should be with role 'user', got ${r}`);if(!bP.includes(r))throw new un(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(bP)}`);if(!Array.isArray(i))throw new un("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new un("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of TP)l in a&&(s[l]+=1);const o=Ice[r];for(const a of TP)if(!o.includes(a)&&s[a]>0)throw new un(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function jP(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="SILENT_ERROR";class Dce{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Lce(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=Mc(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},c=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>RR(this._apiKey,this.model,h,c)).then(d=>{var p;if(jP(d.response)){this._history.push(u);const m=Object.assign({parts:[],role:"model"},(p=d.response.candidates)===null||p===void 0?void 0:p[0].content);this._history.push(m)}else{const m=Ai(d.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}f=d}).catch(d=>{throw this._sendPromise=Promise.resolve(),d}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=Mc(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},c=Object.assign(Object.assign({},this._requestOptions),n),f=MR(this._apiKey,this.model,h,c);return this._sendPromise=this._sendPromise.then(()=>f).catch(d=>{throw new Error(AP)}).then(d=>d.response).then(d=>{if(jP(d)){this._history.push(u);const p=Object.assign({},d.candidates[0].content);p.role||(p.role="model"),this._history.push(p)}else{const p=Ai(d);p&&console.warn(`sendMessageStream() was unsuccessful. ${p}. Inspect response object for details.`)}}).catch(d=>{d.message!==AP&&console.error(d)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zce(t,e,n,r){return(await ih(e,ao.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fce(t,e,n,r){return(await ih(e,ao.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Bce(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await ih(e,ao.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=IR(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=$P(e),s=Object.assign(Object.assign({},this._requestOptions),n);return RR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=$P(e),s=Object.assign(Object.assign({},this._requestOptions),n);return MR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new Dce(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Mce(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return zce(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Rce(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Fce(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Bce(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new un("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NP(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new es("Cached content must contain a `name` field.");if(!e.model)throw new es("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new es(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new NP(this.apiKey,s,r)}}function G(t,e,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(t),e(a,l);for(const h in o.prototype)h in a||Object.defineProperty(a,h,{value:o.prototype[h].bind(a)});a._zod.constr=o,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(a){var l;const u=n!=null&&n.Parent?new s:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const h of u._zod.deferred)h();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class Rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const DR={};function is(t){return DR}function Uce(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function ib(t,e){return typeof e=="bigint"?e.toString():e}function zR(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Dx(t){return t==null}function zx(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function Wce(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(i=Number.parseInt(l[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const MP=Symbol("evaluating");function Qe(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==MP)return r===void 0&&(r=MP,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Vce(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function xo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yl(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function RP(t){return JSON.stringify(t)}const FR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function sb(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Hce=zR(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ic(t){if(sb(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(sb(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function BR(t){return Ic(t)?{...t}:t}const Kce=new Set(["string","number","symbol"]);function Om(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _o(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function ve(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function qce(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Gce={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Zce(t,e){const n=t._zod.def,r=yl(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return xo(this,"shape",i),i},checks:[]});return _o(t,r)}function Xce(t,e){const n=t._zod.def,r=yl(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return xo(this,"shape",i),i},checks:[]});return _o(t,r)}function Yce(t,e){if(!Ic(e))throw new Error("Invalid input to extend: expected a plain object");const n=yl(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return xo(this,"shape",r),r},checks:[]});return _o(t,n)}function Jce(t,e){const n=yl(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return xo(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return _o(t,n)}function Qce(t,e,n){const r=yl(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=t?new t({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=t?new t({type:"optional",innerType:i[o]}):i[o];return xo(this,"shape",s),s},checks:[]});return _o(e,r)}function ehe(t,e,n){const r=yl(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return xo(this,"shape",s),s},checks:[]});return _o(e,r)}function Su(t,e=0){var n;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ia(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Xh(t){return typeof t=="string"?t:t==null?void 0:t.message}function ss(t,e,n){var i,s,o,a,l,u;const r={...t,path:t.path??[]};if(!t.message){const h=Xh((o=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,t))??Xh((a=e==null?void 0:e.error)==null?void 0:a.call(e,t))??Xh((l=n.customError)==null?void 0:l.call(n,t))??Xh((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function Fx(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Lc(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const UR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,ib,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},WR=G("$ZodError",UR),VR=G("$ZodError",UR,{Parent:Error});function the(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function nhe(t,e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>i({issues:a}));else if(o.code==="invalid_key")i({issues:o.issues});else if(o.code==="invalid_element")i({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(t),r}const rhe=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Rc;if(o.issues.length){const a=new((i==null?void 0:i.Err)??t)(o.issues.map(l=>ss(l,s,is())));throw FR(a,i==null?void 0:i.callee),a}return o.value},ihe=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((i==null?void 0:i.Err)??t)(o.issues.map(l=>ss(l,s,is())));throw FR(a,i==null?void 0:i.callee),a}return o.value},HR=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Rc;return s.issues.length?{success:!1,error:new(t??WR)(s.issues.map(o=>ss(o,i,is())))}:{success:!0,data:s.value}},she=HR(VR),KR=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>ss(o,i,is())))}:{success:!0,data:s.value}},ohe=KR(VR),ahe=/^[cC][^\s-]{8,}$/,lhe=/^[0-9a-z]+$/,uhe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,che=/^[0-9a-vA-V]{20}$/,hhe=/^[A-Za-z0-9]{27}$/,fhe=/^[a-zA-Z0-9_-]{21}$/,dhe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,phe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,IP=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,mhe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vhe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ghe(){return new RegExp(vhe,"u")}const yhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bhe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,whe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,xhe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_he=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qR=/^[A-Za-z0-9_-]*$/,She=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Ohe=/^\+(?:[0-9]){6,14}[0-9]$/,GR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ehe=new RegExp(`^${GR}$`);function ZR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function khe(t){return new RegExp(`^${ZR(t)}$`)}function Phe(t){const e=ZR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${GR}T(?:${r})$`)}const Che=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},$he=/^\d+$/,The=/^-?\d+(?:\.\d+)?/i,jhe=/^[^A-Z]*$/,Ahe=/^[^a-z]*$/,$n=G("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),XR={number:"number",bigint:"bigint",object:"date"},YR=G("$ZodCheckLessThan",(t,e)=>{$n.init(t,e);const n=XR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),JR=G("$ZodCheckGreaterThan",(t,e)=>{$n.init(t,e);const n=XR[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Nhe=G("$ZodCheckMultipleOf",(t,e)=>{$n.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):Wce(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Mhe=G("$ZodCheckNumberFormat",(t,e)=>{var o;$n.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),r=n?"int":"number",[i,s]=Gce[e.format];t._zod.onattach.push(a=>{const l=a._zod.bag;l.format=e.format,l.minimum=i,l.maximum=s,n&&(l.pattern=$he)}),t._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:l,inst:t});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),l>s&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:t})}}),Rhe=G("$ZodCheckMaxLength",(t,e)=>{var n;$n.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Dx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=Fx(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Ihe=G("$ZodCheckMinLength",(t,e)=>{var n;$n.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Dx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=Fx(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Lhe=G("$ZodCheckLengthEquals",(t,e)=>{var n;$n.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Dx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=Fx(i),a=s>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Em=G("$ZodCheckStringFormat",(t,e)=>{var n,r;$n.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Dhe=G("$ZodCheckRegex",(t,e)=>{Em.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),zhe=G("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=jhe),Em.init(t,e)}),Fhe=G("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Ahe),Em.init(t,e)}),Bhe=G("$ZodCheckIncludes",(t,e)=>{$n.init(t,e);const n=Om(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),Uhe=G("$ZodCheckStartsWith",(t,e)=>{$n.init(t,e);const n=new RegExp(`^${Om(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Whe=G("$ZodCheckEndsWith",(t,e)=>{$n.init(t,e);const n=new RegExp(`.*${Om(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),Vhe=G("$ZodCheckOverwrite",(t,e)=>{$n.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Hhe{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const Khe={major:4,minor:0,patch:17},_t=G("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Khe;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const o of s._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,a,l)=>{let u=Su(o),h;for(const c of a){if(c._zod.def.when){if(!c._zod.def.when(o))continue}else if(u)continue;const f=o.issues.length,d=c._zod.check(o);if(d instanceof Promise&&(l==null?void 0:l.async)===!1)throw new Rc;if(h||d instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await d,o.issues.length!==f&&(u||(u=Su(o,f)))});else{if(o.issues.length===f)continue;u||(u=Su(o,f))}}return h?h.then(()=>o):o};t._zod.run=(o,a)=>{const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new Rc;return l.then(u=>s(u,r,a))}return s(l,r,a)}}t["~standard"]={validate:s=>{var o;try{const a=she(t,s);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return ohe(t,s).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Bx=G("$ZodString",(t,e)=>{var n;_t.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??Che(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),lt=G("$ZodStringFormat",(t,e)=>{Em.init(t,e),Bx.init(t,e)}),qhe=G("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=phe),lt.init(t,e)}),Ghe=G("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=IP(r))}else e.pattern??(e.pattern=IP());lt.init(t,e)}),Zhe=G("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=mhe),lt.init(t,e)}),Xhe=G("$ZodURL",(t,e)=>{lt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:She.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Yhe=G("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=ghe()),lt.init(t,e)}),Jhe=G("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=fhe),lt.init(t,e)}),Qhe=G("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=ahe),lt.init(t,e)}),efe=G("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=lhe),lt.init(t,e)}),tfe=G("$ZodULID",(t,e)=>{e.pattern??(e.pattern=uhe),lt.init(t,e)}),nfe=G("$ZodXID",(t,e)=>{e.pattern??(e.pattern=che),lt.init(t,e)}),rfe=G("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=hhe),lt.init(t,e)}),ife=G("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Phe(e)),lt.init(t,e)}),sfe=G("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Ehe),lt.init(t,e)}),ofe=G("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=khe(e)),lt.init(t,e)}),afe=G("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=dhe),lt.init(t,e)}),lfe=G("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=yhe),lt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),ufe=G("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=bhe),lt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),cfe=G("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=whe),lt.init(t,e)}),hfe=G("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=xhe),lt.init(t,e),t._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function QR(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const ffe=G("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=_he),lt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{QR(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function dfe(t){if(!qR.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return QR(n)}const pfe=G("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=qR),lt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{dfe(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),mfe=G("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Ohe),lt.init(t,e)});function vfe(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const gfe=G("$ZodJWT",(t,e)=>{lt.init(t,e),t._zod.check=n=>{vfe(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),eI=G("$ZodNumber",(t,e)=>{_t.init(t,e),t._zod.pattern=t._zod.bag.pattern??The,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),yfe=G("$ZodNumber",(t,e)=>{Mhe.init(t,e),eI.init(t,e)}),bfe=G("$ZodUnknown",(t,e)=>{_t.init(t,e),t._zod.parse=n=>n}),wfe=G("$ZodNever",(t,e)=>{_t.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function LP(t,e,n){t.issues.length&&e.issues.push(...ia(n,t.issues)),e.value[n]=t.value}const xfe=G("$ZodArray",(t,e)=>{_t.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?s.push(l.then(u=>LP(u,n,o))):LP(l,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function Yh(t,e,n,r){t.issues.length&&e.issues.push(...ia(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}const _fe=G("$ZodObject",(t,e)=>{_t.init(t,e);const n=zR(()=>{const c=Object.keys(e.shape);for(const d of c)if(!e.shape[d]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const f=qce(e.shape);return{shape:e.shape,keys:c,keySet:new Set(c),numKeys:c.length,optionalKeys:new Set(f)}});Qe(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const p=c[d]._zod;if(p.values){f[d]??(f[d]=new Set);for(const m of p.values)f[d].add(m)}}return f});const r=c=>{const f=new Hhe(["shape","payload","ctx"]),d=n.value,p=v=>{const g=RP(v);return`shape[${g}]._zod.run({ value: input[${g}], issues: [] }, ctx)`};f.write("const input = payload.value;");const m=Object.create(null);let b=0;for(const v of d.keys)m[v]=`key_${b++}`;f.write("const newResult = {}");for(const v of d.keys){const g=m[v],O=RP(v);f.write(`const ${g} = ${p(v)};`),f.write(`
        if (${g}.issues.length) {
          payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        if (${g}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${g}.value;
        }
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const y=f.compile();return(v,g)=>y(c,v,g)};let i;const s=sb,o=!DR.jitless,l=o&&Hce.value,u=e.catchall;let h;t._zod.parse=(c,f)=>{h??(h=n.value);const d=c.value;if(!s(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;const p=[];if(o&&l&&(f==null?void 0:f.async)===!1&&f.jitless!==!0)i||(i=r(e.shape)),c=i(c,f);else{c.value={};const g=h.shape;for(const O of h.keys){const E=g[O]._zod.run({value:d[O],issues:[]},f);E instanceof Promise?p.push(E.then(_=>Yh(_,c,O,d))):Yh(E,c,O,d)}}if(!u)return p.length?Promise.all(p).then(()=>c):c;const m=[],b=h.keySet,y=u._zod,v=y.def.type;for(const g of Object.keys(d)){if(b.has(g))continue;if(v==="never"){m.push(g);continue}const O=y.run({value:d[g],issues:[]},f);O instanceof Promise?p.push(O.then(x=>Yh(x,c,g,d))):Yh(O,c,g,d)}return m.length&&c.issues.push({code:"unrecognized_keys",keys:m,input:d,inst:t}),p.length?Promise.all(p).then(()=>c):c}});function DP(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Su(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>ss(o,r,is())))}),e)}const Sfe=G("$ZodUnion",(t,e)=>{_t.init(t,e),Qe(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Qe(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Qe(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Qe(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>zx(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const a=[];for(const l of e.options){const u=l._zod.run({value:i.value,issues:[]},s);if(u instanceof Promise)a.push(u),o=!0;else{if(u.issues.length===0)return u;a.push(u)}}return o?Promise.all(a).then(l=>DP(l,i,t,s)):DP(a,i,t,s)}}),Ofe=G("$ZodIntersection",(t,e)=>{_t.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,u])=>zP(n,l,u)):zP(n,s,o)}});function ob(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ic(t)&&Ic(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=ob(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=ob(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function zP(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Su(t))return t;const r=ob(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const Efe=G("$ZodRecord",(t,e)=>{_t.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Ic(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=e.valueType._zod.run({value:i[l],issues:[]},r);u instanceof Promise?s.push(u.then(h=>{h.issues.length&&n.issues.push(...ia(l,h.issues)),n.value[l]=h.value})):(u.issues.length&&n.issues.push(...ia(l,u.issues)),n.value[l]=u.value)}let a;for(const l in i)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(u=>ss(u,r,is())),input:o,path:[o],inst:t}),n.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:i[o],issues:[]},r);l instanceof Promise?s.push(l.then(u=>{u.issues.length&&n.issues.push(...ia(o,u.issues)),n.value[a.value]=u.value})):(l.issues.length&&n.issues.push(...ia(o,l.issues)),n.value[a.value]=l.value)}}return s.length?Promise.all(s).then(()=>n):n}}),kfe=G("$ZodEnum",(t,e)=>{_t.init(t,e);const n=Uce(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>Kce.has(typeof i)).map(i=>typeof i=="string"?Om(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),Pfe=G("$ZodTransform",(t,e)=>{_t.init(t,e),t._zod.parse=(n,r)=>{const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Rc;return n.value=i,n}});function FP(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Cfe=G("$ZodOptional",(t,e)=>{_t.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Qe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Qe(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${zx(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>FP(s,n.value)):FP(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),$fe=G("$ZodNullable",(t,e)=>{_t.init(t,e),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),Qe(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${zx(n.source)}|null)$`):void 0}),Qe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),Tfe=G("$ZodDefault",(t,e)=>{_t.init(t,e),t._zod.optin="optional",Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>BP(s,e)):BP(i,e)}});function BP(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const jfe=G("$ZodPrefault",(t,e)=>{_t.init(t,e),t._zod.optin="optional",Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),Afe=G("$ZodNonOptional",(t,e)=>{_t.init(t,e),Qe(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>UP(s,t)):UP(i,t)}});function UP(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const Nfe=G("$ZodCatch",(t,e)=>{_t.init(t,e),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),Qe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>ss(o,r,is()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>ss(s,r,is()))},input:n.value}),n.issues=[]),n)}}),Mfe=G("$ZodPipe",(t,e)=>{_t.init(t,e),Qe(t._zod,"values",()=>e.in._zod.values),Qe(t._zod,"optin",()=>e.in._zod.optin),Qe(t._zod,"optout",()=>e.out._zod.optout),Qe(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>WP(s,e,r)):WP(i,e,r)}});function WP(t,e,n){return t.issues.length?t:e.out._zod.run({value:t.value,issues:t.issues},n)}const Rfe=G("$ZodReadonly",(t,e)=>{_t.init(t,e),Qe(t._zod,"propValues",()=>e.innerType._zod.propValues),Qe(t._zod,"values",()=>e.innerType._zod.values),Qe(t._zod,"optin",()=>e.innerType._zod.optin),Qe(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(VP):VP(i)}});function VP(t){return t.value=Object.freeze(t.value),t}const Ife=G("$ZodCustom",(t,e)=>{$n.init(t,e),_t.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>HP(s,n,r,t));HP(i,n,r,t)}});function HP(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(Lc(i))}}class Lfe{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Dfe(){return new Lfe}const Jh=Dfe();function zfe(t,e){return new t({type:"string",...ve(e)})}function Ffe(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ve(e)})}function KP(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ve(e)})}function Bfe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ve(e)})}function Ufe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ve(e)})}function Wfe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ve(e)})}function Vfe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ve(e)})}function Hfe(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ve(e)})}function Kfe(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ve(e)})}function qfe(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ve(e)})}function Gfe(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ve(e)})}function Zfe(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ve(e)})}function Xfe(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ve(e)})}function Yfe(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ve(e)})}function Jfe(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ve(e)})}function Qfe(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ve(e)})}function ede(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ve(e)})}function tde(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ve(e)})}function nde(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ve(e)})}function rde(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ve(e)})}function ide(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ve(e)})}function sde(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ve(e)})}function ode(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ve(e)})}function ade(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ve(e)})}function lde(t,e){return new t({type:"string",format:"date",check:"string_format",...ve(e)})}function ude(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...ve(e)})}function cde(t,e){return new t({type:"string",format:"duration",check:"string_format",...ve(e)})}function hde(t,e){return new t({type:"number",checks:[],...ve(e)})}function fde(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ve(e)})}function dde(t){return new t({type:"unknown"})}function pde(t,e){return new t({type:"never",...ve(e)})}function qP(t,e){return new YR({check:"less_than",...ve(e),value:t,inclusive:!1})}function Yv(t,e){return new YR({check:"less_than",...ve(e),value:t,inclusive:!0})}function GP(t,e){return new JR({check:"greater_than",...ve(e),value:t,inclusive:!1})}function Jv(t,e){return new JR({check:"greater_than",...ve(e),value:t,inclusive:!0})}function ZP(t,e){return new Nhe({check:"multiple_of",...ve(e),value:t})}function tI(t,e){return new Rhe({check:"max_length",...ve(e),maximum:t})}function op(t,e){return new Ihe({check:"min_length",...ve(e),minimum:t})}function nI(t,e){return new Lhe({check:"length_equals",...ve(e),length:t})}function mde(t,e){return new Dhe({check:"string_format",format:"regex",...ve(e),pattern:t})}function vde(t){return new zhe({check:"string_format",format:"lowercase",...ve(t)})}function gde(t){return new Fhe({check:"string_format",format:"uppercase",...ve(t)})}function yde(t,e){return new Bhe({check:"string_format",format:"includes",...ve(e),includes:t})}function bde(t,e){return new Uhe({check:"string_format",format:"starts_with",...ve(e),prefix:t})}function wde(t,e){return new Whe({check:"string_format",format:"ends_with",...ve(e),suffix:t})}function sh(t){return new Vhe({check:"overwrite",tx:t})}function xde(t){return sh(e=>e.normalize(t))}function _de(){return sh(t=>t.trim())}function Sde(){return sh(t=>t.toLowerCase())}function Ode(){return sh(t=>t.toUpperCase())}function Ede(t,e,n){return new t({type:"array",element:e,...ve(n)})}function kde(t,e,n){return new t({type:"custom",check:"custom",fn:e,...ve(n)})}function Pde(t){const e=Cde(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Lc(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Lc(i))}},t(n.value,n)));return e}function Cde(t,e){const n=new $n({check:"custom",...ve(e)});return n._zod.check=t,n}const $de=G("ZodISODateTime",(t,e)=>{ife.init(t,e),dt.init(t,e)});function Tde(t){return ade($de,t)}const jde=G("ZodISODate",(t,e)=>{sfe.init(t,e),dt.init(t,e)});function Ade(t){return lde(jde,t)}const Nde=G("ZodISOTime",(t,e)=>{ofe.init(t,e),dt.init(t,e)});function Mde(t){return ude(Nde,t)}const Rde=G("ZodISODuration",(t,e)=>{afe.init(t,e),dt.init(t,e)});function Ide(t){return cde(Rde,t)}const Lde=(t,e)=>{WR.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>nhe(t,n)},flatten:{value:n=>the(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,ib,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,ib,2)}},isEmpty:{get(){return t.issues.length===0}}})},km=G("ZodError",Lde,{Parent:Error}),Dde=rhe(km),zde=ihe(km),Fde=HR(km),Bde=KR(km),$t=G("ZodType",(t,e)=>(_t.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),t.clone=(n,r)=>_o(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>Dde(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>Fde(t,n,r),t.parseAsync=async(n,r)=>zde(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Bde(t,n,r),t.spa=t.safeParseAsync,t.refine=(n,r)=>t.check(Ape(n,r)),t.superRefine=n=>t.check(Npe(n)),t.overwrite=n=>t.check(sh(n)),t.optional=()=>QP(t),t.nullable=()=>eC(t),t.nullish=()=>QP(eC(t)),t.nonoptional=n=>Epe(t,n),t.array=()=>Bo(t),t.or=n=>dpe([t,n]),t.and=n=>mpe(t,n),t.transform=n=>tC(t,bpe(n)),t.default=n=>_pe(t,n),t.prefault=n=>Ope(t,n),t.catch=n=>Ppe(t,n),t.pipe=n=>tC(t,n),t.readonly=()=>Tpe(t),t.describe=n=>{const r=t.clone();return Jh.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Jh.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Jh.get(t);const r=t.clone();return Jh.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),rI=G("_ZodString",(t,e)=>{Bx.init(t,e),$t.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(mde(...r)),t.includes=(...r)=>t.check(yde(...r)),t.startsWith=(...r)=>t.check(bde(...r)),t.endsWith=(...r)=>t.check(wde(...r)),t.min=(...r)=>t.check(op(...r)),t.max=(...r)=>t.check(tI(...r)),t.length=(...r)=>t.check(nI(...r)),t.nonempty=(...r)=>t.check(op(1,...r)),t.lowercase=r=>t.check(vde(r)),t.uppercase=r=>t.check(gde(r)),t.trim=()=>t.check(_de()),t.normalize=(...r)=>t.check(xde(...r)),t.toLowerCase=()=>t.check(Sde()),t.toUpperCase=()=>t.check(Ode())}),Ude=G("ZodString",(t,e)=>{Bx.init(t,e),rI.init(t,e),t.email=n=>t.check(Ffe(Wde,n)),t.url=n=>t.check(Hfe(Vde,n)),t.jwt=n=>t.check(ode(spe,n)),t.emoji=n=>t.check(Kfe(Hde,n)),t.guid=n=>t.check(KP(XP,n)),t.uuid=n=>t.check(Bfe(Qh,n)),t.uuidv4=n=>t.check(Ufe(Qh,n)),t.uuidv6=n=>t.check(Wfe(Qh,n)),t.uuidv7=n=>t.check(Vfe(Qh,n)),t.nanoid=n=>t.check(qfe(Kde,n)),t.guid=n=>t.check(KP(XP,n)),t.cuid=n=>t.check(Gfe(qde,n)),t.cuid2=n=>t.check(Zfe(Gde,n)),t.ulid=n=>t.check(Xfe(Zde,n)),t.base64=n=>t.check(rde(npe,n)),t.base64url=n=>t.check(ide(rpe,n)),t.xid=n=>t.check(Yfe(Xde,n)),t.ksuid=n=>t.check(Jfe(Yde,n)),t.ipv4=n=>t.check(Qfe(Jde,n)),t.ipv6=n=>t.check(ede(Qde,n)),t.cidrv4=n=>t.check(tde(epe,n)),t.cidrv6=n=>t.check(nde(tpe,n)),t.e164=n=>t.check(sde(ipe,n)),t.datetime=n=>t.check(Tde(n)),t.date=n=>t.check(Ade(n)),t.time=n=>t.check(Mde(n)),t.duration=n=>t.check(Ide(n))});function _s(t){return zfe(Ude,t)}const dt=G("ZodStringFormat",(t,e)=>{lt.init(t,e),rI.init(t,e)}),Wde=G("ZodEmail",(t,e)=>{Zhe.init(t,e),dt.init(t,e)}),XP=G("ZodGUID",(t,e)=>{qhe.init(t,e),dt.init(t,e)}),Qh=G("ZodUUID",(t,e)=>{Ghe.init(t,e),dt.init(t,e)}),Vde=G("ZodURL",(t,e)=>{Xhe.init(t,e),dt.init(t,e)}),Hde=G("ZodEmoji",(t,e)=>{Yhe.init(t,e),dt.init(t,e)}),Kde=G("ZodNanoID",(t,e)=>{Jhe.init(t,e),dt.init(t,e)}),qde=G("ZodCUID",(t,e)=>{Qhe.init(t,e),dt.init(t,e)}),Gde=G("ZodCUID2",(t,e)=>{efe.init(t,e),dt.init(t,e)}),Zde=G("ZodULID",(t,e)=>{tfe.init(t,e),dt.init(t,e)}),Xde=G("ZodXID",(t,e)=>{nfe.init(t,e),dt.init(t,e)}),Yde=G("ZodKSUID",(t,e)=>{rfe.init(t,e),dt.init(t,e)}),Jde=G("ZodIPv4",(t,e)=>{lfe.init(t,e),dt.init(t,e)}),Qde=G("ZodIPv6",(t,e)=>{ufe.init(t,e),dt.init(t,e)}),epe=G("ZodCIDRv4",(t,e)=>{cfe.init(t,e),dt.init(t,e)}),tpe=G("ZodCIDRv6",(t,e)=>{hfe.init(t,e),dt.init(t,e)}),npe=G("ZodBase64",(t,e)=>{ffe.init(t,e),dt.init(t,e)}),rpe=G("ZodBase64URL",(t,e)=>{pfe.init(t,e),dt.init(t,e)}),ipe=G("ZodE164",(t,e)=>{mfe.init(t,e),dt.init(t,e)}),spe=G("ZodJWT",(t,e)=>{gfe.init(t,e),dt.init(t,e)}),iI=G("ZodNumber",(t,e)=>{eI.init(t,e),$t.init(t,e),t.gt=(r,i)=>t.check(GP(r,i)),t.gte=(r,i)=>t.check(Jv(r,i)),t.min=(r,i)=>t.check(Jv(r,i)),t.lt=(r,i)=>t.check(qP(r,i)),t.lte=(r,i)=>t.check(Yv(r,i)),t.max=(r,i)=>t.check(Yv(r,i)),t.int=r=>t.check(YP(r)),t.safe=r=>t.check(YP(r)),t.positive=r=>t.check(GP(0,r)),t.nonnegative=r=>t.check(Jv(0,r)),t.negative=r=>t.check(qP(0,r)),t.nonpositive=r=>t.check(Yv(0,r)),t.multipleOf=(r,i)=>t.check(ZP(r,i)),t.step=(r,i)=>t.check(ZP(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function fr(t){return hde(iI,t)}const ope=G("ZodNumberFormat",(t,e)=>{yfe.init(t,e),iI.init(t,e)});function YP(t){return fde(ope,t)}const ape=G("ZodUnknown",(t,e)=>{bfe.init(t,e),$t.init(t,e)});function JP(){return dde(ape)}const lpe=G("ZodNever",(t,e)=>{wfe.init(t,e),$t.init(t,e)});function upe(t){return pde(lpe,t)}const cpe=G("ZodArray",(t,e)=>{xfe.init(t,e),$t.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(op(n,r)),t.nonempty=n=>t.check(op(1,n)),t.max=(n,r)=>t.check(tI(n,r)),t.length=(n,r)=>t.check(nI(n,r)),t.unwrap=()=>t.element});function Bo(t,e){return Ede(cpe,t,e)}const hpe=G("ZodObject",(t,e)=>{_fe.init(t,e),$t.init(t,e),Qe(t,"shape",()=>e.shape),t.keyof=()=>sI(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:JP()}),t.loose=()=>t.clone({...t._zod.def,catchall:JP()}),t.strict=()=>t.clone({...t._zod.def,catchall:upe()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Yce(t,n),t.merge=n=>Jce(t,n),t.pick=n=>Zce(t,n),t.omit=n=>Xce(t,n),t.partial=(...n)=>Qce(oI,t,n[0]),t.required=(...n)=>ehe(aI,t,n[0])});function Uo(t,e){const n={type:"object",get shape(){return xo(this,"shape",t?Vce(t):{}),this.shape},...ve(e)};return new hpe(n)}const fpe=G("ZodUnion",(t,e)=>{Sfe.init(t,e),$t.init(t,e),t.options=e.options});function dpe(t,e){return new fpe({type:"union",options:t,...ve(e)})}const ppe=G("ZodIntersection",(t,e)=>{Ofe.init(t,e),$t.init(t,e)});function mpe(t,e){return new ppe({type:"intersection",left:t,right:e})}const vpe=G("ZodRecord",(t,e)=>{Efe.init(t,e),$t.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function gpe(t,e,n){return new vpe({type:"record",keyType:t,valueType:e,...ve(n)})}const ab=G("ZodEnum",(t,e)=>{kfe.init(t,e),$t.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ab({...e,checks:[],...ve(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new ab({...e,checks:[],...ve(i),entries:s})}});function sI(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new ab({type:"enum",entries:n,...ve(e)})}const ype=G("ZodTransform",(t,e)=>{Pfe.init(t,e),$t.init(t,e),t._zod.parse=(n,r)=>{n.addIssue=s=>{if(typeof s=="string")n.issues.push(Lc(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Lc(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function bpe(t){return new ype({type:"transform",transform:t})}const oI=G("ZodOptional",(t,e)=>{Cfe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function QP(t){return new oI({type:"optional",innerType:t})}const wpe=G("ZodNullable",(t,e)=>{$fe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function eC(t){return new wpe({type:"nullable",innerType:t})}const xpe=G("ZodDefault",(t,e)=>{Tfe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function _pe(t,e){return new xpe({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():BR(e)}})}const Spe=G("ZodPrefault",(t,e)=>{jfe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ope(t,e){return new Spe({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():BR(e)}})}const aI=G("ZodNonOptional",(t,e)=>{Afe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Epe(t,e){return new aI({type:"nonoptional",innerType:t,...ve(e)})}const kpe=G("ZodCatch",(t,e)=>{Nfe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Ppe(t,e){return new kpe({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Cpe=G("ZodPipe",(t,e)=>{Mfe.init(t,e),$t.init(t,e),t.in=e.in,t.out=e.out});function tC(t,e){return new Cpe({type:"pipe",in:t,out:e})}const $pe=G("ZodReadonly",(t,e)=>{Rfe.init(t,e),$t.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Tpe(t){return new $pe({type:"readonly",innerType:t})}const jpe=G("ZodCustom",(t,e)=>{Ife.init(t,e),$t.init(t,e)});function Ape(t,e={}){return kde(jpe,t,e)}function Npe(t){return Pde(t)}const Mpe=Uo({t:fr().int(),price:fr().positive()}),lb=Uo({verdict:sI(["Buy","Sell","No-Trade"]),confidence:fr().min(0).max(1),analysis_text:_s().min(10),levels:Uo({entry:fr().positive(),stop:fr().positive(),tp1:fr().positive(),tp2:fr().positive()}),risk:Uo({r:fr().min(0),notes:_s().optional().default("")}),checklist:Bo(_s()),forecast:Uo({horizonMinutes:fr().int().min(5).max(120),points:Bo(Mpe).min(2),rationale:_s().min(5)}),annotations:Uo({fibLevels:gpe(_s(),fr()).optional().default({}),keyLevels:Bo(fr()).optional().default([])}),uncertainty_reasons:Bo(_s()).optional().default([]),what_would_change_my_mind:Bo(_s()).optional().default([])});function Rpe(t){return t.replace(/^```json\s*|```$/gim,"").trim()}function lI(t){try{const e=Rpe(t);return{ok:!0,value:JSON.parse(e)}}catch(e){return{ok:!1,error:e}}}function Ipe(t){return[{min:.5,max:.6},{min:.6,max:.7},{min:.7,max:.8},{min:.8,max:.9},{min:.9,max:1.01}].map(n=>{const r=t.filter(s=>s.confidence>=n.min&&s.confidence<n.max),i=r.length?r.filter(s=>s.outcome===1).length/r.length:0;return{range:`${n.min.toFixed(1)}-${Math.min(n.max,1).toFixed(1)}`,count:r.length,hitRate:i}})}function Lpe(t,e=2){return Number(t).toFixed(e)}const nC="AIzaSyDH8k7kWXqOwq0vWgFnAVgXb3j8s4wMOeo".trim();function uI(){if(!nC)throw new Error("Missing VITE_GEMINI_API_KEY. Set it in .env.local and restart the dev server.");const t=new LR(nC),e={temperature:.3,maxOutputTokens:600,responseMimeType:"application/json"},n=[];return t.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:e,safetySettings:n})}const Dpe=`You are CryptoSage, a radical-candor crypto day-trading assistant.
Rules:
- Prefer No-Trade if uncertainty > 0.4 or lacking confluence.
- Be objective, concise, strictly avoid persuasion or pleasantries.
- Output STRICT JSON only, following the provided schema exactly. No code fences.
- Never invent data. Use the TA JSON and user note only.
- If volatility is low (ATR%), default to No-Trade unless exceptional confluence exists.
`;function zpe(t){const e=JSON.stringify(t.taMultiTF),n=`Schema (ALL fields required, exact keys, no extra keys):
{
  "verdict": "Buy" | "Sell" | "No-Trade",
  "confidence": number in [0,1],
  "analysis_text": string (>=10 chars, English preferred),
  "levels": { "entry": number, "stop": number, "tp1": number, "tp2": number },
  "risk": { "r": number >= 0, "notes": string },
  "checklist": string[],
  "forecast": {
    "horizonMinutes": integer between 5 and 120,
    "points": [{"t": unix_ms_number, "price": number}] (>=2 points),
    "rationale": string
  },
  "annotations": { "fibLevels": { [ratio: string]: number }, "keyLevels": number[] },
  "uncertainty_reasons": string[],
  "what_would_change_my_mind": string[]
}
Hard constraints:
- verdict MUST be exactly one of: Buy, Sell, No-Trade (no other language or spaces)
- All numbers must be numeric values (not strings)
- timestamps t are milliseconds since epoch (number)
`,r=t.userPlan?`UserTradeIdea: ${JSON.stringify(t.userPlan)} (critique this plan explicitly: feasibility, better entry/stop/TP, and whether to skip)`:"",i=`System: ${Dpe}
Context: Symbol=${t.symbol}, Interval=${t.interval}. TA=${e}. Note=${t.userNote??""}. ${r}
${n}
Return ONLY valid JSON for the schema.`,s=i+`
Focus: trend, momentum, volatility filter.`,o=i+`
Be conservative; if disagreement across TFs, prefer No-Trade.`,a=i+`
Emphasize risk-first; ensure stop placement is defensible.`;return[s,o,a]}async function Fpe(t){const r=(await uI().generateContent({contents:[{role:"user",parts:[{text:t}]}]})).response.text(),i=lI(r);if(i.ok)return lb.parse(i.value);const s=await Bpe(r);return lb.parse(s)}async function Bpe(t){const e=uI(),n=`Fix into VALID JSON only (no commentary) using this schema. Ensure values are the correct types and enums are exact.
${t}`,i=(await e.generateContent({contents:[{role:"user",parts:[{text:n}]}]})).response.text(),s=lI(i);if(!s.ok)throw new Error("Failed to repair JSON");return lb.parse(s.value)}async function Upe(t){const e=zpe({symbol:t.symbol,interval:t.interval,taMultiTF:t.multiTF,userNote:t.notes,userPlan:t.plan}),[n,r,i]=await Promise.allSettled(e.map(p=>Fpe(p))),s=[n,r,i].filter(p=>p.status==="fulfilled").map(p=>p.value);if(s.length===0){const p=[n,r,i].filter(m=>m.status==="rejected").map(m=>{var b;return((b=m.reason)==null?void 0:b.message)??String(m.reason)});throw new Error("All ensemble calls failed: "+p.join(" | "))}const o={};s.forEach(p=>{o[p.verdict]=(o[p.verdict]??0)+1});const a=Object.entries(o).sort((p,m)=>m[1]-p[1])[0][0],l=Object.keys(o).length,u=s.reduce((p,m)=>p+m.confidence,0)/s.length,h={};s.forEach(p=>{p.forecast.points.forEach(m=>{h[m.t]||(h[m.t]=[]),h[m.t].push(m.price)})});const c=Object.entries(h).map(([p,m])=>({t:Number(p),price:m.reduce((b,y)=>b+y,0)/m.length})).sort((p,m)=>p.t-m.t),f=s[0],d={...f,verdict:a,confidence:u,forecast:{...f.forecast,points:c},annotations:{fibLevels:f.annotations.fibLevels||{},keyLevels:Array.from(new Set(s.flatMap(p=>p.annotations.keyLevels||[]))).sort((p,m)=>p-m)}};return(l>1||u<.55)&&(d.verdict="No-Trade"),d}async function Wpe(){const{data:t,error:e}=await yt.from("analyses").select("*").order("created_at",{ascending:!1});if(e)throw e;return t.map(n=>({...n,ai:n.ai}))}async function rC(t){let e=null;if(t.snapshotDataUrl){const i=Hpe(t.snapshotDataUrl,`snap_${Date.now()}.png`),s=`${Date.now()}_${Math.random().toString(36).slice(2)}.png`,{error:o}=await yt.storage.from("snapshots").upload(s,i,{contentType:"image/png",upsert:!1});if(o)throw o;const{data:a,error:l}=await yt.storage.from("snapshots").createSignedUrl(s,60*60*24*7);if(l)throw l;e=a.signedUrl}const{data:n,error:r}=await yt.from("analyses").insert({symbol:t.symbol,interval:t.interval,last_price:t.last_price,ai:t.ai,snapshot_url:e}).select().single();if(r)throw r;return n}async function Vpe(t){const{error:e}=await yt.from("analyses").delete().eq("id",t);if(e)throw e}function Hpe(t,e){var a;const n=t.split(","),r=((a=n[0].match(/:(.*?);/))==null?void 0:a[1])??"image/png",i=atob(n[1]);let s=i.length;const o=new Uint8Array(s);for(;s--;)o[s]=i.charCodeAt(s);return new File([o],e,{type:r})}function Kpe(){const[t,e]=C.useState([]),[n,r]=C.useState(null),[i,s]=C.useState(!1),[o,a]=C.useState(null),l=async()=>{s(!0);const c=await Wpe();e(c),s(!1)};C.useEffect(()=>{l()},[]),C.useEffect(()=>{(async()=>{var v;if(!n)return a(null);const c=n.ai.forecast.horizonMinutes,f=((v=n.ai.forecast.points[n.ai.forecast.points.length-1])==null?void 0:v.t)??0,d=Math.max(f,new Date(n.created_at).getTime()+c*60*1e3),m=(await xu(n.symbol,"1m",600)).filter(g=>g.time>=n.ai.forecast.points[0].t&&g.time<=d);if(m.length===0)return a(null);const b={};m.forEach(g=>b[g.time]=g.close);const y=[];n.ai.forecast.points.forEach(g=>{const O=b[g.t];O!=null&&y.push(Math.abs(O-g.price))}),a(y.length?y.reduce((g,O)=>g+O,0)/y.length:null)})()},[n]);const u=C.useMemo(()=>{const c=t.map(f=>{const d=f.ai.verdict==="Sell"?-1:f.ai.verdict==="Buy"?1:0;return{confidence:f.ai.confidence,outcome:0}});return Ipe(c)},[t]),h=async c=>{await Vpe(c),await l(),(n==null?void 0:n.id)===c&&r(null)};return w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr",gap:16},children:[w.jsxs("div",{children:[w.jsx("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:w.jsx("button",{onClick:l,disabled:i,children:i?"Refreshing...":"Refresh"})}),w.jsx("div",{style:{border:"1px solid #eee",borderRadius:8,maxHeight:520,overflow:"auto"},children:t.map(c=>w.jsxs("div",{style:{padding:8,borderBottom:"1px solid #f2f2f2",cursor:"pointer",background:(n==null?void 0:n.id)===c.id?"#f9fafb":void 0},onClick:()=>r(c),children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[w.jsx("strong",{children:c.symbol}),w.jsx("span",{children:new Date(c.created_at).toLocaleString()})]}),w.jsxs("div",{style:{fontSize:12,color:"#666"},children:[c.ai.verdict," (",Lpe(c.ai.confidence*100,1),"%)  ",c.interval]})]},c.id))})]}),w.jsx("div",{children:n?w.jsxs("div",{style:{padding:16},children:[w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("h3",{style:{marginTop:0},children:n.symbol}),w.jsx("button",{onClick:()=>{var c;return n.snapshot_url&&((c=window.open(n.snapshot_url,"_blank"))==null?void 0:c.focus())},disabled:!n.snapshot_url,children:"Open Snapshot"}),w.jsx("button",{onClick:()=>h(n.id),style:{marginLeft:"auto",color:"#b91c1c"},children:"Delete"})]}),w.jsx("p",{children:n.ai.analysis_text}),w.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Levels"}),w.jsxs("div",{children:["Entry ",n.ai.levels.entry]}),w.jsxs("div",{children:["Stop ",n.ai.levels.stop]}),w.jsxs("div",{children:["TP1 ",n.ai.levels.tp1]}),w.jsxs("div",{children:["TP2 ",n.ai.levels.tp2]})]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Risk"}),w.jsxs("div",{children:["R: ",n.ai.risk.r]})]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Checklist"}),w.jsx("ul",{children:n.ai.checklist.map((c,f)=>w.jsx("li",{children:c},f))})]})]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("strong",{children:"MAE"}),": ",o==null?"n/a":o.toFixed(4)]}),w.jsxs("div",{style:{marginTop:12},children:[w.jsx("strong",{children:"Calibration"}),w.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:8},children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #eee"},children:"Bucket"}),w.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #eee"},children:"Count"}),w.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #eee"},children:"Hit rate"})]})}),w.jsx("tbody",{children:u.map(c=>w.jsxs("tr",{children:[w.jsx("td",{children:c.range}),w.jsx("td",{style:{textAlign:"right"},children:c.count}),w.jsxs("td",{style:{textAlign:"right"},children:[(c.hitRate*100).toFixed(1),"%"]})]},c.range))})]})]})]}):w.jsx("div",{style:{padding:16,color:"#666"},children:"Select an analysis"})})]})}function qpe(t){const{account:e,riskPct:n,entry:r,stop:i}=t,s=e*n,o=Math.abs(r-i),a=o>0?s/o:0,l=a*r;return{qty:a,notional:l,rDist:o}}function Gpe(t){return t.todayLoss>=t.cap}function Zpe(){var N,L,F;const{symbol:t,interval:e,setSymbol:n,setInterval:r,ui:i,setTab:s,circuit:o}=ice(),[a,l]=C.useState([]),[u,h]=C.useState([]),[c,f]=C.useState([]),[d,p]=C.useState(null),[m,b]=C.useState(!1),[y,v]=C.useState(""),[g,O]=C.useState(null),x=C.useRef(null),[E,_]=C.useState(null),[S,k]=C.useState(1e3),[P,$]=C.useState(""),[T,R]=C.useState({});C.useEffect(()=>((async()=>{var j;try{const[I,V,te]=await Promise.all([xu(t,"1m",600),xu(t,"5m",600),xu(t,"15m",600)]);l(I),h(V),f(te),p(((j=I[I.length-1])==null?void 0:j.close)??null),x.current&&x.current.close(),x.current=sce(t,ie=>{l(de=>!de.length||ie.time>de[de.length-1].time?[...de,ie]:de.slice(0,-1).concat(ie)),p(ie.close)})}catch(I){console.error("Failed to load initial klines",I),l([]),h([]),f([])}})(),()=>{var j;(j=x.current)==null||j.close(),x.current=null}),[t]);const z=C.useMemo(()=>{var V;const j=fce({"1m":a,"5m":u,"15m":c}),I=((V=j["1m"])==null?void 0:V.atrPct)??null;return _(I),j},[a,u,c]),U=async()=>{if(o.enabled&&Gpe({todayLoss:o.dailyLoss,cap:o.dailyCap})){alert("Circuit breaker active. Asking is disabled.");return}b(!0);try{const j=await Upe({symbol:t,interval:e,multiTF:z,notes:y,plan:T});O(j),d!=null&&await rC({symbol:t,interval:e,last_price:d,ai:j})}catch(j){alert("Ask failed: "+((j==null?void 0:j.message)??"unknown"))}finally{b(!1)}},W=async j=>{!g||d==null||(await rC({symbol:t,interval:e,last_price:d,ai:g,snapshotDataUrl:j}),alert("Snapshot saved"))},B=C.useMemo(()=>{if(!g)return null;const{entry:j,stop:I}=g.levels;return qpe({account:1e4,riskPct:.01,entry:j,stop:I})},[g]);return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-gray-800/70 backdrop-blur rounded-xl p-3 border border-gray-700 flex items-center gap-3",children:[w.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Symbol e.g. BTCUSDT",className:"w-40 bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),w.jsxs("select",{value:e,onChange:j=>r(j.target.value),className:"bg-gray-900 border border-gray-700 rounded-md px-2 py-2 text-sm",children:[w.jsx("option",{value:"1m",children:"1m"}),w.jsx("option",{value:"5m",children:"5m"}),w.jsx("option",{value:"15m",children:"15m"})]}),w.jsxs("span",{className:"text-sm text-gray-300",children:["Last: ",d??""," ",E!=null&&w.jsxs("em",{className:"text-gray-400",children:["ATR% ",E.toFixed(2)]})]}),w.jsxs("div",{className:"ml-auto flex gap-2",children:[w.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm ${i.tab==="chat"?"bg-blue-600 text-white":"bg-gray-700 text-gray-100"}`,onClick:()=>s("chat"),disabled:i.tab==="chat",children:"Chat"}),w.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm ${i.tab==="history"?"bg-blue-600 text-white":"bg-gray-700 text-gray-100"}`,onClick:()=>s("history"),disabled:i.tab==="history",children:"History"})]})]}),i.tab==="chat"?w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-4",children:[w.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-2",children:[w.jsx(Zue,{candles:e==="1m"?a:e==="5m"?u:c,forecast:g==null?void 0:g.forecast.points,levels:g==null?void 0:g.levels,fibLevels:(N=z["1m"])==null?void 0:N.fib,keyLevels:g==null?void 0:g.annotations.keyLevels,onSavePng:W}),w.jsx("div",{className:"text-xs text-gray-500 px-1 mt-2",children:"If the chart looks empty, try another symbol (e.g., BTCUSDT) or refresh. Data starts after the first fetch completes."})]}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("textarea",{rows:6,placeholder:"Ask: e.g., 0.618 pullback on AVAX  scalp 530m?",value:y,onChange:j=>v(j.target.value),onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),U())},className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-sm min-h-[140px]"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsxs("select",{value:T.side??"",onChange:j=>R(I=>({...I,side:j.target.value||void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-2 py-2 text-sm",children:[w.jsx("option",{value:"",children:"Side (opt)"}),w.jsx("option",{value:"Buy",children:"Buy"}),w.jsx("option",{value:"Sell",children:"Sell"})]}),w.jsx("input",{type:"number",placeholder:"Amount (opt)",value:T.amount??"",onChange:j=>R(I=>({...I,amount:j.target.value?Number(j.target.value):void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm"}),w.jsx("input",{type:"number",placeholder:"Entry (opt)",value:T.entry??"",onChange:j=>R(I=>({...I,entry:j.target.value?Number(j.target.value):void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm"}),w.jsx("input",{type:"number",placeholder:"Stop (opt)",value:T.stop??"",onChange:j=>R(I=>({...I,stop:j.target.value?Number(j.target.value):void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm"}),w.jsx("input",{type:"number",placeholder:"TP1 (opt)",value:T.tp1??"",onChange:j=>R(I=>({...I,tp1:j.target.value?Number(j.target.value):void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm"}),w.jsx("input",{type:"number",placeholder:"TP2 (opt)",value:T.tp2??"",onChange:j=>R(I=>({...I,tp2:j.target.value?Number(j.target.value):void 0})),className:"bg-gray-900 border border-gray-700 rounded-md px-3 py-2 text-sm"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:U,disabled:m,className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 disabled:opacity-60 text-white",children:m?"Analyzing":"Ask"}),w.jsx("button",{onClick:()=>W(""),className:"px-3 py-2 rounded-md bg-gray-700 text-gray-100",children:"Save PNG"})]}),w.jsxs("div",{className:"border-t border-gray-700 pt-3",children:[w.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-gray-200",children:[w.jsx("span",{children:"Depth/Slippage"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"number",value:S,onChange:j=>k(Number(j.target.value)),className:"w-28 bg-gray-900 border border-gray-700 rounded-md px-2 py-1.5 text-sm"}),w.jsx("button",{className:"px-3 py-1.5 rounded-md bg-gray-700 text-gray-100",onClick:async()=>{try{const j=await oce(t),I="buy",{avgPrice:V,filledNotional:te}=ace(j.asks,S,I);$(te?`Avg ${V.toFixed(2)} for ${te.toFixed(2)} notional`:"Insufficient depth")}catch(j){$("Failed: "+((j==null?void 0:j.message)??"unknown"))}},children:"Estimate"})]})]}),P&&w.jsx("div",{className:"text-sm text-gray-300 mt-2",children:P})]}),g&&w.jsxs("div",{className:"border border-gray-700 rounded-xl p-3 bg-gray-800/40",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"font-semibold",children:g.verdict}),w.jsxs("span",{className:"text-gray-400",children:[(g.confidence*100).toFixed(1),"%"]})]}),w.jsx("p",{className:"whitespace-pre-wrap text-gray-200 mt-2 text-sm",children:g.analysis_text}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-semibold",children:"Levels"}),w.jsxs("div",{children:["Entry ",g.levels.entry]}),w.jsxs("div",{children:["Stop ",g.levels.stop]}),w.jsxs("div",{children:["TP1 ",g.levels.tp1]}),w.jsxs("div",{children:["TP2 ",g.levels.tp2]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"font-semibold",children:"Risk"}),w.jsxs("div",{children:["R: ",g.risk.r]}),B&&w.jsxs("div",{className:"text-xs text-gray-400",children:["Size: ",B.qty.toFixed(4)," (~$",B.notional.toFixed(2),")"]})]})]}),(L=g.uncertainty_reasons)!=null&&L.length?w.jsxs("div",{className:"mt-2",children:[w.jsx("div",{className:"font-semibold",children:"Uncertainty"}),w.jsx("ul",{className:"list-disc list-inside text-gray-300",children:g.uncertainty_reasons.map((j,I)=>w.jsx("li",{children:j},I))})]}):null,(F=g.what_would_change_my_mind)!=null&&F.length?w.jsxs("div",{className:"mt-2",children:[w.jsx("div",{className:"font-semibold",children:"Change my mind"}),w.jsx("ul",{className:"list-disc list-inside text-gray-300",children:g.what_would_change_my_mind.map((j,I)=>w.jsx("li",{children:j},I))})]}):null]})]})]}):w.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:w.jsx(Kpe,{})})]})}function Xpe(){return w.jsx(Zpe,{})}function Ype(){const{t}=bi(),[e,n]=C.useState([]),[r,i]=C.useState(!0),[s,o]=C.useState({}),{user:a}=Ip();C.useEffect(()=>{(async()=>{i(!0);const{data:h,error:c}=await yt.from("trades").select("*").order("date",{ascending:!1});c&&console.error(c),n((h??[]).map(f=>({...f,date:f.date}))),i(!1)})()},[]),C.useEffect(()=>{(async()=>{const u=Array.from(new Set(e.map(d=>d.user_id)));if(u.length===0)return;const{data:h,error:c}=await yt.from("profiles").select("id, nickname").in("id",u);if(c)return;const f={};for(const d of h)d.nickname&&(f[d.id]=d.nickname);o(f)})()},[e]);const l=C.useMemo(()=>{const u=e.filter(c=>c.exit!=null&&c.entry!=null&&(c.side==="LONG"&&c.exit>c.entry||c.side==="SHORT"&&c.exit<c.entry)).length,h=e.filter(c=>c.exit!=null).length;return{winRate:h?u/h*100:0}},[e]);return w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsx("h1",{className:"text-xl font-semibold",children:t("nav.cross")})}),r?w.jsx("div",{className:"text-gray-400",children:t("trades.loading")}):e.length===0?w.jsx(Fi,{children:w.jsx(Bi,{children:w.jsx(eA,{title:t("trades.emptyTitle"),description:t("trades.emptyDesc")})})}):w.jsx(Jj,{trades:e,onEdit:()=>{},onDelete:()=>{},readOnly:!0,showUser:!0,userNames:s}),w.jsx("div",{className:"text-sm text-gray-400",children:t("trades.winRate",{value:l.winRate.toFixed(1)})})]})}const Jpe="/proxy/bot";function Qpe(){const{t}=bi(),[e,n]=M.useState(null),[r,i]=M.useState(null),[s,o]=M.useState(!0),a=M.useCallback(async()=>{try{o(!0),i(null);const l=await fetch(`${Jpe}/trades`);if(!l.ok)throw new Error(`HTTP ${l.status}`);const u=await l.json();n(u)}catch(l){i((l==null?void 0:l.message)||"Failed")}finally{o(!1)}},[]);return M.useEffect(()=>{a();const l=setInterval(a,3e4);return()=>clearInterval(l)},[a]),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h1",{className:"text-2xl font-bold",children:t("bot.title")}),w.jsx("button",{className:"bg-gray-800 px-3 py-1 rounded",onClick:a,children:t("bot.refresh")})]}),s&&w.jsx("div",{children:t("common.loading")}),r&&w.jsx("div",{className:"text-red-400 mb-3",children:t("bot.error",{msg:r})}),!s&&!r&&(!e||e.length===0)&&w.jsx("div",{className:"text-gray-400",children:t("bot.empty")}),e&&e.length>0&&w.jsx("div",{className:"overflow-x-auto border border-gray-800 rounded-lg",children:w.jsxs("table",{className:"min-w-full text-sm",children:[w.jsx("thead",{className:"bg-gray-900",children:w.jsxs("tr",{children:[w.jsx("th",{className:"text-left px-3 py-2",children:t("bot.table.timeOpen")}),w.jsx("th",{className:"text-left px-3 py-2",children:t("bot.table.symbol")}),w.jsx("th",{className:"text-left px-3 py-2",children:t("bot.table.side")}),w.jsx("th",{className:"text-right px-3 py-2",children:t("bot.table.entry")}),w.jsx("th",{className:"text-right px-3 py-2",children:t("bot.table.exit")}),w.jsx("th",{className:"text-right px-3 py-2",children:t("bot.table.pnl")}),w.jsx("th",{className:"text-left px-3 py-2",children:t("bot.table.timeClose")})]})}),w.jsx("tbody",{children:e.map(l=>w.jsxs("tr",{className:"odd:bg-gray-900/40",children:[w.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:new Date(l.opened_at).toLocaleString()}),w.jsx("td",{className:"px-3 py-2",children:l.symbol}),w.jsx("td",{className:"px-3 py-2",children:l.side}),w.jsx("td",{className:"px-3 py-2 text-right",children:l.entry.toFixed(4)}),w.jsx("td",{className:"px-3 py-2 text-right",children:l.exit!=null?l.exit.toFixed(4):"-"}),w.jsx("td",{className:"px-3 py-2 text-right",children:l.pnl!=null?l.pnl.toFixed(4):"-"}),w.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:l.closed_at?new Date(l.closed_at).toLocaleString():"-"})]},l.id))})]})})]})}function rt(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Zs(t,e){return t.width===e.width&&t.height===e.height}var eme=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function tme(t){return new eme(t)}var nme=function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=rt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return rt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=rt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Zs(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=rt(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Zs(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&Zs(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}ime().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=iC(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=tme(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=iC(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?sme(s[0],i):rt({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=rt({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function rme(t,e){return new nme(t,e.transform,e.options)}function iC(t){return t.ownerDocument.defaultView}function ime(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function sme(t,e){return rt({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var ome=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function lo(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new ome(i,n,r)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const ame={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},lme={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},ume={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},cme={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},hme={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},fme={color:"#26a69a",base:0},cI={color:"#2196f3"},hI={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var ub,ap;function uo(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function fI(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function os(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function pn(t){if(t===void 0)throw new Error("Value is undefined");return t}function Y(t){if(t===null)throw new Error("Value is null");return t}function sa(t){return Y(pn(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(ub||(ub={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(ap||(ap={}));const sC={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Kn(t){return t<0?0:t>255?255:Math.round(t)||0}function dI(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const dme=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,pme=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,mme=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,vme=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Dc(t){(t=t.toLowerCase())in sC&&(t=sC[t]);{const e=vme.exec(t)||mme.exec(t);if(e)return[Kn(parseInt(e[1],10)),Kn(parseInt(e[2],10)),Kn(parseInt(e[3],10)),dI(e.length<5?1:parseFloat(e[4]))]}{const e=pme.exec(t);if(e)return[Kn(parseInt(e[1],16)),Kn(parseInt(e[2],16)),Kn(parseInt(e[3],16)),1]}{const e=dme.exec(t);if(e)return[Kn(17*parseInt(e[1],16)),Kn(17*parseInt(e[2],16)),Kn(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function pI(t){return .199*t[0]+.687*t[1]+.114*t[2]}function Pm(t){const e=Dc(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:pI(e)>160?"black":"white"}}class xt{constructor(){this.h=[]}l(e,n,r){const i={o:e,_:n,u:r===!0};this.h.push(i)}v(e){const n=this.h.findIndex(r=>e===r.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,r){const i=[...this.h];this.h=this.h.filter(s=>!s.u),i.forEach(s=>s.o(e,n,r))}M(){return this.h.length>0}S(){this.h=[]}}function Er(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:Er(t[r],n[r]));return t}function Ir(t){return typeof t=="number"&&isFinite(t)}function zc(t){return typeof t=="number"&&t%1==0}function oh(t){return typeof t=="string"}function ef(t){return typeof t=="boolean"}function ti(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?ti(i):i);return n}function gme(t){return t!==null}function Fc(t){return t===null?void 0:t}const Ux="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Ga(t,e,n){return e===void 0&&(e=Ux),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class yme{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),r=this.H();return e.P===n&&e.D===r||(e.P=n,e.D=r,e.R=Ga(n,r),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Wx{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,r){this.Y.forEach(i=>{i.X(e,n,r)})}}class Pr{X(e,n,r){e.useBitmapCoordinateSpace(i=>this.K(i,n,r))}}class bme extends Pr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,s=this.G,o=Math.max(1,Math.floor(n))%2/2,a=l=>{e.beginPath();for(let u=i.to-1;u>=i.from;--u){const h=s.it[u],c=Math.round(h.nt*n)+o,f=h.st*r,d=l*r+o;e.moveTo(c,f),e.arc(c,f,d,0,2*Math.PI)}e.fill()};s.et>0&&(e.fillStyle=s.rt,a(s.ht+s.et)),e.fillStyle=s.lt,a(s.ht)}}function wme(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const xme={from:0,to:1};class _me{constructor(e,n){this.ut=new Wx,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(wme),this.ct=this.dt.map(r=>{const i=new bme;return i.J(r),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),r=this.vt.xt(),i=this.F.St();n.forEach((s,o)=>{var a;const l=this.dt[o],u=s.kt(r);if(e||u===null||!s.yt())return void(l.tt=null);const h=Y(s.Ct());l.lt=u.Tt,l.ht=u.ht,l.et=u.Pt,l.it[0]._t=u._t,l.it[0].st=s.Dt().Rt(u._t,h.Vt),l.rt=(a=u.Ot)!==null&&a!==void 0?a:this.F.Bt(l.it[0].st/s.Dt().At()),l.it[0].ot=r,l.it[0].nt=i.It(r),l.tt=xme})}}class Sme extends Pr{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const a=Math.round(this.zt.nt*r),l=Math.round(this.zt.st*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,uo(e,this.zt.Lt.Nt),function(u,h,c,f){u.beginPath();const d=u.lineWidth%2?.5:0;u.moveTo(h+d,c),u.lineTo(h+d,f),u.stroke()}(e,a,0,n.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,uo(e,this.zt.Et.Nt),fI(e,l,0,n.width))}}class Ome{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new Sme(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=Y(this.jt.Ht()),r=n.$t().W().crosshair,i=this.Ft;if(r.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(n),i.Lt.yt=e&&this.jt.qt(),i.Et.et=r.horzLine.width,i.Et.Nt=r.horzLine.style,i.Et.V=r.horzLine.color,i.Lt.et=r.vertLine.width,i.Lt.Nt=r.vertLine.style,i.Lt.V=r.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function Eme(t,e,n,r,i,s){t.fillRect(e+s,n,r-2*s,s),t.fillRect(e+s,n+i-s,r-2*s,s),t.fillRect(e,n,s,i),t.fillRect(e+r-s,n,s,i)}function Cm(t,e,n,r,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,n,r,i),t.restore()}function oC(t,e,n,r,i,s){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,s):(t.lineTo(e+r-s[1],n),s[1]!==0&&t.arcTo(e+r,n,e+r,n+s[1],s[1]),t.lineTo(e+r,n+i-s[2]),s[2]!==0&&t.arcTo(e+r,n+i,e+r-s[2],n+i,s[2]),t.lineTo(e+s[3],n+i),s[3]!==0&&t.arcTo(e,n+i,e,n+i-s[3],s[3]),t.lineTo(e,n+s[0]),s[0]!==0&&t.arcTo(e,n,e+s[0],n,s[0]))}function aC(t,e,n,r,i,s,o=0,a=[0,0,0,0],l=""){if(t.save(),!o||!l||l===s)return oC(t,e,n,r,i,a),t.fillStyle=s,t.fill(),void t.restore();const u=o/2;var h;oC(t,e+u,n+u,r-o,i-o,(h=-u,a.map(c=>c===0?c:c+h))),s!=="transparent"&&(t.fillStyle=s,t.fill()),l!=="transparent"&&(t.lineWidth=o,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function mI(t,e,n,r,i,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,n,r,i),t.restore()}class lC{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,r,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const s=this.zt.V,o=this.Xt.t,a=e.useBitmapCoordinateSpace(l=>{const u=l.context;u.font=n.R;const h=this.Gt(l,n,r,i),c=h.Jt;return h.Qt?aC(u,c.ti,c.ii,c.ni,c.si,o,c.ei,[c.ht,0,0,c.ht],o):aC(u,c.ri,c.ii,c.ni,c.si,o,c.ei,[0,c.ht,c.ht,0],o),this.zt.hi&&(u.fillStyle=s,u.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),this.zt._i&&(u.fillStyle=n.O,u.fillRect(h.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),h});e.useMediaCoordinateSpace(({context:l})=>{const u=a.di;l.font=n.R,l.textAlign=a.Qt?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(e,n,r,i){var s;const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:u,verticalPixelRatio:h}=e,c=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,d=n.L+this.Xt.wi,p=n.B+this.Xt.gi,m=n.A,b=n.I,y=this.zt.Kt,v=n.P,g=r.Mi(o,y),O=Math.ceil(r.xi(o,y)),x=v+d+p,E=n.C+m+b+O+c,_=Math.max(1,Math.floor(h));let S=Math.round(x*h);S%2!=_%2&&(S+=1);const k=f>0?Math.max(1,Math.floor(f*u)):0,P=Math.round(E*u),$=Math.round(c*u),T=(s=this.Xt.Si)!==null&&s!==void 0?s:this.Xt.ki,R=Math.round(T*h)-Math.floor(.5*h),z=Math.floor(R+_/2-S/2),U=z+S,W=i==="right",B=W?l.width-f:f,N=W?a.width-k:k;let L,F,j;return W?(L=N-P,F=N-$,j=B-c-m-f):(L=N+P,F=N+$,j=B+c+m),{Qt:W,Jt:{ii:z,li:R,ci:U,ni:P,si:S,ht:2*u,ei:k,ti:L,ri:N,ai:F,oi:_,ui:a.width},di:{ii:z/h,ci:U/h,fi:j,pi:g}}}}class $m{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||lC)(this.Ci,this.yi),this.Ri=new(e||lC)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class kme extends $m{constructor(e,n,r){super(),this.jt=e,this.Li=n,this.Ei=r}zi(e,n,r){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const s=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||s===null)return;const o=Pm(i.labelBackgroundColor);r.t=o.t,e.V=o.i;const a=2/12*this.Li.P();r.wi=a,r.gi=a;const l=this.Ei(this.Li);r.ki=l.ki,e.Kt=this.Li.Fi(l._t,s),e.yt=!0}}const Pme=/[1-9]/g;class vI{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,Y(this.zt).Kt,Pme))));if(r<=0)return;const i=n.ji,s=r+2*i,o=s/2,a=this.zt.Hi;let l=this.zt.ki,u=Math.floor(l-o)+.5;u<0?(l+=Math.abs(0-u),u=Math.floor(l-o)+.5):u+s>a&&(l-=Math.abs(a-(u+s)),u=Math.floor(l-o)+.5);const h=u+s,c=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:p})=>{const m=Y(this.zt);f.fillStyle=m.t;const b=Math.round(u*d),y=Math.round(0*p),v=Math.round(h*d),g=Math.round(c*p),O=Math.round(2*d);if(f.beginPath(),f.moveTo(b,y),f.lineTo(b,g-O),f.arcTo(b,g,b+O,g,O),f.lineTo(v-O,g),f.arcTo(v,g,v,g-O,O),f.lineTo(v,y),f.fill(),m.hi){const x=Math.round(m.ki*d),E=y,_=Math.round((E+n.T)*p);f.fillStyle=m.V;const S=Math.max(1,Math.floor(d)),k=Math.floor(.5*d);f.fillRect(x-k,E,S,_-E)}}),e.useMediaCoordinateSpace(({context:f})=>{const d=Y(this.zt),p=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=d.V;const m=n.Wi.Mi(f,"Apr0");f.translate(u+i,p+m),f.fillText(d.Kt,0,0)})}}class Cme{constructor(e,n,r){this.ft=!0,this.Wt=new vI,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const s=r.Ui(this.vt.xt());e.Kt=r.qi(Y(s)),e.yt=!0;const o=Pm(n.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=r.W().ticksVisible}}class Vx{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var cb;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(cb||(cb={}));class $me extends Vx{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new _me(e,this),this.fn=((i,s)=>o=>{const a=s(),l=i();if(o===Y(this.tn).vn())return{_t:l,ki:a};{const u=Y(o.Ct());return{_t:o.pn(a,u),ki:a}}})(()=>this.nn,()=>this.an);const r=((i,s)=>()=>{const o=this.$i.St().mn(i()),a=s();return o&&Number.isFinite(a)?{ot:o,ki:a}:null})(()=>this.sn,()=>this.Yt());this.bn=new Cme(this,e,r),this.wn=new Ome(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,n,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,r){this.Bn(e,n,r)&&this.Vn()}Bn(e,n,r){const i=this.ln,s=this.an,o=this.nn,a=this.sn,l=this.tn,u=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=n,this.an=u.Rt(n,h)):(this.nn=NaN,this.an=NaN),i!==this.ln||s!==this.an||a!==this.sn||o!==this.nn||l!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(gme),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,r){let i=e.get(n);return i===void 0&&(i=new kme(this,n,r),e.set(n,i)),i}}function Tm(t){return t==="left"||t==="right"}class Gt{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const r=function(i,s){return i===void 0?s:{Fn:Math.max(i.Fn,s.Fn),Wn:i.Wn||s.Wn}}(this.zn.get(e),n);this.zn.set(e,r)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,r)=>{this.Nn(r,n)})}static ss(){return new Gt(2)}static es(){return new Gt(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const uC=".";function ni(t,e){if(!Ir(t))return"n/a";if(!zc(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class jm{constructor(e,n){if(n||(n=1),Ir(e)&&zc(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let r=Math.floor(e),i="";const s=this._s!==void 0?this._s:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this._s);o>=n&&(o-=n,r+=1),i=uC+ni(+o.toFixed(this._s)*this.rs,s)}else r=Math.round(r*n)/n,s>0&&(i=uC+ni(0,s));return r.toFixed(0)+i}}class gI extends jm{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Tme{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const r=Math.pow(10,this.us);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}function yI(t,e,n,r,i,s,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:u}=t,h=e[r.from];let c=s(t,h),f=h;if(r.to-r.from<2){const d=i/2;a.beginPath();const p={nt:h.nt-d,st:h.st},m={nt:h.nt+d,st:h.st};a.moveTo(p.nt*l,p.st*u),a.lineTo(m.nt*l,m.st*u),o(t,c,p,m)}else{const d=(m,b)=>{o(t,c,f,b),a.beginPath(),c=m,f=b};let p=f;a.beginPath(),a.moveTo(h.nt*l,h.st*u);for(let m=r.from+1;m<r.to;++m){p=e[m];const b=s(t,p);switch(n){case 0:a.lineTo(p.nt*l,p.st*u);break;case 1:a.lineTo(p.nt*l,e[m-1].st*u),b!==c&&(d(b,p),a.lineTo(p.nt*l,e[m-1].st*u)),a.lineTo(p.nt*l,p.st*u);break;case 2:{const[y,v]=jme(e,m-1,m);a.bezierCurveTo(y.nt*l,y.st*u,v.nt*l,v.st*u,p.nt*l,p.st*u);break}}n!==1&&b!==c&&(d(b,p),a.moveTo(p.nt*l,p.st*u))}(f!==p||f===p&&n===1)&&o(t,c,f,p)}}const cC=6;function Qv(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function hC(t,e){return{nt:t.nt/e,st:t.st/e}}function jme(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var s,o;return[(s=t[e],o=hC(Qv(t[n],t[r]),cC),{nt:s.nt+o.nt,st:s.st+o.st}),Qv(t[n],hC(Qv(t[i],t[e]),cC))]}function Ame(t,e,n,r,i){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:a}=e;s.lineTo(i.nt*o,t*a),s.lineTo(r.nt*o,t*a),s.closePath(),s.fillStyle=n,s.fill()}class bI extends Pr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:r,tt:i,ds:s,et:o,Nt:a,fs:l}=this.G,u=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(i===null)return;const h=e.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=o,uo(h,a),h.lineWidth=1,yI(e,r,l,i,s,this.bs.bind(this),Ame.bind(null,u))}}function hb(t,e,n){return Math.min(Math.max(t,e),n)}function tf(t,e,n){return e-t<=n}function wI(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Hx{ws(e,n){const r=this.gs,{Ms:i,xs:s,Ss:o,ks:a,ys:l,vs:u}=n;if(this.Cs===void 0||r===void 0||r.Ms!==i||r.xs!==s||r.Ss!==o||r.ks!==a||r.vs!==u||r.ys!==l){const h=e.context.createLinearGradient(0,0,0,l);if(h.addColorStop(0,i),u!=null){const c=hb(u*e.verticalPixelRatio/l,0,1);h.addColorStop(c,s),h.addColorStop(c,o)}h.addColorStop(1,a),this.Cs=h,this.gs=n}return this.Cs}}class Nme extends bI{constructor(){super(...arguments),this.Ts=new Hx}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function Mme(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class xI extends Pr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:r,ds:i,fs:s,et:o,Nt:a,Ds:l}=this.G;if(r===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=o*e.verticalPixelRatio,uo(u,a),u.lineJoin="round";const h=this.Vs.bind(this);s!==void 0&&yI(e,n,s,r,i,h,Mme),l&&function(c,f,d,p,m){const{horizontalPixelRatio:b,verticalPixelRatio:y,context:v}=c;let g=null;const O=Math.max(1,Math.floor(b))%2/2,x=d*y+O;for(let E=p.to-1;E>=p.from;--E){const _=f[E];if(_){const S=m(c,_);S!==g&&(v.beginPath(),g!==null&&v.fill(),v.fillStyle=S,g=S);const k=Math.round(_.nt*b)+O,P=_.st*y;v.moveTo(k,P),v.arc(k,P,x,0,2*Math.PI)}}v.fill()}(e,n,l,r,h)}}class _I extends xI{Vs(e,n){return n.lt}}function SI(t,e,n,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],n)===t?(i=l+1,o-=a+1):o=a}return i}const ah=SI.bind(null,!0),OI=SI.bind(null,!1);function Rme(t,e){return t.ot<e}function Ime(t,e){return e<t.ot}function EI(t,e,n){const r=e.Os(),i=e.ui(),s=ah(t,r,Rme),o=OI(t,i,Ime);if(!n)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].ot>=r&&(a=s-1),o>0&&o<t.length&&t[o-1].ot<=i&&(l=o+1),{from:a,to:l}}class Kx{constructor(e,n,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const r=n.Xs();if(r===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=EI(this.zs,r,this.Fs),this.Gs(e,n,i.Vt),this.Js())}}class Am extends Kx{constructor(e,n){super(e,n,!0)}Gs(e,n,r){n.Qs(this.zs,Fc(this.Ls)),e.te(this.zs,r,Fc(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const r=n.Vt[3];return this.se(n.ee,r,e)})}}class Lme extends Am{constructor(e,n){super(e,n),this.js=new Wx,this.re=new Nme,this.he=new _I,this.js.Z([this.re,this.he])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class Dme extends Pr{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let i=null;const s=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const a=this.zt.In[o];i!==a.ce&&(e.fillStyle=a.ce,i=a.ce);const l=Math.floor(.5*this.oe),u=Math.round(a.nt*n),h=u-l,c=this.oe,f=h+c-1,d=Math.min(a.de,a.fe),p=Math.max(a.de,a.fe),m=Math.round(d*r)-l,b=Math.round(p*r)+l,y=Math.max(b-m,this.oe);e.fillRect(h,m,c,y);const v=Math.ceil(1.5*this.ae);if(s){if(this.zt.ve){const E=u-v;let _=Math.max(m,Math.round(a.pe*r)-l),S=_+c-1;S>m+y-1&&(S=m+y-1,_=S-c+1),e.fillRect(E,_,h-E,S-_+1)}const g=u+v;let O=Math.max(m,Math.round(a.me*r)-l),x=O+c-1;x>m+y-1&&(x=m+y-1,O=x-c+1),e.fillRect(f+1,O,g-f,x-O+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(r,i){return Math.floor(.3*r*i)}(Y(this.zt).le,e)))}}class kI extends Kx{constructor(e,n){super(e,n,!1)}Gs(e,n,r){n.Qs(this.zs,Fc(this.Ls)),e.be(this.zs,r,Fc(this.Ls))}we(e,n,r){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class zme extends kI{constructor(){super(...arguments),this.js=new Dme}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class Fme extends bI{constructor(){super(...arguments),this.Ts=new Hx}bs(e,n){const r=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:r.vs})}}class Bme extends xI{constructor(){super(...arguments),this.Pe=new Hx}Vs(e,n){const r=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:r.vs})}}class Ume extends Am{constructor(e,n){super(e,n),this.js=new Wx,this.Ve=new Fme,this.Oe=new Bme,this.js.Z([this.Ve,this.Oe])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),r=this.Es.Dt().Rt(n.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:r,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:i})}}class Wme extends Pr{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(s,o){if(s>=2.5&&s<=4)return Math.floor(3*o);const a=1-.2*Math.atan(Math.max(4,s)-4)/(.5*Math.PI),l=Math.floor(s*a*o),u=Math.floor(s*o),h=Math.min(l,u);return Math.max(Math.floor(o),h)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const i=this.ze(n);(!this.zt._i||this.ae>2*i)&&this.Le(e,r,this.zt.tt)}Ae(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="",l=Math.min(Math.floor(s),Math.floor(this.zt.le*s));l=Math.max(Math.floor(s),Math.min(l,this.ae));const u=Math.floor(.5*l);let h=null;for(let c=r.from;c<r.to;c++){const f=n[c];f.Ee!==a&&(i.fillStyle=f.Ee,a=f.Ee);const d=Math.round(Math.min(f.pe,f.me)*o),p=Math.round(Math.max(f.pe,f.me)*o),m=Math.round(f.de*o),b=Math.round(f.fe*o);let y=Math.round(s*f.nt)-u;const v=y+l-1;h!==null&&(y=Math.max(h+1,y),y=Math.min(y,v));const g=v-y+1;i.fillRect(y,m,g,d-m),i.fillRect(y,p+1,g,b-p),h=v}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),n);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);let u=null;for(let h=r.from;h<r.to;h++){const c=n[h];c.Ne!==a&&(i.fillStyle=c.Ne,a=c.Ne);let f=Math.round(c.nt*s)-Math.floor(.5*this.ae);const d=f+this.ae-1,p=Math.round(Math.min(c.pe,c.me)*o),m=Math.round(Math.max(c.pe,c.me)*o);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,d)),this.zt.le*s>2*l)Eme(i,f,p,d-f+1,m-p+1,l);else{const b=d-f+1;i.fillRect(f,p,b,m-p+1)}u=d}}Le(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);for(let u=r.from;u<r.to;u++){const h=n[u];let c=Math.round(Math.min(h.pe,h.me)*o),f=Math.round(Math.max(h.pe,h.me)*o),d=Math.round(h.nt*s)-Math.floor(.5*this.ae),p=d+this.ae-1;if(h.ce!==a){const m=h.ce;i.fillStyle=m,a=m}this.zt._i&&(d+=l,c+=l,p-=l,f-=l),c>f||i.fillRect(d,c,p-d+1,f-c+1)}}}class Vme extends kI{constructor(){super(...arguments),this.js=new Wme}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class Hme{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,r){this.Fe.draw(e,this.Li,n,r)}}class eg extends Kx{constructor(e,n,r){super(e,n,!1),this.wn=r,this.js=new Hme(this.wn.renderer(),i=>{const s=e.Ct();return s===null?null:e.Dt().Rt(i,s.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Fc(this.Ls))}Js(){this.wn.update({bars:this.zs.map(Kme),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function Kme(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class qme extends Pr{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const i=Math.max(1,Math.floor(r)),s=Math.round(this.zt.Ye*r)-Math.floor(i/2),o=s+i;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const l=this.zt.it[a],u=this.Ue[a-this.zt.tt.from],h=Math.round(l.st*r);let c,f;e.fillStyle=l.ce,h<=s?(c=h,f=o):(c=s,f=h-Math.floor(i/2)+i),e.fillRect(u.Os,c,u.ui-u.Os+1,f-c)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.zt.it[s],a=Math.round(o.nt*e);let l,u;if(r%2){const h=(r-1)/2;l=a-h,u=a+h}else{const h=r/2;l=a-h,u=a+h-1}this.Ue[s-this.zt.tt.from]={Os:l,ui:u,Ze:a,Xe:o.nt*e,ot:o.ot}}for(let s=this.zt.tt.from+1;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from],a=this.Ue[s-this.zt.tt.from-1];o.ot===a.ot+1&&o.Os-a.ui!==n+1&&(a.Ze>a.Xe?a.ui=o.Os-n-1:o.Os=a.ui+n+1)}let i=Math.ceil(this.zt.le*e);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const a=o.ui-o.Os+1;i=Math.min(a,i)}if(n>0&&i<4)for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class Gme extends Am{constructor(){super(...arguments),this.js=new qme}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,Y(this.Es.Ct()).Vt)};this.js.J(e)}}class Zme extends Am{constructor(){super(...arguments),this.js=new _I}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const Xme=/[2-9]/g;class Bc{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,r){return this.sr(e,n,r).width}Mi(e,n,r){const i=this.sr(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,n,r){const i=r||Xme,s=String(n).replace(i,"0");if(this.tr.has(s))return pn(this.tr.get(s)).er;if(this.Ke===this.ir){const a=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(a),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&n.length||(this.tr.set(s,{er:o,rr:this.Ge}),this.Qe[this.Ge]=s,this.Ke++,this.Ge++),o}}class Yme{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,r){this.hr=e,this.k=n,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class PI{constructor(e,n,r){this.ur=e,this.ar=new Bc(50),this.cr=n,this.F=r,this.j=-1,this.Wt=new Yme(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const r=e.mr(n);if(r==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,r),this.Wt}}class Jme extends Pr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:i,et:s,gr:o}=this.zt;return n>=i-s-7&&n<=i+s+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const s=Math.round(this.zt.st*i);s<0||s>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),uo(e,this.zt.Nt),fI(e,s,0,n.width))}}class qx{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new Jme,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class Qme extends qx{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class eve extends Pr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.zt;if(i===null)return;const s=Math.max(1,Math.floor(n)),o=s%2/2,a=Math.round(i.Xe.x*n)+o,l=i.Xe.y*r;e.fillStyle=i.Tr,e.beginPath();const u=Math.max(2,1.5*i.Pr)*n;e.arc(a,l,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(a,l,i.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.Dr,e.beginPath(),e.arc(a,l,i.ht*n+s/2,0,2*Math.PI,!1),e.stroke()}}const tve=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function fC(t,e,n,r){return function(i,s){if(i==="transparent")return i;const o=Dc(i),a=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${s*a})`}(t,n+(r-n)*e)}function dC(t,e){const n=t%2600/2600;let r;for(const l of tve)if(n>=l.Vr&&n<=l.Or){r=l;break}os(r!==void 0,"Last price animation internal logic error");const i=(n-r.Vr)/(r.Or-r.Vr);return{Rr:fC(e,i,r.Ir,r.zr),Dr:fC(e,i,r.Lr,r.Er),ht:(s=i,o=r.Br,a=r.Ar,o+(a-o)*s)};var s,o,a}class nve{constructor(e){this.Wt=new eve,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),r=this.jr.Ct();if(n===null||r===null)return;const i=this.jr.Zr(!0);if(i.Xr||!n.Kr(i.ee))return;const s={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,r.Vt)},o=i.V,a=this.jr.W().lineWidth,l=dC(this.Gr(),o);this.Wt.J({Tr:o,Pr:a,Rr:l.Rr,Dr:l.Dr,ht:l.ht,Xe:s})}Yr(){const e=this.Wt.$e();if(e!==null){const n=dC(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function Ou(t,e){return wI(Math.min(Math.max(t,12),30)*e)}function Uc(t,e){switch(t){case"arrowDown":case"arrowUp":return Ou(e,1);case"circle":return Ou(e,.8);case"square":return Ou(e,.7)}}function CI(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(Ou(t,1))}function pC(t){return Math.max(Ou(t,.1),3)}function mC(t,e,n){return e?t:n?Math.ceil(t/2):0}function $I(t,e,n,r,i){const s=Uc("square",n),o=(s-1)/2,a=t-o,l=e-o;return r>=a&&r<=a+s&&i>=l&&i<=l+s}function vC(t,e,n,r){const i=(Uc("arrowUp",r)-1)/2*n.Jr,s=(wI(r/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st-i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st+i),e.lineTo(n.nt-s,n.st+i),e.lineTo(n.nt-s,n.st)):(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st+i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st-i),e.lineTo(n.nt-s,n.st-i),e.lineTo(n.nt-s,n.st)),e.fill()}function rve(t,e,n,r,i,s){return $I(e,n,r,i,s)}class ive extends Pr{constructor(){super(...arguments),this.zt=null,this.ar=new Bc,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Ga(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const i=this.zt.it[r];if(ove(i,e,n))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r},i,s){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o];a.Kt!==void 0&&(a.Kt.Hi=this.ar.xi(e,a.Kt.ih),a.Kt.At=this.j,a.Kt.nt=a.nt-a.Kt.Hi/2),sve(a,e,n,r)}}}}function sve(t,e,n,r){e.fillStyle=t.V,t.Kt!==void 0&&function(i,s,o,a,l,u){i.save(),i.scale(l,u),i.fillText(s,o,a),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,r),function(i,s,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void vC(!1,s,o,i.Ks);case"arrowUp":return void vC(!0,s,o,i.Ks);case"circle":return void function(a,l,u){const h=(Uc("circle",u)-1)/2;a.beginPath(),a.arc(l.nt,l.st,h*l.Jr,0,2*Math.PI,!1),a.fill()}(s,o,i.Ks);case"square":return void function(a,l,u){const h=Uc("square",u),c=(h-1)*l.Jr/2,f=l.nt-c,d=l.st-c;a.fillRect(f,d,h*l.Jr,h*l.Jr)}(s,o,i.Ks)}i.nh}}(t,e,function(i,s,o){const a=Math.max(1,Math.floor(s))%2/2;return{nt:Math.round(i.nt*s)+a,st:i.st*o,Jr:s}}(t,n,r))}function ove(t,e,n){return!(t.Kt===void 0||!function(r,i,s,o,a,l){const u=o/2;return a>=r&&a<=r+s&&l>=i-u&&l<=i+u}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(r,i,s){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return rve(0,r.nt,r.st,r.Ks,i,s);case"circle":return function(o,a,l,u,h){const c=2+Uc("circle",l)/2,f=o-u,d=a-h;return Math.sqrt(f*f+d*d)<=c}(r.nt,r.st,r.Ks,i,s);case"square":return $I(r.nt,r.st,r.Ks,i,s)}}(t,e,n)}function ave(t,e,n,r,i,s,o,a,l){const u=Ir(n)?n:n.Se,h=Ir(n)?n:n.Me,c=Ir(n)?n:n.xe,f=Ir(e.size)?Math.max(e.size,0):1,d=CI(a.le())*f,p=d/2;switch(t.Ks=d,e.position){case"inBar":return t.st=o.Rt(u,l),void(t.Kt!==void 0&&(t.Kt.st=t.st+p+s+.6*i));case"aboveBar":return t.st=o.Rt(h,l)-p-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-p-.6*i,r.sh+=1.2*i),void(r.sh+=d+s);case"belowBar":return t.st=o.Rt(c,l)+p+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+p+s+.6*i,r.eh+=1.2*i),void(r.eh+=d+s)}e.position}class lve{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new ive,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=pC(e),r=1.5*CI(e)+2*n,i=this.fh();this.ah={above:mC(r,i.aboveBar,i.inBar),below:mC(r,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const s=n.Xs();if(s===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let a=NaN;const l=pC(n.le()),u={sh:l,eh:l};this.zt.tt=EI(this.zt.it,s,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const c=r[h];c.time!==a&&(u.sh=l,u.eh=l,a=c.time);const f=this.zt.it[h];f.nt=n.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Kt={ih:c.text,nt:0,st:0,Hi:0,At:0});const d=this.jr.ph(c.time);d!==null&&ave(f,c,d,u,i.fontSize,l,e,n,o.Vt)}this.ft=!1}}class uve extends qx{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(n.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class cve extends $m{constructor(e){super(),this.jt=e}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.jt;if(!i.yt())return;const s=i.W(),o=s.lastValueVisible,a=i.bh()!=="",l=s.seriesLastValueMode===0,u=i.Zr(!1);if(u.Xr)return;o&&(e.Kt=this.wh(u,o,l),e.yt=e.Kt.length!==0),(a||l)&&(n.Kt=this.gh(u,o,a,l),n.yt=n.Kt.length>0);const h=i.mh(u.V),c=Pm(h);r.t=c.t,r.ki=u.ki,n.Ot=i.$t().Bt(u.ki/i.Dt().At()),e.Ot=h,e.V=c.i,n.V=c.i}gh(e,n,r,i){let s="";const o=this.jt.bh();return r&&o.length!==0&&(s+=`${o} `),n&&i&&(s+=this.jt.Dt().Mh()?e.xh:e.Sh),s.trim()}wh(e,n,r){return n?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function gC(t,e,n,r){const i=Number.isFinite(e),s=Number.isFinite(n);return i&&s?t(e,n):i||s?i?e:n:r}class Pn{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Pn(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Pn(gC(Math.min,this.Ph(),e.Ph(),-1/0),gC(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Ir(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let r=this.yh-n,i=this.kh-n;r*=e,i*=e,this.yh=n+r,this.kh=n+i}Oh(e){Ir(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Pn(e.minValue,e.maxValue)}}class lp{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new lp(Pn.Ah(e.priceRange),e.margins)}}class hve extends qx{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class fve extends $m{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.Nh.W(),s=i.axisLabelVisible,o=i.title!=="",a=this.jr;if(!s||!a.yt())return;const l=this.Nh.Fh();if(l===null)return;o&&(n.Kt=i.title,n.yt=!0),n.Ot=a.$t().Bt(l/a.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const u=Pm(i.axisLabelColor||i.color);r.t=u.t;const h=i.axisLabelTextColor||u.i;e.V=h,n.V=h,r.ki=l}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class dve{constructor(e,n){this.jr=e,this.cn=n,this.jh=new hve(e,this),this.ur=new fve(e,this),this.Hh=new PI(this.ur,e,e.$t())}$h(e){Er(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const r=e.Ct();return r===null?null:n.Rt(this.cn.price,r.Vt)}}class pve extends Vx{constructor(e){super(),this.$i=e}$t(){return this.$i}}const mve={Bar:(t,e,n,r)=>{var i;const s=e.upColor,o=e.downColor,a=Y(t(n,r)),l=sa(a.Vt[0])<=sa(a.Vt[3]);return{ce:(i=a.V)!==null&&i!==void 0?i:l?s:o}},Candlestick:(t,e,n,r)=>{var i,s,o;const a=e.upColor,l=e.downColor,u=e.borderUpColor,h=e.borderDownColor,c=e.wickUpColor,f=e.wickDownColor,d=Y(t(n,r)),p=sa(d.Vt[0])<=sa(d.Vt[3]);return{ce:(i=d.V)!==null&&i!==void 0?i:p?a:l,Ne:(s=d.Ot)!==null&&s!==void 0?s:p?u:h,Ee:(o=d.Xh)!==null&&o!==void 0?o:p?c:f}},Custom:(t,e,n,r)=>{var i;return{ce:(i=Y(t(n,r)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,n,r)=>{var i,s,o,a;const l=Y(t(n,r));return{ce:(i=l.lt)!==null&&i!==void 0?i:e.lineColor,lt:(s=l.lt)!==null&&s!==void 0?s:e.lineColor,Ps:(o=l.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(a=l.Rs)!==null&&a!==void 0?a:e.bottomColor}},Baseline:(t,e,n,r)=>{var i,s,o,a,l,u;const h=Y(t(n,r));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=h.Re)!==null&&i!==void 0?i:e.topLineColor,De:(s=h.De)!==null&&s!==void 0?s:e.bottomLineColor,ke:(o=h.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(a=h.ye)!==null&&a!==void 0?a:e.topFillColor2,Ce:(l=h.Ce)!==null&&l!==void 0?l:e.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:e.bottomFillColor2}},Line:(t,e,n,r)=>{var i,s;const o=Y(t(n,r));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(s=o.V)!==null&&s!==void 0?s:e.color}},Histogram:(t,e,n,r)=>{var i;return{ce:(i=Y(t(n,r)).V)!==null&&i!==void 0?i:e.color}}};class vve{constructor(e){this.Kh=(n,r)=>r!==void 0?r.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=mve[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var fb;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(fb||(fb={}));const Ei=30;class gve{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const r=this.hl(e,n);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,n,r){if(this.Ni())return null;let i=null;for(const s of r)i=nf(i,this._l(e,n,s));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const r=this.ul(e);if(r===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return ah(this.tl,e,(n,r)=>n.ee<r)}vl(e){return OI(this.tl,e,(n,r)=>n.ee>r)}pl(e,n,r){let i=null;for(let s=e;s<n;s++){const o=this.tl[s].Vt[r];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,n,r){if(this.Ni())return null;let i=null;const s=Y(this.el()),o=Y(this.An()),a=Math.max(e,s),l=Math.min(n,o),u=Math.ceil(a/Ei)*Ei,h=Math.max(u,Math.floor(l/Ei)*Ei);{const f=this.fl(a),d=this.vl(Math.min(l,u,n));i=nf(i,this.pl(f,d,r))}let c=this.il.get(r);c===void 0&&(c=new Map,this.il.set(r,c));for(let f=Math.max(u+1,a);f<h;f+=Ei){const d=Math.floor(f/Ei);let p=c.get(d);if(p===void 0){const m=this.fl(d*Ei),b=this.vl((d+1)*Ei-1);p=this.pl(m,b,r),c.set(d,p)}i=nf(i,p)}{const f=this.fl(h),d=this.vl(l);i=nf(i,this.pl(f,d,r))}return i}}function nf(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class yve{constructor(e){this.wl=e}X(e,n,r){this.wl.draw(e)}gl(e,n,r){var i,s;(s=(i=this.wl).drawBackground)===null||s===void 0||s.call(i,e)}}class tg{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const r=new yve(n);return this.tr={Ml:n,xl:r},r}Sl(){var e,n,r;return(r=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:"normal"}}function TI(t){var e,n,r,i,s;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r,hi:(s=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||s===void 0||s}}class bve{constructor(e,n){this.Wt=new vI,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},TI(this.kl))),this.Wt}}class wve extends $m{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,r){const i=TI(this.kl);r.t=i.t,e.V=i.V;const s=2/12*this.Li.P();r.wi=s,r.gi=s,r.ki=i.ki,r.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class xve{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===s)return this.Cl.xl;const o=s.map(a=>new tg(a));return this.Cl={Ml:s,xl:o},o}Qi(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===s)return this.Tl.xl;const o=this.jr.$t().St(),a=s.map(l=>new bve(l,o));return this.Tl={Ml:s,xl:a},a}Rn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===s)return this.Pl.xl;const o=this.jr.Dt(),a=s.map(l=>new wve(l,o));return this.Pl={Ml:s,xl:a},a}Bl(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===s)return this.Rl.xl;const o=s.map(a=>new tg(a));return this.Rl={Ml:s,xl:o},o}Al(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===s)return this.Dl.xl;const o=s.map(a=>new tg(a));return this.Dl={Ml:s,xl:o},o}Il(e,n){var r,i,s;return(s=(i=(r=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}wr(e,n){var r,i,s;return(s=(i=(r=this.Vl).hitTest)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}}function ng(t,e,n,r){t.forEach(i=>{e(i).forEach(s=>{s.Sl()===n&&r.push(s)})})}function rg(t){return t.Pn()}function _ve(t){return t.Bl()}function Sve(t){return t.Al()}class Gx extends pve{constructor(e,n,r,i,s){super(e),this.zt=new gve,this.jh=new uve(this),this.zl=[],this.Ll=new Qme(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=r;const o=new cve(this);this.rn=[o],this.Hh=new PI(o,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new nve(this)),this.Ul(),this.ql(s)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return n;const i=this.$t().St().Xs(),s=this.Ct();if(i===null||s===null)return n;let o,a;if(e){const c=this.zt.sl();if(c===null)return n;o=c,a=c.ee}else{const c=this.zt.ll(i.ui(),-1);if(c===null||(o=this.zt.Gh(c.ee),o===null))return n;a=c.ee}const l=o.Vt[3],u=this.Us().$s(a,{Vt:o}),h=r.Rt(l,s.Vt);return{Xr:!1,_t:l,Kt:r.Fi(l,s.Vt),xh:r.Yl(l),Sh:r.Zl(l,s.Vt),V:u.ce,ki:h,ee:a}}Us(){return this.Nl!==null||(this.Nl=new vve(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),Er(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new dve(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];ng(this.Hl,rg,"top",n);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),n.unshift(r)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(r=>r.qh());return e.push(...n),ng(this.Hl,rg,"normal",e),e}ua(){return this.ca(rg,"bottom")}da(e){return this.ca(_ve,e)}fa(e){return this.ca(Sve,e)}va(e,n){return this.Hl.map(r=>r.wr(e,n)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const i of this.zl)r.push(i.Zh());return this.Hl.forEach(i=>{r.push(...i.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,n);return i===null?null:i.Bh()});return lp.Ah(r)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return Y(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new xve(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof eg)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof eg)return e=>this.wn.je(e)}_a(){return!Tm(this.Dt().Pa())}pa(e,n){if(!zc(e)||!zc(n)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,n,r);let s=i!==null?new Pn(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const a=this.cn.base,l=new Pn(a,a);s=s!==null?s.ts(l):l}let o=this.dn.uh();return this.Hl.forEach(a=>{const l=a.Il(e,n);if(l!=null&&l.priceRange){const d=new Pn(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.ts(d):d}var u,h,c,f;l!=null&&l.margins&&(u=o,h=l.margins,o={above:Math.max((c=u==null?void 0:u.above)!==null&&c!==void 0?c:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new lp(s,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new Tme(this.cn.priceFormat.precision);break;case"percent":this.wa=new gI(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new jm(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=Y(this.zt.el());this.Wl=this.Fl.map((r,i)=>{const s=Y(e.Va(r.time,!0)),o=s<n?1:-1;return{time:Y(this.zt.ll(s,o)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:i,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new lve(this,this.$t()),this.$l){case"Bar":this.wn=new zme(this,this.$t());break;case"Candlestick":this.wn=new Vme(this,this.$t());break;case"Line":this.wn=new Zme(this,this.$t());break;case"Custom":this.wn=new eg(this,this.$t(),pn(e));break;case"Area":this.wn=new Lme(this,this.$t());break;case"Baseline":this.wn=new Ume(this,this.$t());break;case"Histogram":this.wn=new Gme(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const r=[];return ng(this.Hl,e,n,r),r}}class Ove{constructor(e){this.cn=e}Oa(e,n,r){let i=e;if(this.cn.mode===0)return i;const s=r.vn(),o=s.Ct();if(o===null)return i;const a=s.Rt(e,o),l=r.Ba().filter(h=>h instanceof Gx).reduce((h,c)=>{if(r.vr(c)||!c.yt())return h;const f=c.Dt(),d=c.In();if(f.Ni()||!d.Kr(n))return h;const p=d.Gh(n);if(p===null)return h;const m=sa(c.Ct());return h.concat([f.Rt(p.Vt[3],m.Vt)])},[]);if(l.length===0)return i;l.sort((h,c)=>Math.abs(h-a)-Math.abs(c-a));const u=l[0];return i=s.pn(u,o),i}}class Eve extends Pr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=Y(this.zt);if(o.Aa){e.strokeStyle=o.Ia,uo(e,o.za),e.beginPath();for(const a of o.La){const l=Math.round(a.Ea*r);e.moveTo(l,-s),e.lineTo(l,n.height+s)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,uo(e,o.Wa),e.beginPath();for(const a of o.ja){const l=Math.round(a.Ea*i);e.moveTo(-s,l),e.lineTo(n.width+s,l)}e.stroke()}})}}class kve{constructor(e){this.Wt=new Eve,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class Pve{constructor(e){this.wn=new kve(e)}qh(){return this.wn}}const ig={$a:4,Ua:1e-4};function oa(t,e){const n=100*(t-e)/e;return e<0?-n:n}function Cve(t,e){const n=oa(t.Ph(),e),r=oa(t.Rh(),e);return new Pn(n,r)}function Eu(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function $ve(t,e){const n=Eu(t.Ph(),e),r=Eu(t.Rh(),e);return new Pn(n,r)}function up(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ua)+e.$a;return t<0?-r:r}function ku(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.$a)-e.Ua;return t<0?-r:r}function ql(t,e){if(t===null)return null;const n=up(t.Ph(),e),r=up(t.Rh(),e);return new Pn(n,r)}function rf(t,e){if(t===null)return null;const n=ku(t.Ph(),e),r=ku(t.Rh(),e);return new Pn(n,r)}function sg(t){if(t===null)return ig;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return ig;const n=Math.ceil(Math.abs(Math.log10(e))),r=ig.$a+n;return{$a:r,Ua:1/Math.pow(10,r)}}class og{constructor(e,n){if(this.qa=e,this.Ya=n,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,r){const i=this.qa===0?0:1/this.qa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,a=this.Ya[0];for(;;){const c=tf(s,i,1e-14)&&s>i+1e-14,f=tf(s,r*a,1e-14),d=tf(s,1,1e-14);if(!(c&&f&&d))break;s/=a,a=this.Ya[++o%this.Ya.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.Za.length>0&&(l=s,u=1,h=1e-14,Math.abs(l-u)<h))for(o=0,a=this.Za[0];tf(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.Za[++o%this.Za.length];var l,u,h;return s}}class yC{constructor(e,n,r,i){this.Ka=[],this.Li=e,this.qa=n,this.Ga=r,this.Ja=i}Xa(e,n){if(e<n)throw new Error("high < low");const r=this.Li.At(),i=(e-n)*this.Qa()/r,s=new og(this.qa,[2,2.5,2]),o=new og(this.qa,[2,2,2.5]),a=new og(this.qa,[2.5,2,2]),l=[];return l.push(s.Xa(e,n,i),o.Xa(e,n,i),a.Xa(e,n,i)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(l)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const r=e.At(),i=this.Ga(r-1,n),s=this.Ga(0,n),o=this.Li.W().entireTextOnly?this.no()/2:0,a=o,l=r-1-o,u=Math.max(i,s),h=Math.min(i,s);if(u===h)return void(this.Ka=[]);let c=this.Xa(u,h),f=u%c;f+=f<0?c:0;const d=u>=h?1:-1;let p=null,m=0;for(let b=u-f;b>h;b-=c){const y=this.Ja(b,n,!0);p!==null&&Math.abs(y-p)<this.Qa()||y<a||y>l||(m<this.Ka.length?(this.Ka[m].Ea=y,this.Ka[m].so=e.eo(b)):this.Ka.push({Ea:y,so:e.eo(b)}),m++,p=y,e.ro()&&(c=this.Xa(b*d,h)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function jI(t){return t.slice().sort((e,n)=>Y(e.Xi())-Y(n.Xi()))}var db;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(db||(db={}));const bC=new gI,wC=new jm(100,1);class Tve{constructor(e,n,r,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new xt,this.vo=new xt,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=wC,this.xo=sg(null),this.So=e,this.cn=n,this.ko=r,this.yo=i,this.Co=new yC(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(Er(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=pn(e.scaleMargins.top),r=pn(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(s,o){if(s===null)return!1;const a=ku(s.Ph(),o),l=ku(s.Rh(),o);return isFinite(a)&&isFinite(l)}(this.Ih,this.xo)?(r=rf(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(r=ql(this.Ih,this.xo),r!==null&&this.Ao(r));const i=n.Cr!==this.cn.mode;i&&(n.Cr===2||this.Mh())&&this.Ra(),i&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const r=this.Ih;(n||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=oa(e,n):this.Oo()&&(e=Eu(e,n)),this.Po(e,n)}te(e,n,r){this.Wo();const i=this.Fo(),s=Y(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,u=this.Bo(),h=l/(a-o),c=r===void 0?0:r.from,f=r===void 0?e.length:r.to,d=this.Ho();for(let p=c;p<f;p++){const m=e[p],b=m._t;if(isNaN(b))continue;let y=b;d!==null&&(y=d(m._t,n));const v=i+h*(y-o),g=u?v:this.ho-1-v;m.st=g}}be(e,n,r){this.Wo();const i=this.Fo(),s=Y(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,u=this.Bo(),h=l/(a-o),c=r===void 0?0:r.from,f=r===void 0?e.length:r.to,d=this.Ho();for(let p=c;p<f;p++){const m=e[p];let b=m.ge,y=m.Me,v=m.xe,g=m.Se;d!==null&&(b=d(m.ge,n),y=d(m.Me,n),v=d(m.xe,n),g=d(m.Se,n));let O=i+h*(b-o),x=u?O:this.ho-1-O;m.pe=x,O=i+h*(y-o),x=u?O:this.ho-1-O,m.de=x,O=i+h*(v-o),x=u?O:this.ho-1-O,m.fe=x,O=i+h*(g-o),x=u?O:this.ho-1-O,m.me=x}}pn(e,n){const r=this.To(e,n);return this.$o(r,n)}$o(e,n){let r=e;return this.Mh()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,n):this.Oo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,n)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const r=this.po[n];r.Xi()===null&&r.Ki(n+1),e.push(r)}return e=jI(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const r=n.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=Y(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=Y(this.ao).Th();n=Math.max(n,.1),r.Vh(n),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=Y(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=Y(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const i=r*n,s=Y(this.ao).Th();s.Oh(i),this.Ao(s,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(oa(e,n));case 3:return this.ba().format(Eu(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,Y(this.e_()).ba())}Zl(e,n){return e=oa(e,n),this.s_(e,bC)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=wC,this.Mh()?(this.wa=bC,n=100):this.Oo()?(this.wa=new jm(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new yC(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?up(e,this.xo):e;const r=Y(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(i)}To(e,n){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),i=Y(this.Lh()),s=i.Ph()+i.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?ku(s,this.xo):s}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const r=this.r_();let i=0,s=0;for(const l of r){if(!l.yt())continue;const u=l.Ct();if(u===null)continue;const h=l.Il(e.Os(),e.ui());let c=h&&h.Lh();if(c!==null){switch(this.cn.mode){case 1:c=ql(c,this.xo);break;case 2:c=Cve(c,u.Vt);break;case 3:c=$ve(c,u.Vt)}if(n=n===null?c:n.ts(Y(c)),h!==null){const f=h.Eh();f!==null&&(i=Math.max(i,f.above),s=Math.max(s,f.below))}}}if(i===this.co&&s===this.do||(this.co=i,this.do=s,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const l=this.e_(),u=5*(l===null||this.Mh()||this.Oo()?1:l.ma());this.ro()&&(n=rf(n,this.xo)),n=new Pn(n.Ph()-u,n.Rh()+u),this.ro()&&(n=ql(n,this.xo))}if(this.ro()){const l=rf(n,this.xo),u=sg(l);if(o=u,a=this.xo,o.$a!==a.$a||o.Ua!==a.Ua){const h=this.ao!==null?rf(this.ao,this.xo):null;this.xo=u,n=ql(l,u),h!==null&&(this.ao=ql(h,u))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new Pn(-.5,.5)),this.xo=sg(null));var o,a;this.oo._o=!0}Ho(){return this.Mh()?oa:this.Oo()?Eu:this.ro()?e=>up(e,this.xo):null}a_(e,n,r){return n===void 0?(r===void 0&&(r=this.ba()),r.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class jve{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new xt,this.yl=e,this.$i=n,this.d_=new Pve(this);const r=n.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const r of n){const i=Y(r[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?pn(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const r=n.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,r){const i=r!==void 0?r:this.C_().y_+1;this.T_(e,n,i)}Zo(e){const n=this.po.indexOf(e);os(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const r=Y(e.Dt()).Pa();if(this.o_.has(r)){const s=pn(this.o_.get(r)),o=s.indexOf(e);o!==-1&&(s.splice(o,1),s.length===0&&this.o_.delete(r))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=jI(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,r=0;for(let i=0;i<e.length;i++){const s=e[i].Xi();s!==null&&(s<n&&(n=s),s>r&&(r=s))}return{H_:n,y_:r}}T_(e,n,r){let i=this.w_(n);if(i===null&&(i=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!Tm(n)){const s=this.o_.get(n)||[];s.push(e),this.o_.set(n,s)}i.qo(e),e.Gi(i),e.Ki(r),this.P_(i),this.mo=null}m_(e,n,r){n.Cr!==r.Cr&&this.L_(e)}v_(e,n){const r=Object.assign({visible:!0,autoScale:!0},ti(n)),i=new Tve(e,r,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class Ave{constructor(e,n,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=r}Y_(e){const n=e.time,r=this.q_.cacheKey(n),i=this.tr.get(r);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(pn(o)),this.Je++,this.Ke--}const s=this.U_(e);return this.tr.set(r,{Z_:s,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,s}}class Pu{constructor(e,n){os(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function xC(t,e){return t===null||e===null?t===e:t.Ch(e)}class Nve{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let r=n;r<e.length;++r){const i=e[r];let s=this.J_.get(i.timeWeight);s===void 0&&(s=[],this.J_.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,n){const r=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((r,i)=>{e<=r[0].index?n.push(i):r.splice(ah(r,e,s=>s.index<e),1/0)});for(const r of n)this.J_.delete(r)}ru(e){let n=[];for(const r of Array.from(this.J_.keys()).sort((i,s)=>s-i)){if(!this.J_.get(r))continue;const i=n;n=[];const s=i.length;let o=0;const a=pn(this.J_.get(r)),l=a.length;let u=1/0,h=-1/0;for(let c=0;c<l;c++){const f=a[c],d=f.index;for(;o<s;){const p=i[o],m=p.index;if(!(m<d)){u=m;break}o++,n.push(p),h=m,u=1/0}if(u-d>=e&&d-h>=e)n.push(f),h=d;else if(this.Q_)return i}for(;o<s;o++)n.push(i[o])}return n}}class va{constructor(e){this.hu=e}lu(){return this.hu===null?null:new Pu(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new va(null)}}function Mve(t,e){return t.weight>e.weight?t:e}class Rve{constructor(e,n,r,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new Nve,this.du=new Map,this.fu=va.ou(),this.vu=!0,this.pu=new xt,this.mu=new xt,this.bu=new xt,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=r,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){Er(this.yo,e),this.Cu(),this.ku()}$h(e,n){var r;Er(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,r;return(r=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const r=ah(this.uu,this.q_.key(e),(i,s)=>this.q_.key(i.time)<s);return this.q_.key(e)<this.q_.key(this.uu[r].time)?n?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),r=Math.round(e.to),i=Y(this.Bu()),s=Y(this.Au());return{from:Y(this.Ui(Math.max(i,n))),to:Y(this.Ui(Math.min(s,r)))}}Iu(e){return{from:Y(this.Va(e.from,!0)),to:Y(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Su*e/r;this.Su=i}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const i=r-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!zc(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const r=this.Eu(),i=n===void 0?0:n.from,s=n===void 0?e.length:n.to;for(let o=i;o<s;o++){const a=e[o].ot,l=r+this.xu-a,u=this.__-(l+.5)*this.Su-1;e[o].nt=u}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=Y(this.Xs()),s=Math.max(i.Os(),i.Os()-r),o=Math.max(i.ui(),i.ui()-r),a=this.cu.su(e,n),l=this.Bu()+r,u=this.Au()-r,h=this.$u(),c=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let d=0;for(const p of a){if(!(s<=p.index&&p.index<=o))continue;let m;d<this.Mu.length?(m=this.Mu[d],m.coord=this.It(p.index),m.label=this.Uu(p),m.weight=p.weight):(m={needAlignCoordinate:!1,coord:this.It(p.index),label:this.Uu(p),weight:p.weight},this.Mu.push(m)),this.Su>n/2&&!h?m.needAlignCoordinate=!1:m.needAlignCoordinate=c&&p.index<=l||f&&p.index>=u,d++}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const r=this.Fu(e),i=this.le(),s=i+n*(i/10);this.Gn(s),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=hb(this.__-e,0,this.__),r=hb(this.__-Y(this.wo),0,this.__);n!==0&&r!==0&&this.Gn(this.wu.le*n/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=Y(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,i=performance.now();this.$i.Zn({Qu:s=>(s-i)/n>=1,tc:s=>{const o=(s-i)/n;return o>=1?e:r+(e-r)*o}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new Pu(e,n+this.cn.rightOffset))}lc(e){const n=new Pu(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),r=this.Eu()+this.xu-n;return Math.round(1e6*r)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(va.ou());const e=this.Eu(),n=this.__/this.Su,r=this.xu+e,i=new Pu(r-n+1,r);this._c(new va(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new Ave(r=>this.fc(r),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,xC(n.lu(),this.fu.lu())||this.pu.m(),xC(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const r=n.Os()-e;if(r<0){const i=this.xu-r-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class Ive{X(e,n,r){e.useMediaCoordinateSpace(i=>this.K(i,n,r))}gl(e,n,r){e.useMediaCoordinateSpace(i=>this.vc(i,n,r))}vc(e,n,r){}}class Lve extends Ive{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:r}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;n.font=o.R;const a=this.wc(n,o.Kt);a>r.width?o.Zu=r.width/a:o.Zu=1,i+=o.gc*o.Zu}let s=0;switch(this.zt.Mc){case"top":s=0;break;case"center":s=Math.max((r.height-i)/2,0);break;case"bottom":s=Math.max(r.height-i,0)}n.fillStyle=this.zt.V;for(const o of this.zt.bc){n.save();let a=0;switch(this.zt.xc){case"left":n.textAlign="left",a=o.gc/2;break;case"center":n.textAlign="center",a=r.width/2;break;case"right":n.textAlign="right",a=r.width-1-o.gc/2}n.translate(a,s),n.textBaseline="top",n.font=o.R,n.scale(o.Zu,o.Zu),n.fillText(o.Kt,0,o.Sc),n.restore(),s+=o.gc*o.Zu}}wc(e,n){const r=this.kc(e.font);let i=r.get(n);return i===void 0&&(i=e.measureText(n).width,r.set(n,i)),i}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class Dve{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new Lve(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Ga(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class zve extends Vx{constructor(e,n){super(),this.cn=n,this.wn=new Dve(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var pb,mb,vb,gb,yb;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(pb||(pb={}));class Fve{constructor(e,n,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new xt,this.Rc=new xt,this.Dc=null,this.Vc=e,this.cn=n,this.q_=r,this.Oc=new yme(this),this.yl=new Rve(this,n.timeScale,this.cn.localization,r),this.vt=new $me(this,n.crosshair),this.Bc=new Ove(n.crosshair),this.Ac=new zve(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Gt.es())}Uh(){this.Nc(Gt.ss())}oa(){this.Nc(new Gt(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){Er(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const r=this.Uc(e);r!==null&&(r.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const r=n.w_(e);if(r!==null)return{Ht:n,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new jve(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const r=e===void 0?this.yc.length-1:e,i=Gt.es();return i.Nn(r,{Fn:0,Wn:!0}),this.Nc(i),n}V_(e,n,r){e.V_(n,r)}O_(e,n,r){e.O_(n,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,r){n.Vo()||e.A_(n,r)}I_(e,n,r){n.Vo()||(e.I_(n,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const r=this.St();if(r.Ni()||n===0)return;const i=r.Hi();e=Math.max(1,Math.min(e,i)),r.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,r,i,s){this.vt.gn(e,n);let o=NaN,a=this.yl.Nu(e);const l=this.yl.Xs();l!==null&&(a=Math.min(Math.max(l.Os(),a),l.ui()));const u=i.vn(),h=u.Ct();h!==null&&(o=u.pn(n,h)),o=this.Bc.Oa(o,a,i),this.vt.kn(a,o,i),this.oa(),s||this.Rc.m(this.vt.xt(),{x:e,y:n},r)}ad(e,n,r){const i=r.vn(),s=i.Ct(),o=i.Rt(e,Y(s)),a=this.yl.Va(n,!0),l=this.yl.It(Y(a));this.ld(l,o,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),r=this.vt.Sn();this.ld(n,r,null,e)}this.vt.Vn()}_d(e,n,r){const i=this.yl.mn(0);n!==void 0&&r!==void 0&&this.yl.bt(n,r);const s=this.yl.mn(0),o=this.yl.Eu(),a=this.yl.Xs();if(a!==null&&i!==null&&s!==null){const l=a.Kr(o),u=this.q_.key(i)>this.q_.key(s),h=e!==null&&e>o&&!u,c=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=l&&(r!==void 0||c)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const d=e-o;this.yl.Jn(this.yl.Hu()-d)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(r=>r.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,r){const i=this.yc[0],s=this.fd(n,e,i,r);return this.Cc.push(s),this.Cc.length===1?this.Kl():this.Uh(),s}vd(e){const n=this.dr(e),r=this.Cc.indexOf(e);os(r!==-1,"Series not found"),this.Cc.splice(r,1),Y(n).Zo(e),e.S&&e.S()}Xl(e,n){const r=Y(this.dr(e));r.Zo(e);const i=this.Uc(n);if(i===null){const s=e.Xi();r.qo(e,n,s)}else{const s=i.Ht===r?e.Xi():void 0;i.Ht.qo(e,n,s)}}hc(){const e=Gt.ss();e.$n(),this.Nc(e)}pd(e){const n=Gt.ss();n.Yn(e),this.Nc(n)}Kn(){const e=Gt.ss();e.Kn(),this.Nc(e)}Gn(e){const n=Gt.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=Gt.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=Gt.ss();n.Zn(e),this.Nc(n)}Un(){const e=Gt.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,r=this.zc;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==n)this.Dc={Ps:r,Rs:n,wd:new Map};else{const s=this.Dc.wd.get(e);if(s!==void 0)return s}const i=function(s,o,a){const[l,u,h,c]=Dc(s),[f,d,p,m]=Dc(o),b=[Kn(l+a*(f-l)),Kn(u+a*(d-u)),Kn(h+a*(p-h)),dI(c+a*(m-c))];return`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`}(r,n,e/100);return this.Dc.wd.set(e,i),i}Gc(e,n){const r=new Gt(n);if(e!==null){const i=this.yc.indexOf(e);r.Nn(i,{Fn:n})}return r}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,r,i){const s=new Gx(this,e,n,r,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(s,o),Tm(o)||s.$h(e),s}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function cp(t){return!Ir(t)&&!oh(t)}function Zx(t){return Ir(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(mb||(mb={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(vb||(vb={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(gb||(gb={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(yb||(yb={}));const _C=t=>t.getUTCFullYear();function Bve(t,e,n){return e.replace(/yyyy/g,(r=>ni(_C(r),4))(t)).replace(/yy/g,(r=>ni(_C(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>ni((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>ni((i=>i.getUTCDate())(r),2))(t))}class AI{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return Bve(e,this.gd,this.Md)}}class Uve{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",ni(e.getUTCHours(),2)).replace("%m",ni(e.getUTCMinutes(),2)).replace("%s",ni(e.getUTCSeconds(),2))}}const Wve={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class Vve{constructor(e={}){const n=Object.assign(Object.assign({},Wve),e);this.Td=new AI(n.Sd,n.Cd),this.Pd=new Uve(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function sf(t){return 60*t*60*1e3}function ag(t){return 60*t*1e3}const of=[{Dd:(SC=1,1e3*SC),Vd:10},{Dd:ag(1),Vd:20},{Dd:ag(5),Vd:21},{Dd:ag(30),Vd:22},{Dd:sf(1),Vd:30},{Dd:sf(3),Vd:31},{Dd:sf(6),Vd:32},{Dd:sf(12),Vd:33}];var SC;function OC(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=of.length-1;n>=0;--n)if(Math.floor(e.getTime()/of[n].Dd)!==Math.floor(t.getTime()/of[n].Dd))return of[n].Vd;return 0}function lg(t){let e=t;if(oh(t)&&(e=Xx(t)),!cp(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function EC(t){if(!Zx(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Xx(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function kC(t){oh(t.time)&&(t.time=Xx(t.time))}class bb{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(kC)}(e):kC(e)}createConverterToInternalObj(e){return Y(function(n){return n.length===0?null:cp(n[0].time)||oh(n[0].time)?lg:EC}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return Zx(n=e)?EC(n):cp(n)?lg(n):lg(Xx(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new Vve({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new AI(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,n.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const u=s.Bd===void 0?new Date(1e3*s.Od):new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(Mve,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.Od,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const u=r[l],h=new Date(1e3*u.time.Od);o!==null&&(u.timeWeight=OC(h,o)),a+=u.time.Od-(s||u.time.Od),s=u.time.Od,o=h}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),u=new Date(1e3*(r[0].time.Od-l));r[0].timeWeight=OC(new Date(1e3*r[0].time.Od),u)}})(e,n)}static Id(e){return Er({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Za=typeof window<"u";function PC(){return!!Za&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ug(){return!!Za&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function wb(t){return t+t%2}function cg(t,e){return t.zd-e.zd}function hg(t,e,n){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),n)}class Hve{constructor(e,n,r,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=r,this.rs=i}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let r=0;const i=hg(this.Ld,this.Ed,this.Ud),s=cg(this.Ld,this.Ed),o=[i],a=[s];if(r+=s,this.Nd!==null){const u=hg(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(i)){const h=cg(this.Ed,this.Nd);if(o.push(u),a.push(h),r+=h,this.Fd!==null){const c=hg(this.Nd,this.Fd,this.Ud);if(Math.sign(c)===Math.sign(i)){const f=cg(this.Nd,this.Fd);o.push(c),a.push(f),r+=f}}}}let l=0;for(let u=0;u<o.length;++u)l+=a[u]/r*o[u];Math.abs(l)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=l,this.jd=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(l),this.qd))}tc(e){const n=Y(this.Wd),r=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-Y(this.Wd).ot;return Math.min(n,this.jd)}}class Kve{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return pI(Dc(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function co(t,e){const n=Y(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=rme(n,{options:{allowResizeObserver:!1},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function ho(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function xb(t,e,n,r){t.gl&&t.gl(e,n,r)}function kf(t,e,n,r){t.X(e,n,r)}function _b(t,e,n,r){const i=t(n,r);for(const s of i){const o=s.gt();o!==null&&e(o)}}function qve(t){Za&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Yx{constructor(e,n,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!ug(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const s=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(Tr(i),this.cf);o<30&&!this.wf&&this.Wf(s,this.Hf.jf),this.$f()}}else{const s=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(Tr(i),this.af);o<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=fg(e.changedTouches,Y(this.Of));if(n===null||(this.Vf=af(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(Tr(n),Y(this.pf)),{nv:i,sv:s,Nf:o}=r;if(this.mf||!(o<5)){if(!this.mf){const a=.5*i,l=s>=a&&!this.cn.ev(),u=a>s&&!this.cn.rv();l||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const a=this.Ef(e,n);this.Wf(a,this.Hf.hv),Do(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Tr(e),Y(this.vf)),{Nf:r}=n;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,n){const r=Math.abs(n.nt-e.nt),i=Math.abs(n.st-e.st);return{nv:r,sv:i,Nf:r+i}}ov(e){let n=fg(e.changedTouches,Y(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=af(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,n);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(Tr(n),this.cf);i<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&Do(e));this._f===0&&Do(e),e.touches.length===0&&this.ff&&(this.ff=!1,Do(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),PC()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(Tr(e),this.af);r<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=af(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Tr(n),this.yf&&(this.yf(),this.yf=null);{const s=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,n);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Tr(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;PC()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Tr(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),s=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",s)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",s)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Tr(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}ug()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),qve(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=CC(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),Do(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=CC(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!ug()}vv(e){const n=fg(e.touches,Y(this.Of));if(n===null)return;const r=this.Ef(e,n);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:af(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const r=n||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Do(e)}}}}function CC(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function Do(t){t.cancelable&&t.preventDefault()}function Tr(t){return{nt:t.pageX,st:t.pageY}}function af(t){return t.timeStamp||performance.now()}function fg(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function lf(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function Gve(t,e,n){for(const r of t){const i=r.gt();if(i!==null&&i.wr){const s=i.wr(e,n);if(s!==null)return{Bv:r,Iv:s}}}return null}function dg(t,e){return n=>{var r,i,s,o;return((i=(r=n.Dt())===null||r===void 0?void 0:r.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(s=n.da)===null||s===void 0?void 0:s.call(n,t))!==null&&o!==void 0?o:[]}}function $C(t,e,n,r){if(!t.length)return;let i=0;const s=n/2,o=t[0].At(r,!0);let a=e===1?s-(t[0].Vi()-o/2):t[0].Vi()-o/2-s;a=Math.max(0,a);for(let l=1;l<t.length;l++){const u=t[l],h=t[l-1],c=h.At(r,!1),f=u.Vi(),d=h.Vi();if(e===1?f>d-c:f<d+c){const p=d-c*e;u.Oi(p);const m=p-e*c/2;if((e===1?m<0:m>n)&&a>0){const b=e===1?-1-m:m-n,y=Math.min(b,a);for(let v=i;v<t.length;v++)t[v].Oi(t[v].Vi()+e*y);a-=y}}else i=l,a=e===1?d-c-f:f-(d+c)}}class TC{constructor(e,n,r,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Bc(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=r,this.qv=i==="left",this.Yv=dg("normal",i),this.Zv=dg("top",i),this.Xv=dg("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=co(this.Kv,rt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=co(this.Kv,rt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Yx(this.Jv.canvasElement,a,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ho(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ho(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),r=Y(this.Gv.canvasElement.getContext("2d"));r.save();const i=this.Li.Ha();r.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(r,i[0].so),this.Fv.xi(r,i[i.length-1].so)));const s=this.up();for(let u=s.length;u--;){const h=this.Fv.xi(r,s[u].Kt());h>e&&(e=h)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(a=this.cn.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const u=this.Li.pn(1,o),h=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}var a;r.restore();const l=e||34;return wb(Math.ceil(n.C+n.T+n.A+n.I+5+l))}cp(e){this.Ev!==null&&Zs(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return Y(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,Y(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=lo(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const n=lo(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,n.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp(),i=this.Li;n.O_(r,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,n.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Rn(this.tn.fp(),n);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.tn.fp().$t(),o=s.q(),a=s.bd();o===a?Cm(e,0,0,r,i,o):mI(e,0,0,r,i,o,a)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*r));let s;s=this.qv?n.width-i:0,e.fillRect(s,0,i,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),r=this.Li.W(),i=this.ap(),s=this.qv?this.Ev.width-i.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const u=Math.max(1,Math.floor(l)),h=Math.floor(.5*l),c=Math.round(i.T*a);o.beginPath();for(const f of n)o.rect(Math.floor(s*a),Math.round(f.Ea*l)-h,c,u);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var a;o.font=this._p(),o.fillStyle=(a=r.textColor)!==null&&a!==void 0?a:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const l=this.qv?Math.round(s-i.A):Math.round(s+i.T+i.A),u=n.map(h=>this.Fv.Mi(o,h.so));for(let h=n.length;h--;){const c=n[h];o.fillText(c.so,l,c.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),r=this.tn.fp(),i=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(o=>{r.vr(o)&&n.push(o)});const s=this.Li;n.forEach(o=>{o.Rn(r,s).forEach(a=>{a.Oi(null),a.Bi()&&e.push(a)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,n){if(this.Ev===null)return;const r=this.Ev.height/2,i=e.filter(o=>o.ki()<=r),s=e.filter(o=>o.ki()>r);i.sort((o,a)=>a.ki()-o.ki()),s.sort((o,a)=>o.ki()-a.ki());for(const o of e){const a=Math.floor(o.At(n)/2),l=o.ki();l>-a&&l<a&&o.Oi(a),l>this.Ev.height-a&&l<this.Ev.height+a&&o.Oi(this.Ev.height-a)}$C(i,1,this.Ev.height,n),$C(s,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),r=this.ap(),i=this.qv?"right":"left";n.forEach(s=>{s.Ai()&&s.gt(Y(this.Li)).X(e,r,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),r=[],i=this.tn.fp(),s=n.Zc().Rn(i,this.Li);s.length&&r.push(s);const o=this.ap(),a=this.qv?"right":"left";r.forEach(l=>{l.forEach(u=>{u.gt(Y(this.Li)).X(e,o,this.Fv,a)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Ga(this.ko.fontSize,this.ko.fontFamily)}}function Zve(t,e){var n,r;return(r=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function uf(t,e){var n,r;return(r=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function Xve(t,e){var n,r;return(r=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function Yve(t,e){var n,r;return(r=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}class Jx{constructor(e,n){this.Ev=rt({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new xt,this.Op=new xt,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=co(r,rt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=co(r,rt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Yx(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ho(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ho(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return Y(this.Np)}qp(e){var n,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Jx.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new Kve(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(Y(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(Y(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,r=e.localY;this.Gp(n,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const r=e.localX,i=e.localY;this.Gp(r,i,e);const s=this.wr(r,i);this.Qd.Qp((n=s==null?void 0:s.Lv)!==null&&n!==void 0?n:null),this.$i().jc(s&&{Hc:s.Hc,Iv:s.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const r=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=Y(this.Lp),s=i.x+(n-this.Ip.x),o=i.y+(r-this.Ip.y);this.Gp(s,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const r=this.Np;return r===null?null:function(i,s,o){const a=i.Uo(),l=function(u,h,c){var f,d;let p,m;for(const v of u){const g=(d=(f=v.va)===null||f===void 0?void 0:f.call(v,h,c))!==null&&d!==void 0?d:[];for(const O of g)b=O.zOrder,(!(y=p==null?void 0:p.zOrder)||b==="top"&&y!=="top"||b==="normal"&&y==="bottom")&&(p=O,m=v)}var b,y;return p&&m?{zv:p,Hc:m}:null}(a,s,o);if((l==null?void 0:l.zv.zOrder)==="top")return lf(l);for(const u of a){if(l&&l.Hc===u&&l.zv.zOrder!=="bottom"&&!l.zv.isBackground)return lf(l);const h=Gve(u.Pn(i),s,o);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(l&&l.Hc===u&&l.zv.zOrder!=="bottom"&&l.zv.isBackground)return lf(l)}return l!=null&&l.zv?lf(l):null}(r,e,n)}_m(e,n){Y(n==="left"?this.Cp:this.Tp).cp(rt({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Zs(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=Y(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const r=n.Dt();r!==null&&e.P_(r),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=lo(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(r,Zve),this.vm(r),this.pm(r),this.fm(r,uf),this.fm(r,Xve)))}this.Jv.applySuggestedBitmapSize();const n=lo(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.bm(n),this.fm(n,Yve))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const r=n.localX,i=n.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:i},n)}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.$i(),o=s.q(),a=s.bd();o===a?Cm(e,0,0,r,i,a):mI(e,0,0,r,i,o,a)}vm(e){const n=Y(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,uf,xb,n),this.Mm(e,uf,kf,n)}bm(e){this.Mm(e,uf,kf,this.$i().Zc())}fm(e,n){const r=Y(this.Np).Uo();for(const i of r)this.Mm(e,n,xb,i);for(const i of r)this.Mm(e,n,kf,i)}Mm(e,n,r,i){const s=Y(this.Np),o=s.$t().Wc(),a=o!==null&&o.Hc===i,l=o!==null&&a&&o.Iv!==void 0?o.Iv.Mr:void 0;_b(n,u=>r(u,e,a,l),i,s)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,r=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();n&&this.Cp===null&&(this.Cp=new TC(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new TC(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,r){this.$i().ld(this.Sm(e),this.km(n),r,Y(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,r){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,r);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),r=this.fp();if(n.z_(r,r.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const i=performance.now(),s=n.St();this.Ep.Vr(s.Hu(),i),this.Ep.Qu(i)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Y(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),r=n.St();if(r.Ni())return;const i=this.Qd.W(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Dv)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Dv))return;const a=this.Np.vn(),l=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:l,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const u=r.le();this.Ep=new Hve(.2/u,7/u,.997,15/u),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;a.Ni()||n.A_(this.Np,a,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(a.Ni()||n.I_(this.Np,a,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),l))}}class jC{constructor(e,n,r,i,s){this.ft=!0,this.Ev=rt({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=n,this.Tm=i,this.Pm=s,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=co(this.Kv,rt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ho(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Zs(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=lo(this.Gv);n!==null&&n.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const s=Math.floor(this.Oc.W().C*r),o=Math.floor(this.Oc.W().C*i),a=this.qv?n.width-s:0;e.fillRect(a,0,s,o)}mp({context:e,bitmapSize:n}){Cm(e,0,0,n.width,n.height,this.Pm())}}function Qx(t){return e=>{var n,r;return(r=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:[]}}const Jve=Qx("normal"),Qve=Qx("top"),ege=Qx("bottom");class tge{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=rt({width:0,height:0}),this.Om=new xt,this.Fv=new Bc(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=co(this.Im,rt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=co(this.Im,rt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Yx(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ho(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ho(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,r){Zs(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(rt({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(rt({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=lo(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(r,ege)}),this.wp(r),this.$m(r,Jve)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=lo(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,Qve))}$m(e,n){const r=this.Qd.$t().wt();for(const i of r)_b(n,s=>xb(s,e,!1,void 0),i,void 0);for(const i of r)_b(n,s=>kf(s,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:n}){Cm(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,n.width,i)}}wp(e){const n=this.Qd.$t().St(),r=n.Ha();if(!r||r.length===0)return;const i=this.q_.maxTickMarkWeight(r),s=this.jm(),o=n.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:u})=>{a.strokeStyle=this.qm(),a.fillStyle=this.qm();const h=Math.max(1,Math.floor(l)),c=Math.floor(.5*l);a.beginPath();const f=Math.round(s.T*u);for(let d=r.length;d--;){const p=Math.round(r[d].coord*l);a.rect(p-c,0,h,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.C+s.T+s.L+s.P/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.$(),a.font=this._p();for(const u of r)if(u.weight<i){const h=u.needAlignCoordinate?this.Ym(a,u.coord,u.label):u.coord;a.fillText(u.label,h,l)}this.Qd.W().timeScale.allowBoldLabels&&(a.font=this.Zm());for(const u of r)if(u.weight>=i){const h=u.needAlignCoordinate?this.Ym(a,u.coord,u.label):u.coord;a.fillText(u.label,h,l)}})}Ym(e,n,r){const i=this.Fv.xi(e,r),s=i/2,o=Math.floor(n-s)+.5;return o<0?n+=Math.abs(0-o):o+i>this.Ev.width&&(n-=Math.abs(this.Ev.width-(o+i))),n}Um(e,n){const r=this.jm();for(const i of e)for(const s of i.Qi())s.gt().X(n,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Ga(this.j(),this.cn.fontFamily)}Zm(){return Ga(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Bc,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const r=this.j();e.P=r,e.R=n,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},i=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,s=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new jC("left",n,r,i,s),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new jC("right",n,r,i,s),this.Am.appendChild(this.Dm.lp()))}}const nge=!!Za&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Za&&(!((pg=navigator==null?void 0:navigator.userAgentData)===null||pg===void 0)&&pg.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var pg;class rge{constructor(e,n,r){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new xt,this.Op=new xt,this.Rc=new xt,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),mg(this.cn)&&this.hb(!0),this.$i=new Fve(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new tge(this,this.q_),this.sb.appendChild(this.ab.lp());const s=n.autoSize&&this.ob();let o=this.cn.width,a=this.cn.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this._b(o,a),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],Y(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,r=!1){if(this.ho===n&&this.__===e)return;const i=function(a){const l=Math.floor(a.width),u=Math.floor(a.height);return rt({width:l-l%2,height:u-u%2})}(rt({width:e,height:n}));this.ho=i.height,this.__=i.width;const s=this.ho+"px",o=this.__+"px";Y(this.Xd).style.height=s,Y(this.Xd).style.width=o,this.sb.style.height=s,this.sb.style.width=o,r?this.mb(Gt.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Gt.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=mg(this.cn);this.$i.$h(e);const r=mg(this.cn);r!==n&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=Y(n.getContext("2d"));return this.gb(r),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:Y(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return pn(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,r=0;const i=this.Xm[0],s=(a,l)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const c=this.Xm[h],f=Y(a==="left"?c.wm():c.gm()),d=f.xp();e!==null&&f.Sp(e,l,u),u+=d.height}};this.xb()&&(s("left",0),n+=Y(i.wm()).xp().width);for(let a=0;a<this.Xm.length;a++){const l=this.Xm[a],u=l.xp();e!==null&&l.Sp(e,n,r),r+=u.height}n+=i.xp().width,this.Sb()&&(s("right",n),n+=Y(i.gm()).xp().width);const o=(a,l,u)=>{Y(a==="left"?this.ab.Lm():this.ab.Em()).Sp(Y(e),l,u)};if(this.cn.timeScale.visible){const a=this.ab.xp();if(e!==null){let l=0;this.xb()&&(o("left",l,r),l=Y(i.wm()).xp().width),this.ab.Sp(e,l,r),l+=a.width,this.Sb()&&o("right",l,r)}r+=a.height}return rt({width:n,height:r})}Pb(){let e=0,n=0,r=0;for(const p of this.Xm)this.xb()&&(n=Math.max(n,Y(p.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,Y(p.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=p.M_();n=wb(n),r=wb(r);const i=this.__,s=this.ho,o=Math.max(i-n-r,0),a=this.cn.timeScale.visible;let l=a?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;l=(u=l)+u%2;const h=0+l,c=s<h?0:s-h,f=c/e;let d=0;for(let p=0;p<this.Xm.length;++p){const m=this.Xm[p];m.qp(this.$i.qc()[p]);let b=0,y=0;y=p===this.Xm.length-1?c-d:Math.round(m.M_()*f),b=Math.max(y,2),d+=b,m.cp(rt({width:o,height:b})),this.xb()&&m._m(n,"left"),this.Sb()&&m._m(r,"right"),m.fp()&&this.$i.Kc(m.fp(),b)}this.ab.Fm(rt({width:a?o:0,height:l}),a?n:0,a?r:0),this.$i.S_(o),this.Gm!==n&&(this.Gm=n),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return nge?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,s)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,n){var r;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(s=>{s.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const r of e.Qn())this.ns(r,n)}Vb(e){const n=this.$i.qc();for(let r=0;r<n.length;r++)e.Hn(r).Wn&&n[r].N_()}ns(e,n){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(n)||r.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,n);for(const i of r.Qn())if(i.qn===5&&!i.Vt.Qu(n)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,r=this.Xm.length;for(let i=n;i<r;i++){const s=pn(this.Xm.pop());this.sb.removeChild(s.lp()),s.lm().p(this),s.am().p(this),s.S()}for(let i=r;i<n;i++){const s=new Jx(this,e[i]);s.lm().l(this.Bb.bind(this),this),s.am().l(this.Ab.bind(this),this),this.Xm.push(s),this.sb.insertBefore(s.lp(),this.ab.lp())}for(let i=0;i<n;i++){const s=e[i],o=this.Xm[i];o.fp()!==s?o.qp(s):o.Up()}this.cb(),this.Pb()}Ib(e,n,r){var i;const s=new Map;e!==null&&this.$i.wt().forEach(h=>{const c=h.In().ll(e);c!==null&&s.set(h,c)});let o;if(e!==null){const h=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;h!==void 0&&(o=h)}const a=this.$t().Wc(),l=a!==null&&a.Hc instanceof Gx?a.Hc:void 0,u=a!==null&&a.Iv!==void 0?a.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:n??void 0,Eb:l,Nb:s,Fb:u,Wb:r??void 0}}Bb(e,n,r){this.Vp.m(()=>this.Ib(e,n,r))}Ab(e,n,r){this.Op.m(()=>this.Ib(e,n,r))}lb(e,n,r){this.Rc.m(()=>this.Ib(e,n,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(r=>r.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function mg(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function ige(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function NI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function AC(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.color!==void 0&&(s.V=n.color),s}function sge(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.lineColor!==void 0&&(s.lt=n.lineColor),n.topColor!==void 0&&(s.Ps=n.topColor),n.bottomColor!==void 0&&(s.Rs=n.bottomColor),s}function oge(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.topLineColor!==void 0&&(s.Re=n.topLineColor),n.bottomLineColor!==void 0&&(s.De=n.bottomLineColor),n.topFillColor1!==void 0&&(s.ke=n.topFillColor1),n.topFillColor2!==void 0&&(s.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(s.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(s.Te=n.bottomFillColor2),s}function age(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),i}function lge(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),n.borderColor!==void 0&&(i.Ot=n.borderColor),n.wickColor!==void 0&&(i.Xh=n.wickColor),i}function uge(t,e,n,r,i){const s=pn(i)(n),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],u=[l,o,a,l],h=n,{time:c,color:f}=h;return{ee:e,ot:t,Vt:u,zb:r,$e:NI(h,["time","color"]),V:f}}function cf(t){return t.Vt!==void 0}function NC(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function Ss(t){return(e,n,r,i,s,o)=>function(a,l){return l?l(a):(u=a).open===void 0&&u.value===void 0;var u}(r,o)?NC({ot:e,ee:n,zb:i},r):NC(t(e,n,r,i,s),r)}function MC(t){return{Candlestick:Ss(lge),Bar:Ss(age),Area:Ss(sge),Baseline:Ss(oge),Histogram:Ss(AC),Line:Ss(AC),Custom:Ss(uge)}[t]}function RC(t){return{ee:0,Hb:new Map,la:t}}function IC(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function LC(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),pn(e)}class cge{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let r=this.qb.size!==0,i=!1;const s=this.Yb.get(e);if(s!==void 0)if(this.Yb.size===1)r=!1,i=!0,this.qb.clear();else for(const l of this.Xb)l.pointData.Hb.delete(e)&&(i=!0);let o=[];if(n.length!==0){const l=n.map(d=>d.time),u=this.q_.createConverterToInternalObj(n),h=MC(e.Qh()),c=e.Ca(),f=e.Ta();o=n.map((d,p)=>{const m=u(d.time),b=this.q_.key(m);let y=this.qb.get(b);y===void 0&&(y=RC(m),this.qb.set(b,y),i=!0);const v=h(m,y.ee,d,l[p],c,f);return y.Hb.set(e,v),v})}r&&this.Gb(),this.Jb(e,o);let a=-1;if(i){const l=[];this.qb.forEach(u=>{l.push({timeWeight:0,time:u.la,pointData:u,originalTime:LC(u.Hb)})}),l.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),a=this.Qb(l)}return this.tw(e,a,function(l,u,h){const c=IC(l,h),f=IC(u,h);if(c!==void 0&&f!==void 0)return{ta:c.Ub>=f.Ub&&c.$b>=f.$b}}(this.Yb.get(e),s,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const r=n;(function(m){m.zb===void 0&&(m.zb=m.time)})(r),this.q_.preprocessData(n);const i=this.q_.createConverterToInternalObj([n])(n.time),s=this.Zb.get(e);if(s!==void 0&&this.q_.key(i)<this.q_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const a=o===void 0;o===void 0&&(o=RC(i),this.qb.set(this.q_.key(i),o));const l=MC(e.Qh()),u=e.Ca(),h=e.Ta(),c=l(i,o.ee,n,r.zb,u,h);o.Hb.set(e,c),this.nw(e,c);const f={ta:cf(c)};if(!a)return this.tw(e,-1,f);const d={timeWeight:0,time:o.la,pointData:o,originalTime:LC(o.Hb)},p=ah(this.Xb,this.q_.key(d.time),(m,b)=>this.q_.key(m.time)<b);this.Xb.splice(p,0,d);for(let m=p;m<this.Xb.length;++m)vg(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,p),this.tw(e,p,f)}nw(e,n){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.q_.key(n.ot)>this.q_.key(i.ot)?cf(n)&&r.push(n):cf(n)?r[r.length-1]=n:r.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(cf)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const i=this.Xb[r],s=e[r];if(this.q_.key(i.time)!==this.q_.key(s.time)){n=r;break}s.timeWeight=i.timeWeight,vg(s.pointData,r)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)vg(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,r){const i={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((s,o)=>{i.ew.set(o,{$e:s,rw:o===e?r:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:r}),i.St.hw=this.Xb,i.St.lw=n;else{const s=this.Yb.get(e);i.ew.set(e,{$e:s||[],rw:r})}return i}}function vg(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function e_(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function DC(t){const e=e_(t);return t.V!==void 0&&(e.color=t.V),e}function hge(t){const e=e_(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function fge(t){const e=e_(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function MI(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function dge(t){const e=MI(t);return t.V!==void 0&&(e.color=t.V),e}function pge(t){const e=MI(t),{V:n,Ot:r,Xh:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function Sb(t){return{Area:hge,Line:DC,Baseline:fge,Histogram:DC,Bar:dge,Candlestick:pge,Custom:mge}[t]}function mge(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const vge={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},gge={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},yge={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ux,attributionLogo:!0},gg={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},bge={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},wge={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ux,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function zC(){return{width:0,height:0,autoSize:!1,layout:yge,crosshair:vge,grid:gge,overlayPriceScales:Object.assign({},gg),leftPriceScale:Object.assign(Object.assign({},gg),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},gg),{visible:!0}),timeScale:bge,watermark:wge,localization:{locale:Za?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class xge{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Tm(this.ow)?this.aw.Mb(this.ow):0}Li(){return Y(this.aw.$t().Uc(this.ow)).Dt}}function FC(t,e,n){const r=NI(t,["time","originalTime"]),i=Object.assign({time:e},r);return n!==void 0&&(i.originalTime=n),i}const _ge={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Sge{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class Oge{constructor(e,n,r,i,s){this.uw=new xt,this.Es=e,this.cw=n,this.dw=r,this.q_=s,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new va(new Pu(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const i=r.ll(n.Os(),1),s=r.ll(n.ui(),-1),o=Y(r.el()),a=Y(r.An());if(i!==null&&s!==null&&i.ee>s.ee)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:s===null||s.ee===a?a-e.to:a-s.ee};return i!==null&&s!==null&&(l.from=i.zb,l.to=s.zb),l}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const r=this.Es.In().ll(e,n);return r===null?null:Sb(this.seriesType())(r)}data(){const e=Sb(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(r=>FC(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>FC(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return ti(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=Er(ti(_ge),e),r=this.Es.ea(n);return new Sge(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class Ege{constructor(e,n,r){this.ww=new xt,this.mu=new xt,this.Om=new xt,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(n);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){os(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(n,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const n=this.$i.St(),r=n.Nu(e),i=n.Ui(r);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},ti(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function kge(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return r;n*=10}return r}(e.minMove))}function BC(t){return function(e){if(ef(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;ef(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),ef(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;ef(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class Pge{constructor(e,n,r){this.Sw=new Map,this.kw=new Map,this.yw=new xt,this.Cw=new xt,this.Tw=new xt,this.Pw=new cge(n);const i=r===void 0?ti(zC()):Er(ti(zC()),BC(r));this.q_=n,this.aw=new rge(e,i,n),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const s=this.aw.$t();this.Dw=new Ege(s,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,r){this.autoSizeActive()||this.aw._b(e,n,r)}addCustomSeries(e,n){const r=sa(e),i=Object.assign(Object.assign({},cI),r.defaultOptions());return this.Vw("Custom",i,n,r)}addAreaSeries(e){return this.Vw("Area",cme,e)}addBaselineSeries(e){return this.Vw("Baseline",hme,e)}addBarSeries(e){return this.Vw("Bar",lme,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",ame,e)}addHistogramSeries(e){return this.Vw("Histogram",fme,e)}addLineSeries(e){return this.Vw("Line",ume,e)}removeSeries(e){const n=pn(this.Sw.get(e)),r=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(r),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new xge(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(BC(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,r){const i=this.Sw.get(r);if(i===void 0)return;const s=this.aw.$t().dr(i);s!==null&&this.aw.$t().ad(e,n,s)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,r={},i){kge(r.priceFormat);const s=Er(ti(hI),ti(n),r),o=this.aw.$t().dd(e,s,i),a=new Oge(o,this,this,this,this.q_);return this.Sw.set(a,o),this.kw.set(o,a),a}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,i)=>i.J(r.$e,r.rw)),n.Wu()}Bw(e){return pn(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((i,s)=>{const o=s.Qh(),a=Sb(o)(i);if(o!=="Custom")os(ige(a));else{const l=s.Ta();os(!l||l(a)===!1)}n.set(this.Bw(s),a)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function RI(t,e,n){let r;if(oh(t)){const s=document.getElementById(t);os(s!==null,`Cannot find element in DOM with id=${t}`),r=s}else r=t;const i=new Pge(r,e,n);return e.setOptions(i.options()),i}function II(t,e){return RI(t,new bb,bb.Id(e))}function Cge(){return bb}const $ge=Object.assign(Object.assign({},hI),cI);function Tge(){return"4.2.3"}const jge=Object.freeze(Object.defineProperty({__proto__:null,get ColorType(){return gb},get CrosshairMode(){return cb},get LastPriceAnimationMode(){return mb},get LineStyle(){return ap},get LineType(){return ub},get MismatchDirection(){return fb},get PriceLineSource(){return vb},get PriceScaleMode(){return db},get TickMarkType(){return yb},get TrackingModeExitMode(){return pb},createChart:II,createChartEx:RI,customSeriesDefaultOptions:$ge,defaultHorzScaleBehavior:Cge,isBusinessDay:cp,isUTCTimestamp:Zx,version:Tge},Symbol.toStringTag,{value:"Module"}));function Age({symbol:t,entry:e,stop:n,take:r,exit:i,interval:s="15m",limit:o=400}){const a=C.useRef(null),l=C.useRef(null),u=C.useRef(null),[h,c]=C.useState([]);return C.useEffect(()=>{if(!a.current)return;const f=II(a.current,{width:a.current.clientWidth,height:420,layout:{textColor:"#E5E7EB",background:{color:"#111827"}},grid:{horzLines:{color:"#1F2937"},vertLines:{color:"#1F2937"}},rightPriceScale:{borderColor:"#374151"},timeScale:{borderColor:"#374151"}}),d=f.addCandlestickSeries({upColor:"#34D399",downColor:"#EF4444",borderVisible:!1,wickUpColor:"#34D399",wickDownColor:"#EF4444"});l.current=f,u.current=d;const p=()=>{!a.current||!l.current||l.current.applyOptions({width:a.current.clientWidth})};return window.addEventListener("resize",p),f._disposeHandler=()=>window.removeEventListener("resize",p),()=>{var m,b,y,v;try{(b=(m=l.current)==null?void 0:m._disposeHandler)==null||b.call(m),(v=(y=l.current)==null?void 0:y.remove)==null||v.call(y)}catch{}l.current=null,u.current=null}},[]),C.useEffect(()=>{(async()=>{try{const f=await xu(t,s,o);c(f)}catch{}})()},[t,s,o]),C.useEffect(()=>{var m;const f=u.current;if(!f||h.length===0)return;f.setData(h.map(b=>({time:b.time/1e3,open:b.open,high:b.high,low:b.low,close:b.close}))),(m=l.current)==null||m.timeScale().fitContent();const d=[],p=(b,y,v)=>{if(b==null)return;const g=f.createPriceLine({price:b,color:y,lineStyle:ap.Solid,lineWidth:1,title:v});d.push(g)};return p(e??void 0,"#3B82F6","Entry"),p(n??void 0,"#EF4444","SL"),p(r??void 0,"#10B981","TP"),p(i??void 0,"#F59E0B","Exit"),()=>{try{d.forEach(b=>{var y;return(y=f.removePriceLine)==null?void 0:y.call(f,b)})}catch{}}},[h,e,n,r,i]),w.jsx("div",{ref:a,className:"w-full"})}const UC="AIzaSyDH8k7kWXqOwq0vWgFnAVgXb3j8s4wMOeo".trim();function Nge(){if(!UC)throw new Error("Missing VITE_GEMINI_API_KEY. Set it in .env.local and restart the dev server.");const t=new LR(UC),e={temperature:.4,maxOutputTokens:900,responseMimeType:"text/plain"},n=[];return t.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:e,safetySettings:n})}async function Mge(t){const e=Nge(),r=["   .      ."," , ,   .","    :","- ","-  /","-  / (R:R)     ","-   (, , ,  ,  )","-    ","- -   ","","  (JSON):",JSON.stringify(t,null,2)].join(`
`);return(await e.generateContent({contents:[{role:"user",parts:[{text:r}]}]})).response.text()}function Rge(){const{id:t}=yz(),[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState("15m"),[a,l]=C.useState(!1),[u,h]=C.useState(null);if(C.useEffect(()=>{(async()=>{i(!0);const{data:f,error:d}=await yt.from("trades").select("*").eq("id",t).single();!d&&f&&n(f),i(!1)})()},[t]),r)return w.jsx("div",{className:"text-gray-400",children:"Loading..."});if(!e)return w.jsx("div",{className:"text-gray-400",children:"Trade not found"});const c=e.image_urls||(e.image_url?[e.image_url]:[]);return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("h1",{className:"text-xl font-semibold",children:[e.symbol,"  ",e.side]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(on,{onClick:async()=>{l(!0);try{const f=await Mge(e);h(f)}finally{l(!1)}},children:a?"AI...":"AI Analysis"}),w.jsx(hr,{to:"/",children:w.jsx(on,{variant:"secondary",children:"Back"})})]})]}),w.jsx(Fi,{children:w.jsxs(Bi,{children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"font-semibold",children:[e.symbol," ",s]}),w.jsx("div",{className:"flex gap-2 text-sm",children:["1m","5m","15m","1h","4h"].map(f=>w.jsx("button",{onClick:()=>o(f),className:`px-2 py-1 rounded ${s===f?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:f},f))})]}),w.jsx(Age,{symbol:e.symbol,entry:e.entry,stop:e.stop??null,take:e.take??null,exit:e.exit??null,interval:s})]})}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[w.jsxs(Fi,{className:"lg:col-span-2",children:[w.jsx(mu,{children:w.jsx("div",{className:"font-semibold",children:"Details"})}),w.jsxs(Bi,{children:[w.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Symbol"}),w.jsx("div",{children:e.symbol})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Side"}),w.jsx("div",{children:e.side})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Date"}),w.jsx("div",{children:new Date(e.date).toLocaleString()})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Entry"}),w.jsx("div",{children:e.entry})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Exit"}),w.jsx("div",{children:e.exit??"-"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"SL"}),w.jsx("div",{children:e.stop??"-"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"TP"}),w.jsx("div",{children:e.take??"-"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Risk %"}),w.jsx("div",{children:e.risk_pct??"-"})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-gray-400",children:"Size"}),w.jsx("div",{children:e.size??"-"})]})]}),e.reason&&w.jsxs("div",{className:"mt-4",children:[w.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Reason"}),w.jsx("div",{className:"bg-gray-800 rounded p-3 text-sm",children:e.reason})]}),e.notes&&w.jsxs("div",{className:"mt-4",children:[w.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Notes"}),w.jsx("div",{className:"bg-gray-800 rounded p-3 text-sm",children:e.notes})]})]})]}),w.jsxs(Fi,{children:[w.jsx(mu,{children:w.jsx("div",{className:"font-semibold",children:"Screenshots"})}),w.jsx(Bi,{children:c.length===0?w.jsx("div",{className:"text-sm text-gray-400",children:"No screenshots"}):w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map((f,d)=>w.jsx("a",{href:f,target:"_blank",rel:"noreferrer",children:w.jsx("img",{src:f,alt:"screenshot",className:"w-full h-40 object-cover rounded"})},d))})})]}),u&&w.jsxs(Fi,{children:[w.jsx(mu,{children:w.jsx("div",{className:"font-semibold",children:"AI "})}),w.jsx(Bi,{children:w.jsx("div",{className:"whitespace-pre-wrap text-sm leading-6 text-right",dir:"rtl",lang:"he",children:u})})]})]})]})}const yg="trading_checklist_v3_he";function WC(){return[{id:"trend-structure",title:"1.  ",items:[{id:"trend-rt",text:"   + ?     ?",checked:!1}]},{id:"fibonacci",title:"2. ",items:[{id:"fib-0618",text:"  0.618/0.786   (//).",checked:!1}]},{id:"pattern",title:"3.  ",items:[{id:"pattern-confirm",text:" /     (: RSI/).",checked:!1}]},{id:"risk",title:"4.  ",items:[{id:"risk-rr",text:"R/R  2.5,   ,  <1% .",checked:!1}]},{id:"execution",title:"5. ",items:[{id:"execution-confirm",text:"   ( SL   ), SL+TP  .",checked:!1}]},{id:"management",title:"6.   ",items:[{id:"management-be",text:" BE R=1,   ,     R/R .",checked:!1}]}]}function Ige(){const t=Cp(),[e,n]=C.useState(()=>{try{const l=window.localStorage.getItem(yg);if(l)return JSON.parse(l)}catch{}return WC()});C.useEffect(()=>{try{window.localStorage.setItem(yg,JSON.stringify(e))}catch{}},[e]);const r=C.useMemo(()=>e.reduce((l,u)=>l+u.items.length,0),[e]),i=C.useMemo(()=>e.reduce((l,u)=>l+u.items.filter(h=>h.checked).length,0),[e]),s=i===r&&r>0,o=(l,u)=>{n(h=>h.map(c=>c.id!==l?c:{...c,items:c.items.map(f=>f.id===u?{...f,checked:!f.checked}:f)}))},a=()=>n(WC());return w.jsxs("div",{className:"space-y-6 text-right",dir:"rtl",lang:"he",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-xl font-semibold",children:"- "}),w.jsxs("div",{className:"text-sm text-gray-400",children:[i,"/",r," "]})]}),e.map(l=>w.jsxs(Fi,{children:[w.jsx(mu,{children:w.jsx("div",{className:"font-semibold",children:l.title})}),w.jsx(Bi,{children:w.jsx("div",{className:"space-y-2",children:l.items.map(u=>w.jsxs("label",{className:"flex items-start gap-3",children:[w.jsx("input",{type:"checkbox",className:"mt-1 accent-blue-500",checked:u.checked,onChange:()=>o(l.id,u.id)}),w.jsx("span",{children:u.text})]},u.id))})})]},l.id)),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(on,{variant:"secondary",onClick:a,children:""}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(on,{variant:"ghost",onClick:()=>t(-1),children:""}),w.jsx(on,{disabled:!s,onClick:()=>{window.localStorage.removeItem(yg),t("/")},children:""})]})]})]})}const Lge=zz([{path:"/",element:w.jsx(n3,{}),children:[{index:!0,element:w.jsx(f3,{})},{path:"stats",element:w.jsx(Gue,{})},{path:"sage",element:w.jsx(Xpe,{})},{path:"cross",element:w.jsx(Ype,{})},{path:"bot",element:w.jsx(Qpe,{})},{path:"checklist",element:w.jsx(Ige,{})},{path:"trades/:id",element:w.jsx(Rge,{})}]}]);bg.createRoot(document.getElementById("root")).render(w.jsx(M.StrictMode,{children:w.jsx(vU,{children:w.jsx(Gz,{router:Lge})})}));
